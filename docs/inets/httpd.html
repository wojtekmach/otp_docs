<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.25.1">
    <meta name="project" content="inets v7.4.1">

    <title>httpd â€” inets v7.4.1</title>
    <link rel="stylesheet" href="dist/erlang-951161c89561e05735a5.css" />

    <script src="dist/sidebar_items-834651ac0c.js"></script>

      <script src="docs_config.js"></script>

    <script async src="dist/app-f97730d45ef67f3e6188.js"></script>


  </head>
  <body data-type="modules">
    <script>

      try {
        if (localStorage.getItem('night-mode') === 'true') {
          document.body.classList.add('night-mode');
        }
      } catch (error) { }
    </script>

<div class="main">

<button class="sidebar-button sidebar-toggle">
  <span class="icon-menu" title="Collapse/expand sidebar"></span>
</button>

<section class="sidebar">
  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button" aria-label="Submit Search">
      <span class="icon-search" aria-hidden="true" title="Submit search"></span>
    </button>
    <button type="button" tabindex="-1" class="search-close-button" aria-label="Cancel Search">
      <span class="icon-cross" aria-hidden="true" title="Cancel search"></span>
    </button>
    <label class="search-label">
      <input name="q" type="text" class="search-input" placeholder="Search..." aria-label="Input your search terms" autocomplete="off" />
    </label>
  </form>

  <div class="autocomplete">
    <div class="autocomplete-results">
    </div>
  </div>

  <div class="sidebar-header">
    <div class="sidebar-projectDetails">
      <a href="api-reference.html" class="sidebar-projectName">
inets
      </a>
      <strong class="sidebar-projectVersion">
        v7.4.1
      </strong>
    </div>

  </div>

  <ul class="sidebar-listNav">
    <li><a id="extras-list-link" href="#full-list">Pages</a></li>

      <li><a id="modules-list-link" href="#full-list">Modules</a></li>


  </ul>
  <div class="gradient"></div>
  <ul id="full-list" class="sidebar-fullList"></ul>
</section>

<section class="content">
  <div class="content-outer">
    <div id="content" class="content-inner">

      <h1>
httpd <small class="app-vsn">(inets v7.4.1)</small>

      </h1>


        <section id="moduledoc">
<p>An implementation of an HTTP 1.1 compliant web server, as defined in <a href="http://www.ietf.org/rfc/rfc2616.txt">RFC 2616</a>. Provides web server start options, administrative functions, and an Erlang callback API.</p><h2 id="module-data-types" class="section-heading">
  <a href="#module-data-types" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  DATA TYPES
</h2>
<p>Type definitions that are used more than once in this module:</p><p><code>boolean() = true | false</code></p><p><code>string()</code> = list of ASCII characters</p><p><code>path() = string()</code> representing a file or a directory path</p><p><code>ip_address() = {N1,N2,N3,N4} % IPv4 | {K1,K2,K3,K4,K5,K6,K7,K8} % IPv6</code></p><p><code>hostname() = string()</code> representing a host, for example, &quot;foo.bar.com&quot;</p><p><code>property() = atom()</code></p><h2 id="module-erlang-http-server-service-start-stop" class="section-heading">
  <a href="#module-erlang-http-server-service-start-stop" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  ERLANG HTTP SERVER SERVICE START/STOP
</h2>
<p>A web server can be configured to start when starting the <code>Inets</code> application, or dynamically in runtime by calling the <code>Inets</code> application API <code>inets:start(httpd, ServiceConfig)</code> or <code>inets:start(httpd, ServiceConfig, How)</code>, see <a href="inets.html">inets(3)</a>. The configuration options, also called properties, are as follows:</p><a id="props_file"></a><p><em>File Properties</em></p><p>When the web server is started at application start time, the properties are to be fetched from a configuration file that can consist of a regular Erlang property list, that is, <code>[{Option, Value}]</code>, where <code>Option = property() </code>and <code>Value = term()</code>, followed by a full stop. If the web server is started dynamically at runtime, a file can still be specified but also the complete property list.</p><dl><dt><a id="prop_proplist_file"></a>{proplist_file, path()}</dt><dd><p>If this property is defined, <code>Inets</code> expects to find all other properties defined in this file. The file must include all properties listed under mandatory properties.</p></dd></dl><div class="note"><p>Note support for legacy configuration file with Apache syntax is dropped in OTP-23.</p></div><a id="props_mand"></a><p><em>Mandatory Properties</em></p><dl><dt><a id="prop_port"></a>{port, integer()}</dt><dd><p>The port that the HTTP server listen to. If zero is specified as port, an arbitrary available port is picked and function <code>httpd:info/2</code> can be used to determine which port was picked.</p></dd><dt><a id="prop_server_name"></a>{server_name, string()}</dt><dd><p>The name of your server, normally a fully qualified domain name.</p></dd><dt><a id="prop_server_root"></a>{server_root, path()}</dt><dd><p>Defines the home directory of the server, where log files, and so on, can be stored. Relative paths specified in other properties refer to this directory.</p></dd><dt><a id="prop_doc_root"></a>{document_root, path()}</dt><dd><p>Defines the top directory for the documents that are available on the HTTP server.</p></dd></dl><a id="props_comm"></a><p><em>Communication Properties</em></p><dl><dt><a id="prop_bind_address"></a>{bind_address, ip_address() | hostname() | any}</dt><dd><p>Default is <code>any</code></p></dd><dt><a id="profile"></a>{profile, atom()}</dt><dd><p>Used together with <a href="httpd.html#content#prop_bind_address"><code>bind_address</code></a> and <a href="httpd.html#content#prop_port"><code>port</code></a> to uniquely identify a HTTP server. This can be useful in a virtualized environment, where there can be more that one server that has the same bind_address and port. If this property is not explicitly set, it is assumed that the <a href="httpd.html#content#prop_bind_address"><code>bind_address</code></a> and <a href="httpd.html#content#prop_port"><code>port</code></a> uniquely identifies the HTTP server.</p></dd><dt><a id="prop_socket_type"></a>{socket_type, ip_comm | {ip_comm, Config::proplist()} | {essl, Config::proplist()}}</dt><dd><p>For <code>ip_comm</code> configuration options, see <a href="https://wojtekmach.pl/otp_docs/kernel/gen_tcp.html#listen/2">gen_tcp:listen/2</a>, some options that are used internally by httpd cannot be set.</p><p>For <code>SSL</code> configuration options, see <a href="https://wojtekmach.pl/otp_docs/ssl/ssl.html#listen/2">ssl:listen/2</a>.</p><p>Default is <code>ip_comm</code>.</p></dd><dt><a id="prop_ipfamily"></a>{ipfamily, inet | inet6}</dt><dd><p>Default is <code>inet</code>, legacy option <code>inet6fb4</code> no longer makes sense and will be translated to inet.</p></dd><dt><a id="prop_minimum_bytes_per_second"></a>{minimum_bytes_per_second, integer()}</dt><dd><p>If given, sets a minimum of bytes per second value for connections.</p><p>If the value is unreached, the socket closes for that connection.</p><p>The option is good for reducing the risk of &quot;slow DoS&quot; attacks.</p></dd></dl><a id="props_api_modules"></a><p><em>Erlang Web Server API Modules</em></p><dl><dt><a id="prop_modules"></a>{modules, [atom()]}</dt><dd><p>Defines which modules the HTTP server uses when handling requests. Default is <code>[mod_alias, mod_auth, mod_esi, mod_actions, mod_cgi, mod_dir, mod_get, mod_head, mod_log, mod_disk_log]</code>. Notice that some <code>mod</code>-modules are dependent on others, so the order cannot be entirely arbitrary. See the Inets Web Server Modules in the User's Guide for details.</p></dd></dl><a id="props_limit"></a><p><em>Limit properties</em></p><dl><dt><a id="prop_customize"></a>{customize, atom()}</dt><dd><p>A callback module to customize the inets HTTP servers behaviour see <a href="httpd_custom_api.html">httpd_custom_api</a></p></dd><dt><a id="prop_disable_chunked_encoding"></a>{disable_chunked_transfer_encoding_send, boolean()}</dt><dd><p>Allows you to disable chunked transfer-encoding when sending a response to an HTTP/1.1 client. Default is <code>false</code>.</p></dd><dt><a id="prop_keep_alive"></a>{keep_alive, boolean()}</dt><dd><p>Instructs the server whether to use persistent connections when the client claims to be HTTP/1.1 compliant. Default is <code>true</code>.</p></dd><dt><a id="prop_keep_alive_timeout"></a>{keep_alive_timeout, integer()}</dt><dd><p>The number of seconds the server waits for a subsequent request from the client before closing the connection. Default is <code>150</code>.</p></dd><dt><a id="prop_max_body_size"></a>{max_body_size, integer()}</dt><dd><p>Limits the size of the message body of an HTTP request. Default is no limit.</p></dd><dt><a id="prop_max_clients"></a>{max_clients, integer()}</dt><dd><p>Limits the number of simultaneous requests that can be supported. Default is <code>150</code>.</p></dd><dt><a id="prop_max_header_size"></a>{max_header_size, integer()}</dt><dd><p>Limits the size of the message header of an HTTP request. Default is <code>10240</code>.</p></dd><dt><a id="prop_max_content_length"></a>{max_content_length, integer()}</dt><dd><p>Maximum content-length in an incoming request, in bytes. Requests with content larger than this are answered with status 413. Default is <code>100000000</code> (100 MB).</p></dd><dt><a id="prop_max_uri"></a>{max_uri_size, integer()}</dt><dd><p>Limits the size of the HTTP request URI. Default is no limit.</p></dd><dt><a id="prop_max_keep_alive_req"></a>{max_keep_alive_request, integer()}</dt><dd><p>The number of requests that a client can do on one connection. When the server has responded to the number of requests defined by <code>max_keep_alive_requests</code>, the server closes the connection. The server closes it even if there are queued request. Default is no limit.</p></dd><dt><a id="max_client_body_chunk"></a>{max_client_body_chunk, integer()}</dt><dd><p>Enforces chunking of a HTTP PUT or POST body data to be delivered to the mod_esi callback. Note this is not supported for mod_cgi. Default is no limit e.i the whole body is delivered as one entity, which could be very memory consuming. <a href="mod_esi.html">mod_esi(3)</a>.</p></dd></dl><a id="props_admin"></a><p><em>Administrative Properties</em></p><dl><dt><a id="prop_mime_types"></a>{mime_types, [{MimeType, Extension}] | path()}</dt><dd><p><code>MimeType = string()</code> and <code>Extension = string()</code>. Files delivered to the client are MIME typed according to RFC 1590. File suffixes are mapped to MIME types before file delivery. The mapping between file suffixes and MIME types can be specified as an Apache-like file or directly in the property list. Such a file can look like the following:</p><pre><code class="makeup erlang"><span class="p">#</span><span class="w"> </span><span class="n">MIME</span><span class="w"> </span><span class="ss">type</span><span class="err">	</span><span class="n">Extension</span><span class="w">  
</span><span class="ss">text</span><span class="o">/</span><span class="ss">html</span><span class="err">	</span><span class="ss">html</span><span class="w"> </span><span class="ss">htm</span><span class="w">
</span><span class="ss">text</span><span class="o">/</span><span class="ss">plain</span><span class="err">	</span><span class="ss">asc</span><span class="w"> </span><span class="ss">txt</span></code></pre><p>Default is [{&quot;html&quot;,&quot;text/html&quot;},{&quot;htm&quot;,&quot;text/html&quot;}].</p></dd><dt><a id="prop_mime_type"></a>{mime_type, string()}</dt><dd><p>When the server is asked to provide a document type that cannot be determined by the MIME Type Settings, the server uses this default type.</p></dd><dt><a id="prop_server_admin"></a>{server_admin, string()}</dt><dd><p>Defines the email-address of the server administrator to be included in any error messages returned by the server.</p></dd><dt><a id="prop_server_tokens"></a>{server_tokens, none|prod|major|minor|minimal|os|full|{private, string()}}</dt><dd><p>Defines the look of the value of the server header.</p><p>Example: Assuming the version of <code>Inets</code> is 5.8.1, the server header string can look as follows for the different values of server-tokens:</p><dl><dt><code>none</code></dt><dd><p>&quot;&quot; % A Server: header will not be generated</p></dd><dt><code>prod</code></dt><dd><p>&quot;inets&quot;</p></dd><dt><code>major</code></dt><dd><p>&quot;inets/5&quot;</p></dd><dt><code>minor</code></dt><dd><p>&quot;inets/5.8&quot;</p></dd><dt><code>minimal</code></dt><dd><p>&quot;inets/5.8.1&quot;</p></dd><dt><code>os</code></dt><dd><p>&quot;inets/5.8.1 (unix)&quot;</p></dd><dt><code>full</code></dt><dd><p>&quot;inets/5.8.1 (unix/linux) OTP/R15B&quot;</p></dd><dt><code>{private, &quot;foo/bar&quot;}</code></dt><dd><p>&quot;foo/bar&quot;</p></dd></dl><p>By default, the value is as before, that is, <code>minimal</code>.</p></dd><dt><a id="prop_logger"></a>{logger, Options::list()}</dt><dd><p>Currently only one option is supported:</p><dl><dt><code>{error, ServerID::atom()}</code></dt><dd><p>Produces <a href="https://wojtekmach.pl/otp_docs/kernel/logger.html#t:log_event/0">logger events</a> on logger <a href="https://wojtekmach.pl/otp_docs/kernel/logger.html#t:level/0">level error</a> under the hierarchical logger <a href="https://wojtekmach.pl/otp_docs/kernel/logger.html#t:log_event/0">domain:</a> <code>[otp, inets, httpd, ServerID, error]</code> The built in logger formatting function produces log entries from the error reports:</p><pre><code class="makeup erlang"><span class="p" data-group-id="2097318659-1">#{</span><span class="ss">server_name</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nf">string</span><span class="p" data-group-id="2097318659-2">(</span><span class="p" data-group-id="2097318659-2">)</span><span class="w">
  </span><span class="ss">protocol</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ss">internal</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="ss">&#39;TCP&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="ss">&#39;TLS&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="ss">&#39;HTTP&#39;</span><span class="p">,</span><span class="w">
  </span><span class="ss">transport</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;TCP &quot;</span><span class="p">|</span><span class="w"> </span><span class="s">&quot;TLS&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">%% Present when protocol = &#39;HTTP&#39;</span><span class="w">
  </span><span class="ss">uri</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nf">string</span><span class="p" data-group-id="2097318659-3">(</span><span class="p" data-group-id="2097318659-3">)</span><span class="p">,</span><span class="w"> </span><span class="c1">%% Present when protocol = &#39;HTTP&#39; and URI is valid</span><span class="w">
  </span><span class="ss">peer</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nc">inet</span><span class="p">:</span><span class="nf">peername</span><span class="p" data-group-id="2097318659-4">(</span><span class="p" data-group-id="2097318659-4">)</span><span class="p">,</span><span class="w">
  </span><span class="ss">host</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nc">inet</span><span class="p">:</span><span class="nf">hostname</span><span class="p" data-group-id="2097318659-5">(</span><span class="p" data-group-id="2097318659-5">)</span><span class="p">,</span><span class="w">
  </span><span class="ss">reason</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nf">term</span><span class="p" data-group-id="2097318659-6">(</span><span class="p" data-group-id="2097318659-6">)</span><span class="w">
</span><span class="p" data-group-id="2097318659-1">}</span></code></pre><p>An example of a log entry with only default settings of logger</p><pre><code class="makeup erlang"><span class="o">=</span><span class="n">ERROR</span><span class="w"> </span><span class="n">REPORT</span><span class="o">==</span><span class="o">==</span><span class="w"> </span><span class="mi">9</span><span class="o">-</span><span class="n">Oct</span><span class="o">-</span><span class="mi">2019</span><span class="p">:</span><span class="p">:</span><span class="mi">09</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mf">27.350235</span><span class="w"> </span><span class="o">==</span><span class="o">=</span><span class="w">
   </span><span class="n">Server</span><span class="p">:</span><span class="w"> </span><span class="n">My</span><span class="w"> </span><span class="n">Server</span><span class="w">
 </span><span class="n">Protocol</span><span class="p">:</span><span class="w"> </span><span class="n">HTTP</span><span class="w">
</span><span class="n">Transport</span><span class="p">:</span><span class="w"> </span><span class="n">TLS</span><span class="w">
      </span><span class="n">URI</span><span class="p">:</span><span class="w"> </span><span class="o">/</span><span class="ss">not_there</span><span class="w">
     </span><span class="n">Host</span><span class="p">:</span><span class="w"> </span><span class="mf">127.0</span><span class="p">.</span><span class="mf">1.1</span><span class="p">:</span><span class="mi">80</span><span class="w">
     </span><span class="n">Peer</span><span class="p">:</span><span class="w"> </span><span class="mf">127.0</span><span class="p">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">45253</span><span class="w">
   </span><span class="n">Reason</span><span class="p">:</span><span class="w"> </span><span class="p" data-group-id="2379828689-1">[</span><span class="p" data-group-id="2379828689-2">{</span><span class="ss">statuscode</span><span class="p">,</span><span class="mi">404</span><span class="p" data-group-id="2379828689-2">}</span><span class="p">,</span><span class="p" data-group-id="2379828689-3">{</span><span class="ss">description</span><span class="p">,</span><span class="s">&quot;Object Not Found&quot;</span><span class="p" data-group-id="2379828689-3">}</span><span class="p" data-group-id="2379828689-1">]</span></code></pre><p>Using this option makes mod_log and mod_disk_log error logs redundant.</p><p>Add the filter</p><pre><code class="makeup erlang"><span class="p" data-group-id="5127430689-1">{</span><span class="k">fun</span><span class="w"> </span><span class="nc">logger_filters</span><span class="p">:</span><span class="ss">domain</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="w">
</span><span class="err">	</span><span class="p" data-group-id="5127430689-2">{</span><span class="ss">log</span><span class="p">,</span><span class="ss">equal</span><span class="p">,</span><span class="p" data-group-id="5127430689-3">[</span><span class="ss">otp</span><span class="p">,</span><span class="ss">inets</span><span class="p">,</span><span class="w"> </span><span class="ss">httpd</span><span class="p">,</span><span class="w"> </span><span class="n">ServerID</span><span class="p">,</span><span class="w"> </span><span class="ss">error</span><span class="p" data-group-id="5127430689-3">]</span><span class="p" data-group-id="5127430689-2">}</span></code></pre>to appropriate logger handler to handle the events. For example to write the error log from an httpd server with a <code>ServerID</code> of <code>my_server</code> to a file you can use the following sys.config:<pre><code class="makeup erlang"><span class="p" data-group-id="8509598480-1">[</span><span class="p" data-group-id="8509598480-2">{</span><span class="ss">kernel</span><span class="p">,</span><span class="w">
 </span><span class="p" data-group-id="8509598480-3">[</span><span class="p" data-group-id="8509598480-4">{</span><span class="ss">logger</span><span class="p">,</span><span class="w">
  </span><span class="p" data-group-id="8509598480-5">[</span><span class="p" data-group-id="8509598480-6">{</span><span class="ss">handler</span><span class="p">,</span><span class="w"> </span><span class="ss">http_error_test</span><span class="p">,</span><span class="w"> </span><span class="ss">logger_std_h</span><span class="p">,</span><span class="w">
    </span><span class="p" data-group-id="8509598480-7">#{</span><span class="ss">config</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p" data-group-id="8509598480-8">#{</span><span class="w"> </span><span class="ss">file</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="s">&quot;log/http_error.log&quot;</span><span class="w"> </span><span class="p" data-group-id="8509598480-8">}</span><span class="p">,</span><span class="w">
      </span><span class="ss">filters</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p" data-group-id="8509598480-9">[</span><span class="p" data-group-id="8509598480-10">{</span><span class="ss">inets_httpd</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8509598480-11">{</span><span class="k">fun</span><span class="w"> </span><span class="nc">logger_filters</span><span class="p">:</span><span class="ss">domain</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="w">
                                 </span><span class="p" data-group-id="8509598480-12">{</span><span class="ss">log</span><span class="p">,</span><span class="w"> </span><span class="ss">equal</span><span class="p">,</span><span class="w">
                                  </span><span class="p" data-group-id="8509598480-13">[</span><span class="ss">otp</span><span class="p">,</span><span class="w"> </span><span class="ss">inets</span><span class="p">,</span><span class="w"> </span><span class="ss">httpd</span><span class="p">,</span><span class="w"> </span><span class="ss">my_server</span><span class="p">,</span><span class="w"> </span><span class="ss">error</span><span class="p" data-group-id="8509598480-13">]</span><span class="w">
                                 </span><span class="p" data-group-id="8509598480-12">}</span><span class="p" data-group-id="8509598480-11">}</span><span class="p" data-group-id="8509598480-10">}</span><span class="p" data-group-id="8509598480-9">]</span><span class="p">,</span><span class="w">
      </span><span class="ss">filter_default</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ss">stop</span><span class="w"> </span><span class="p" data-group-id="8509598480-7">}</span><span class="p" data-group-id="8509598480-6">}</span><span class="p" data-group-id="8509598480-5">]</span><span class="p" data-group-id="8509598480-4">}</span><span class="p" data-group-id="8509598480-3">]</span><span class="p" data-group-id="8509598480-2">}</span><span class="p" data-group-id="8509598480-1">]</span><span class="p">.</span><span class="w">
</span><span class="err">	</span></code></pre><p>or if you want to add it to the default logger via an API:</p><pre><code class="makeup erlang"><span class="nc">logger</span><span class="p">:</span><span class="nf">add_handler_filter</span><span class="p" data-group-id="5668875508-1">(</span><span class="ss">default</span><span class="p">,</span><span class="w">
                          </span><span class="ss">inets_httpd</span><span class="p">,</span><span class="w">
                          </span><span class="p" data-group-id="5668875508-2">{</span><span class="k">fun</span><span class="w"> </span><span class="nc">logger_filters</span><span class="p">:</span><span class="ss">domain</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="w">
                           </span><span class="p" data-group-id="5668875508-3">{</span><span class="ss">log</span><span class="p">,</span><span class="w"> </span><span class="ss">equal</span><span class="p">,</span><span class="w">
                            </span><span class="p" data-group-id="5668875508-4">[</span><span class="ss">otp</span><span class="p">,</span><span class="w"> </span><span class="ss">inets</span><span class="p">,</span><span class="w"> </span><span class="ss">httpd</span><span class="p">,</span><span class="w"> </span><span class="ss">my_server</span><span class="p">,</span><span class="w"> </span><span class="ss">error</span><span class="p" data-group-id="5668875508-4">]</span><span class="p" data-group-id="5668875508-3">}</span><span class="p" data-group-id="5668875508-2">}</span><span class="p" data-group-id="5668875508-1">)</span><span class="p">.</span></code></pre></dd></dl></dd><dt><a id="prop_log_format"></a>{log_format, common | combined}</dt><dd><p>Defines if access logs are to be written according to the <code>common</code> log format or the extended common log format. The <code>common</code> format is one line looking like this: <code>remotehost rfc931 authuser [date] &quot;request&quot; status bytes</code>.</p><p>Here:</p><dl><dt><code>remotehost</code></dt><dd>Remote.</dd><dt><code>rfc931</code></dt><dd>The remote username of the client (<a href="http://www.ietf.org/rfc/rfc931.txt">RFC 931</a>).</dd><dt><code>authuser</code></dt><dd>The username used for authentication.</dd><dt><code>[date]</code></dt><dd>Date and time of the request (<a href="http://www.ietf.org/rfc/rfc1123.txt">RFC 1123</a>).</dd><dt><code>&quot;request&quot;</code></dt><dd>The request line as it came from the client (<a href="http://www.ietf.org/rfc/rfc1945.txt">RFC 1945</a>).</dd><dt><code>status</code></dt><dd>The HTTP status code returned to the client (<a href="http://www.ietf.org/rfc/rfc1945.txt">RFC 1945</a>).</dd><dt><code>bytes</code></dt><dd>The content-length of the document transferred.</dd></dl><p>The <code>combined</code> format is one line looking like this: <code>remotehost rfc931 authuser [date] &quot;request&quot; status bytes &quot;referer&quot; &quot;user_agent&quot;</code></p><p>In addition to the earlier:</p><dl><dt><code>&quot;referer&quot;</code></dt><dd>The URL the client was on before requesting the URL (if it could not be determined, a minus sign is placed in this field).</dd><dt><code>&quot;user_agent&quot;</code></dt><dd>The software the client claims to be using (if it could not be determined, a minus sign is placed in this field).</dd></dl><p>This affects the access logs written by <code>mod_log</code> and <code>mod_disk_log</code>.</p></dd><dt><a id="prop_elog_format"></a>{error_log_format, pretty | compact}</dt><dd><p>Default is <code>pretty</code>. If the error log is meant to be read directly by a human, <code>pretty</code> is the best option.</p><p><code>pretty</code> has a format corresponding to:</p><pre><code class="makeup erlang"><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="5728808549-1">(</span><span class="s">&quot;[</span><span class="si">~s</span><span class="s">] </span><span class="si">~s</span><span class="s">, reason: </span><span class="si">~n</span><span class="s"> </span><span class="si">~p</span><span class="s"> </span><span class="si">~n</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5728808549-2">[</span><span class="n">Date</span><span class="p">,</span><span class="w"> </span><span class="n">Msg</span><span class="p">,</span><span class="w"> </span><span class="n">Reason</span><span class="p" data-group-id="5728808549-2">]</span><span class="p" data-group-id="5728808549-1">)</span><span class="p">.</span></code></pre><p><code>compact</code> has a format corresponding to:</p><pre><code class="makeup erlang"><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="1555810302-1">(</span><span class="s">&quot;[</span><span class="si">~s</span><span class="s">] </span><span class="si">~s</span><span class="s">, reason: </span><span class="si">~w</span><span class="s"> </span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1555810302-2">[</span><span class="n">Date</span><span class="p">,</span><span class="w"> </span><span class="n">Msg</span><span class="p">,</span><span class="w"> </span><span class="n">Reason</span><span class="p" data-group-id="1555810302-2">]</span><span class="p" data-group-id="1555810302-1">)</span><span class="p">.</span></code></pre><p>This affects the error logs written by <code>mod_log</code> and <code>mod_disk_log</code>.</p></dd></dl><a id="props_alias"></a><p><em>URL Aliasing Properties - Requires mod_alias</em></p><dl><dt><a id="prop_alias"></a>{alias, {Alias, RealName}}</dt><dd><p><code>Alias = string()</code> and <code>RealName = string()</code>. <code>alias</code> allows documents to be stored in the local file system instead of the <code>document_root</code> location. URLs with a path beginning with url-path is mapped to local files beginning with directory-filename, for example:</p><pre><code class="makeup erlang"><span class="p" data-group-id="4851795990-1">{</span><span class="ss">alias</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4851795990-2">{</span><span class="s">&quot;/image&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/ftp/pub/image&quot;</span><span class="p" data-group-id="4851795990-2">}</span><span class="p" data-group-id="4851795990-1">}</span></code></pre><p>Access to http://your.server.org/image/foo.gif would refer to the file /ftp/pub/image/foo.gif.</p></dd><dt><a id="prop_re_write"></a>{re_write, {Re, Replacement}}</dt><dd><p><code>Re = string()</code> and <code>Replacement = string()</code>. <code>re_write</code> allows documents to be stored in the local file system instead of the <code>document_root</code> location. URLs are rewritten by <code>re:replace/3</code> to produce a path in the local file-system, for example:</p><pre><code class="makeup erlang"><span class="p" data-group-id="4141962976-1">{</span><span class="ss">re_write</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4141962976-2">{</span><span class="s">&quot;^/[~]([^/]+)(.*)$&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/home/\\1/public\\2&quot;</span><span class="p" data-group-id="4141962976-2">}</span><span class="p" data-group-id="4141962976-1">}</span></code></pre><p>Access to http://your.server.org/~bob/foo.gif would refer to the file /home/bob/public/foo.gif.</p></dd><dt><a id="prop_dir_idx"></a>{directory_index, [string()]}</dt><dd><p><code>directory_index</code> specifies a list of resources to look for if a client requests a directory using a <code>/</code> at the end of the directory name. <code>file</code> depicts the name of a file in the directory. Several files can be given, in which case the server returns the first it finds, for example:</p><pre><code class="makeup erlang"><span class="p" data-group-id="0020895166-1">{</span><span class="ss">directory_index</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0020895166-2">[</span><span class="s">&quot;index.html&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;welcome.html&quot;</span><span class="p" data-group-id="0020895166-2">]</span><span class="p" data-group-id="0020895166-1">}</span></code></pre><p>Access to http://your.server.org/docs/ would return http://your.server.org/docs/index.html or http://your.server.org/docs/welcome.html if index.html does not exist.</p></dd></dl><a id="props_cgi"></a><p><em>CGI Properties - Requires mod_cgi</em></p><dl><dt><a id="prop_script_alias"></a>{script_alias, {Alias, RealName}}</dt><dd><p><code>Alias = string()</code> and <code>RealName = string()</code>. Have the same behavior as property <code>alias</code>, except that they also mark the target directory as containing CGI scripts. URLs with a path beginning with url-path are mapped to scripts beginning with directory-filename, for example:</p><pre><code class="makeup erlang"><span class="p" data-group-id="5110637509-1">{</span><span class="ss">script_alias</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5110637509-2">{</span><span class="s">&quot;/cgi-bin/&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/web/cgi-bin/&quot;</span><span class="p" data-group-id="5110637509-2">}</span><span class="p" data-group-id="5110637509-1">}</span></code></pre><p>Access to http://your.server.org/cgi-bin/foo would cause the server to run the script /web/cgi-bin/foo.</p></dd><dt><a id="prop_script_re_write"></a>{script_re_write, {Re, Replacement}}</dt><dd><p><code>Re = string()</code> and <code>Replacement = string()</code>. Have the same behavior as property <code>re_write</code>, except that they also mark the target directory as containing CGI scripts. URLs with a path beginning with url-path are mapped to scripts beginning with directory-filename, for example:</p><pre><code class="makeup erlang"><span class="p" data-group-id="9041689384-1">{</span><span class="ss">script_re_write</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="9041689384-2">{</span><span class="s">&quot;^/cgi-bin/(\\d+)/&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/web/\\1/cgi-bin/&quot;</span><span class="p" data-group-id="9041689384-2">}</span><span class="p" data-group-id="9041689384-1">}</span></code></pre><p>Access to http://your.server.org/cgi-bin/17/foo would cause the server to run the script /web/17/cgi-bin/foo.</p></dd><dt><a id="prop_script_nocache"></a>{script_nocache, boolean()}</dt><dd><p>If <code>script_nocache</code> is set to <code>true</code>, the HTTP server by default adds the header fields necessary to prevent proxies from caching the page. Generally this is preferred. Default to <code>false</code>.</p></dd><dt><a id="prop_script_timeout"></a>{script_timeout, integer()}</dt><dd><p>The time in seconds the web server waits between each chunk of data from the script. If the CGI script does not deliver any data before the timeout, the connection to the client is closed. Default is <code>15</code>.</p></dd><dt><a id="prop_action"></a>{action, {MimeType, CgiScript}} - requires mod_action</dt><dd><p><code>MimeType = string()</code> and <code>CgiScript = string()</code>. <code>action</code> adds an action activating a CGI script whenever a file of a certain MIME type is requested. It propagates the URL and file path of the requested document using the standard CGI PATH_INFO and PATH_TRANSLATED environment variables.</p><p>Example:</p><pre><code class="makeup erlang"><span class="p" data-group-id="2277971198-1">{</span><span class="ss">action</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2277971198-2">{</span><span class="s">&quot;text/plain&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/cgi-bin/log_and_deliver_text&quot;</span><span class="p" data-group-id="2277971198-2">}</span><span class="p" data-group-id="2277971198-1">}</span></code></pre></dd><dt><a id="prop_script"></a>{script, {Method, CgiScript}} - requires mod_action</dt><dd><p><code>Method = string()</code> and <code>CgiScript = string()</code>. <code>script</code> adds an action activating a CGI script whenever a file is requested using a certain HTTP method. The method is either GET or POST, as defined in <a href="http://www.ietf.org/rfc/rfc1945.txt">RFC 1945</a>. It propagates the URL and file path of the requested document using the standard CGI PATH_INFO and PATH_TRANSLATED environment variables.</p><p>Example:</p><pre><code class="makeup erlang"><span class="p" data-group-id="8155248923-1">{</span><span class="ss">script</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8155248923-2">{</span><span class="s">&quot;PUT&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;/cgi-bin/put&quot;</span><span class="p" data-group-id="8155248923-2">}</span><span class="p" data-group-id="8155248923-1">}</span></code></pre></dd></dl><a id="props_esi"></a><p><em>ESI Properties - Requires mod_esi</em></p><dl><dt><a id="prop_esi_alias"></a>{erl_script_alias, {URLPath, [AllowedModule]}}</dt><dd><p><code>URLPath = string()</code> and <code>AllowedModule = atom()</code>. <code>erl_script_alias</code> marks all URLs matching url-path as erl scheme scripts. A matching URL is mapped into a specific module and function, for example:</p><pre><code class="makeup erlang"><span class="p" data-group-id="4814216653-1">{</span><span class="ss">erl_script_alias</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4814216653-2">{</span><span class="s">&quot;/cgi-bin/example&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4814216653-3">[</span><span class="ss">httpd_example</span><span class="p" data-group-id="4814216653-3">]</span><span class="p" data-group-id="4814216653-2">}</span><span class="p" data-group-id="4814216653-1">}</span></code></pre><p>A request to http://your.server.org/cgi-bin/example/httpd_example:yahoo would refer to httpd_example:yahoo/3 or, if that does not exist, httpd_example:yahoo/2 and http://your.server.org/cgi-bin/example/other:yahoo would not be allowed to execute.</p></dd><dt><a id="prop_esi_nocache"></a>{erl_script_nocache, boolean()}</dt><dd><p>If <code>erl_script_nocache</code> is set to <code>true</code>, the server adds HTTP header fields preventing proxies from caching the page. This is generally a good idea for dynamic content, as the content often varies between each request. Default is <code>false</code>.</p></dd><dt><a id="prop_esi_timeout"></a>{erl_script_timeout, integer()}</dt><dd><p>If <code>erl_script_timeout</code> sets the time in seconds the server waits between each chunk of data to be delivered through <code>mod_esi:deliver/2</code>. Default is <code>15</code>. This is only relevant for scripts that use the erl scheme.</p></dd></dl><a id="props_log"></a><p><em>Log Properties - Requires mod_log</em></p><dl><dt><a id="prop_elog"></a>{error_log, path()}</dt><dd><p>Defines the filename of the error log file to be used to log server errors. If the filename does not begin with a slash (/), it is assumed to be relative to the <code>server_root</code>.</p></dd><dt><a id="prop_slog"></a>{security_log, path()}</dt><dd><p>Defines the filename of the access log file to be used to log security events. If the filename does not begin with a slash (/), it is assumed to be relative to the <code>server_root</code>.</p></dd><dt><a id="prop_tlog"></a>{transfer_log, path()}</dt><dd><p>Defines the filename of the access log file to be used to log incoming requests. If the filename does not begin with a slash (/), it is assumed to be relative to the <code>server_root</code>.</p></dd></dl><a id="props_dlog"></a><p><em>Disk Log Properties - Requires mod_disk_log</em></p><dl><dt><a id="prop_dlog_format"></a>{disk_log_format, internal | external}</dt><dd><p>Defines the file format of the log files. See <code>disk_log</code> for details. If the internal file format is used, the log file is repaired after a crash. When a log file is repaired, data can disappear. When the external file format is used, <code>httpd</code> does not start if the log file is broken. Default is <code>external</code>.</p></dd><dt><a id="prop_edlog"></a>{error_disk_log, path()}</dt><dd><p>Defines the filename of the (<code>disk_log(3)</code>) error log file to be used to log server errors. If the filename does not begin with a slash (/), it is assumed to be relative to the <code>server_root</code>.</p></dd><dt><a id="prop_edlog_size"></a>{error_disk_log_size, {MaxBytes, MaxFiles}}</dt><dd><p><code>MaxBytes = integer()</code> and <code>MaxFiles = integer()</code>. Defines the properties of the (<code>disk_log(3)</code>) error log file. This file is of type wrap log and max bytes is written to each file and max files is used before the first file is truncated and reused.</p></dd><dt><a id="prop_sdlog"></a>{security_disk_log, path()}</dt><dd><p>Defines the filename of the (<code>disk_log(3)</code>) access log file logging incoming security events, that is, authenticated requests. If the filename does not begin with a slash (/), it is assumed to be relative to the <code>server_root</code>.</p></dd><dt><a id="prop_sdlog_size"></a>{security_disk_log_size, {MaxBytes, MaxFiles}}</dt><dd><p><code>MaxBytes = integer()</code> and <code>MaxFiles = integer()</code>. Defines the properties of the <code>disk_log(3)</code> access log file. This file is of type wrap log and max bytes is written to each file and max files is used before the first file is truncated and reused.</p></dd><dt><a id="prop_tdlog"></a>{transfer_disk_log, path()}</dt><dd><p>Defines the filename of the (<code>disk_log(3)</code>) access log file logging incoming requests. If the filename does not begin with a slash (/), it is assumed to be relative to the <code>server_root</code>.</p></dd><dt><a id="prop_tdlog_size"></a>{transfer_disk_log_size, {MaxBytes, MaxFiles}}</dt><dd><p><code>MaxBytes = integer()</code> and <code>MaxFiles = integer()</code>. Defines the properties of the <code>disk_log(3)</code> access log file. This file is of type wrap log and max bytes is written to each file and max files is used before the first file is truncated and reused.</p></dd></dl><a id="props_auth"></a><p><em>Authentication Properties - Requires mod_auth</em></p><a id="prop_dri"></a><p><em>{directory, {path(), [{property(), term()}]}}</em></p><a id="props_dir"></a><p>The properties for directories are as follows:</p><dl><dt><a id="prop_allow_from"></a>{allow_from, all | [RegxpHostString]}</dt><dd><p>Defines a set of hosts to be granted access to a given directory, for example:</p><pre><code class="makeup erlang"><span class="p" data-group-id="8075433780-1">{</span><span class="ss">allow_from</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8075433780-2">[</span><span class="s">&quot;123.34.56.11&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;150.100.23&quot;</span><span class="p" data-group-id="8075433780-2">]</span><span class="p" data-group-id="8075433780-1">}</span></code></pre><p>The host <code>123.34.56.11</code> and all machines on the <code>150.100.23</code> subnet are allowed access.</p></dd><dt><a id="prop_deny_from"></a>{deny_from, all | [RegxpHostString]}</dt><dd><p>Defines a set of hosts to be denied access to a given directory, for example:</p><pre><code class="makeup erlang"><span class="p" data-group-id="0665006588-1">{</span><span class="ss">deny_from</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="0665006588-2">[</span><span class="s">&quot;123.34.56.11&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;150.100.23&quot;</span><span class="p" data-group-id="0665006588-2">]</span><span class="p" data-group-id="0665006588-1">}</span></code></pre><p>The host <code>123.34.56.11</code> and all machines on the <code>150.100.23</code> subnet are not allowed access.</p></dd><dt><a id="prop_auth_type"></a>{auth_type, plain | dets | mnesia}</dt><dd><p>Sets the type of authentication database that is used for the directory. The key difference between the different methods is that dynamic data can be saved when Mnesia and Dets are used.</p></dd><dt><a id="prop_auth_user_file"></a>{auth_user_file, path()}</dt><dd><p>Sets the name of a file containing the list of users and passwords for user authentication. The filename can be either absolute or relative to the <code>server_root</code>. If using the plain storage method, this file is a plain text file where each line contains a username followed by a colon, followed by the non-encrypted password. If usernames are duplicated, the behavior is undefined.</p><p>Example:</p><pre><code class="makeup erlang"><span class="w"> </span><span class="nc">ragnar</span><span class="p">:</span><span class="ss">s7Xxv7</span><span class="w">
 </span><span class="nc">edward</span><span class="p">:</span><span class="ss">wwjau8</span><span class="w"> </span></code></pre><p>If the Dets storage method is used, the user database is maintained by Dets and must not be edited by hand. Use the API functions in module <code>mod_auth</code> to create/edit the user database. This directive is ignored if the Mnesia storage method is used. For security reasons, ensure that <code>auth_user_file</code> is stored outside the document tree of the web server. If it is placed in the directory that it protects, clients can download it.</p></dd><dt><a id="prop_auth_group_file"></a>{auth_group_file, path()}</dt><dd><p>Sets the name of a file containing the list of user groups for user authentication. The filename can be either absolute or relative to the <code>server_root</code>. If the plain storage method is used, the group file is a plain text file, where each line contains a group name followed by a colon, followed by the members usernames separated by spaces.</p><p>Example:</p><pre><code class="makeup erlang"><span class="nc">group1</span><span class="p">:</span><span class="w"> </span><span class="ss">bob</span><span class="w"> </span><span class="ss">joe</span><span class="w"> </span><span class="ss">ante</span></code></pre><p>If the Dets storage method is used, the group database is maintained by Dets and must not be edited by hand. Use the API for module <code>mod_auth</code> to create/edit the group database. This directive is ignored if the Mnesia storage method is used. For security reasons, ensure that the <code>auth_group_file</code> is stored outside the document tree of the web server. If it is placed in the directory that it protects, clients can download it.</p></dd><dt><a id="prop_auth_name"></a>{auth_name, string()}</dt><dd><p>Sets the name of the authorization realm (auth-domain) for a directory. This string informs the client about which username and password to use.</p></dd><dt><a id="prop_auth_access_passwd"></a>{auth_access_password, string()}</dt><dd><p>If set to other than &quot;NoPassword&quot;, the password is required for all API calls. If the password is set to &quot;DummyPassword&quot;, the password must be changed before any other API calls. To secure the authenticating data, the password must be changed after the web server is started. Otherwise it is written in clear text in the configuration file.</p></dd><dt><a id="prop_req_user"></a>{require_user, [string()]}</dt><dd><p>Defines users to grant access to a given directory using a secret password.</p></dd><dt><a id="prop_req_grp"></a>{require_group, [string()]}</dt><dd><p>Defines users to grant access to a given directory using a secret password.</p></dd></dl><a id="props_sec"></a><p><em>Security Properties - Requires mod_security</em></p><a id="prop_sec_dir"></a><p><em>{security_directory, {path(), [{property(), term()}]}}</em></p><a id="props_sdir"></a><p>The properties for the security directories are as follows:</p><dl><dt><a id="prop_data_file"></a>{data_file, path()}</dt><dd><p>Name of the security data file. The filename can either be absolute or relative to the <code>server_root</code>. This file is used to store persistent data for module <code>mod_security</code>.</p></dd><dt><a id="prop_max_retries"></a>{max_retries, integer()}</dt><dd><p>Specifies the maximum number of attempts to authenticate a user before the user is blocked out. If a user successfully authenticates while blocked, the user receives a 403 (Forbidden) response from the server. If the user makes a failed attempt while blocked, the server returns 401 (Unauthorized), for security reasons. Default is <code>3</code>. Can be set to infinity.</p></dd><dt><a id="prop_block_time"></a>{block_time, integer()}</dt><dd><p>Specifies the number of minutes a user is blocked. After this time has passed, the user automatically regains access. Default is <code>60</code>.</p></dd><dt><a id="prop_fail_exp_time"></a>{fail_expire_time, integer()}</dt><dd><p>Specifies the number of minutes a failed user authentication is remembered. If a user authenticates after this time has passed, the previous failed authentications are forgotten. Default is <code>30</code>.</p></dd><dt><a id="prop_auth_timeout"></a>{auth_timeout, integer()}</dt><dd>Specifies the number of seconds a successful user authentication is remembered. After this time has passed, the authentication is no longer reported. Default is <code>30</code>.</dd></dl><h2 id="module-erlang-web-server-api-data-types" class="section-heading">
  <a href="#module-erlang-web-server-api-data-types" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  ERLANG WEB SERVER API DATA TYPES
</h2>
<p>The Erlang web server API data types are as follows:</p><pre><code type="none">      ModData = #mod{}

      -record(mod, {
		data = [],
		socket_type = ip_comm,
		socket, 
		config_db,
		method,
		absolute_uri,
		request_uri,
		http_version,
		request_line,
		parsed_header = [],
		entity_body,
		connection
	}).</code></pre><p>To acess the record in your callback-module use:</p><pre><code class="makeup erlang"><span class="w"> </span><span class="p">-</span><span class="na">include_lib</span><span class="p" data-group-id="6554924629-1">(</span><span class="s">&quot;inets/include/httpd.hrl&quot;</span><span class="p" data-group-id="6554924629-1">)</span><span class="p">.</span></code></pre><p>The fields of record <code>mod</code> have the following meaning:</p><dl><dt><code>data</code></dt><dd><p>Type <code>[{InteractionKey,InteractionValue}]</code> is used to propagate data between modules. Depicted <code>interaction_data()</code> in function type declarations.</p></dd><dt><code>socket_type</code></dt><dd><p><code>socket_type()</code> indicates whether it is an IP socket or an <code>ssl</code> socket.</p></dd><dt><code>socket</code></dt><dd><p>The socket, in format <code>ip_comm</code> or <code>ssl</code>, depending on <code>socket_type</code>.</p></dd><dt><code>config_db</code></dt><dd><p>The config file directives stored as key-value tuples in an ETS table. Depicted <code>config_db()</code> in function type declarations.</p></dd><dt><code>method</code></dt><dd><p>Type <code>&quot;GET&quot; | &quot;POST&quot; | &quot;HEAD&quot; | &quot;TRACE&quot;</code>, that is, the HTTP method.</p></dd><dt><code>absolute_uri</code></dt><dd><p>If the request is an HTTP/1.1 request, the URI can be in the absolute URI format. In that case, <code>httpd</code> saves the absolute URI in this field. An Example of an absolute URI is <code>&quot;http://ServerName:Part/cgi-bin/find.pl?person=jocke&quot;</code></p></dd><dt><code>request_uri</code></dt><dd><p>The <code>Request-URI</code> as defined in <a href="http://www.ietf.org/rfc/rfc1945.txt">RFC 1945</a>, for example, <code>&quot;/cgi-bin/find.pl?person=jocke&quot;</code>.</p></dd><dt><code>http_version</code></dt><dd><p>The <code>HTTP</code> version of the request, that is, &quot;HTTP/1.0&quot;, or &quot;HTTP/1.1&quot;.</p></dd><dt><code>request_line</code></dt><dd><p>The <code>Request-Line</code> as defined in<a href="http://www.ietf.org/rfc/rfc1945.txt">RFC 1945</a>, for example, <code>&quot;GET /cgi-bin/find.pl?person=jocke HTTP/1.0&quot;</code>.</p></dd><dt><code>parsed_header</code></dt><dd>Type <code>[{HeaderKey,HeaderValue}]</code>. <code>parsed_header</code> contains all HTTP header fields from the HTTP request stored in a list as key-value tuples. See <a href="http://www.ietf.org/rfc/rfc2616.txt">RFC 2616</a> for a listing of all header fields. For example, the date field is stored as <code>{&quot;date&quot;,&quot;Wed, 15 Oct 1997 14:35:17 GMT&quot;}</code>. RFC 2616 defines that HTTP is a case-insensitive protocol and the header fields can be in lower case or upper case. <code>httpd</code> ensures that all header field names are in lower case.</dd><dt><code>entity_body</code></dt><dd><p>The <code>entity-Body</code> as defined in <a href="http://www.ietf.org/rfc/rfc2616.txt">RFC 2616</a>, for example, data sent from a CGI script using the POST method.</p></dd><dt><code>connection</code></dt><dd><p><code>true | false</code>. If set to <code>true</code>, the connection to the client is a persistent connection and is not closed when the request is served.</p></dd></dl><h2 id="module-see-also" class="section-heading">
  <a href="#module-see-also" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  SEE ALSO
</h2>
<p><a href="http://www.ietf.org/rfc/rfc2616.txt">RFC 2616</a>, <a href="inets.html">inets(3)</a>, <a href="https://wojtekmach.pl/otp_docs/ssl/ssl.html">ssl(3)</a></p>
        </section>


        <section id="summary" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#summary">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
            Summary
          </h1>

  <div class="summary-functions summary">
    <h2>
      <a href="#functions">Functions</a>
    </h2>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#info/1">info(Pid) -&gt;</a>

  </div>

    <div class="summary-synopsis"><ul class="types"><li class="type">Properties = [property()]</li><li class="type">Option = property()</li><li class="type">Value = term()</li></ul><p>Fetches information about the HTTP server. When called with only the pid, all properties are fetched. When called with a list of specific properties, they are fetched. The available properties are the same as the start options of the server.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#info/2">info(Pid, Properties) -&gt; [{Option, Value}]</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#info/2">info(Address, Port) -&gt;  </a>

  </div>

    <div class="summary-synopsis"><ul class="types"><li class="type">Address = ip_address()</li><li class="type">Port = integer()</li><li class="type">Profile = atom()</li><li class="type">Properties = [property()]</li><li class="type">Option = property()</li><li class="type">Value = term()</li></ul><p>Fetches information about the HTTP server. When called with only <code>Address</code> and <code>Port</code>, all properties are fetched. When called with a list of specific properties, they are fetched. The available properties are the same as the start options of the server.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#info/3">info(Address, Port, Properties) -&gt; [{Option, Value}]  info(Address, Port, Profile) -&gt;  </a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#info/4">info(Address, Port, Profile, Properties) -&gt; [{Option, Value}] </a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#parse_query/1">parse_query(QueryString) -&gt; [{Key,Value}]</a>

      <span class="deprecated" title="httpd:parse_query/1 is deprecated; use uri_string:dissect_query/1 instead">deprecated</span>

  </div>

    <div class="summary-synopsis"><ul class="types"><li class="type">QueryString = string()</li><li class="type">Key = string()</li><li class="type">Value = string()</li></ul><p><code>parse_query/1</code> parses incoming data to <code>erl</code> and <code>eval</code> scripts (see <a href="mod_esi.html">mod_esi(3)</a>) as defined in the standard URL format, that is, '+' becomes 'space' and decoding of hexadecimal characters (<code>%xx</code>).</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#reload_config/2">reload_config(Config, Mode) -&gt; ok | {error, Reason}</a>

  </div>

    <div class="summary-synopsis"><ul class="types"><li class="type">Config = path() | [{Option, Value}]</li><li class="type">Option = property()</li><li class="type">Value = term()</li><li class="type">Mode = non_disturbing | disturbing</li></ul><p>Reloads the HTTP server configuration without restarting the server. Incoming requests are answered with a temporary down message during the reload time.</p></div>

</div>

  </div>

        </section>


        <section id="functions" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#functions">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
Functions
          </h1>
          <div class="functions-list">
<section class="detail" id="info/1">

  <div class="detail-header">
    <a href="#info/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">info(Pid) -&gt;</h1>


  </div>

  <section class="docstring">

<ul class="types"><li class="type">Properties = [property()]</li><li class="type">Option = property()</li><li class="type">Value = term()</li></ul><p>Fetches information about the HTTP server. When called with only the pid, all properties are fetched. When called with a list of specific properties, they are fetched. The available properties are the same as the start options of the server.</p><div class="note"><p>Pid is the pid returned from <code>inets:start/[2,3]</code>. Can also be retrieved form <code>inets:services/0</code> and <code>inets:services_info/0</code>, see <a href="inets.html">inets(3)</a>.</p></div>
  </section>
</section>
<section class="detail" id="info/2">

  <div class="detail-header">
    <a href="#info/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">info(Pid, Properties) -&gt; [{Option, Value}]</h1>


  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="info/2">

  <div class="detail-header">
    <a href="#info/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">info(Address, Port) -&gt;  </h1>


      <span class="note">(since OTP 18.0)</span>

  </div>

  <section class="docstring">

<ul class="types"><li class="type">Address = ip_address()</li><li class="type">Port = integer()</li><li class="type">Profile = atom()</li><li class="type">Properties = [property()]</li><li class="type">Option = property()</li><li class="type">Value = term()</li></ul><p>Fetches information about the HTTP server. When called with only <code>Address</code> and <code>Port</code>, all properties are fetched. When called with a list of specific properties, they are fetched. The available properties are the same as the start options of the server.</p><div class="note"><p>The address must be the IP address and cannot be the hostname.</p></div>
  </section>
</section>
<section class="detail" id="info/3">

  <div class="detail-header">
    <a href="#info/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">info(Address, Port, Properties) -&gt; [{Option, Value}]  info(Address, Port, Profile) -&gt;  </h1>


      <span class="note">(since OTP 18.0)</span>

  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="info/4">

  <div class="detail-header">
    <a href="#info/4" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">info(Address, Port, Profile, Properties) -&gt; [{Option, Value}] </h1>


      <span class="note">(since OTP 18.0)</span>

  </div>

  <section class="docstring">


  </section>
</section>
<section class="detail" id="parse_query/1">

  <div class="detail-header">
    <a href="#parse_query/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">parse_query(QueryString) -&gt; [{Key,Value}]</h1>


  </div>

    <div class="deprecated">
      This function is deprecated. httpd:parse_query/1 is deprecated; use uri_string:dissect_query/1 instead.
    </div>

  <section class="docstring">

<ul class="types"><li class="type">QueryString = string()</li><li class="type">Key = string()</li><li class="type">Value = string()</li></ul><p><code>parse_query/1</code> parses incoming data to <code>erl</code> and <code>eval</code> scripts (see <a href="mod_esi.html">mod_esi(3)</a>) as defined in the standard URL format, that is, '+' becomes 'space' and decoding of hexadecimal characters (<code>%xx</code>).</p>
  </section>
</section>
<section class="detail" id="reload_config/2">

  <div class="detail-header">
    <a href="#reload_config/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">reload_config(Config, Mode) -&gt; ok | {error, Reason}</h1>


  </div>

  <section class="docstring">

<ul class="types"><li class="type">Config = path() | [{Option, Value}]</li><li class="type">Option = property()</li><li class="type">Value = term()</li><li class="type">Mode = non_disturbing | disturbing</li></ul><p>Reloads the HTTP server configuration without restarting the server. Incoming requests are answered with a temporary down message during the reload time.</p><div class="note"><p>Available properties are the same as the start options of the server, but the properties <code>bind_address</code> and <code>port</code> cannot be changed.</p></div><p>If mode is disturbing, the server is blocked forcefully, all ongoing requests terminates, and the reload starts immediately. If mode is non-disturbing, no new connections are accepted, but ongoing requests are allowed to complete before the reload is done.</p>
  </section>
</section>

          </div>
        </section>

      <footer class="footer">

        <p>
          <span class="line">
            Built using
            <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener">ExDoc</a> (v0.25.1) for the
            <a href="https://elixir-lang.org" title="Elixir" target="_blank">Elixir programming language</a>.
          </span>
          <span class="line">
            Designed by
            <a href="https://twitter.com/dignifiedquire" target="_blank" rel="noopener" title="@dignifiedquire">Friedel Ziegelmayer</a>.
          </span>
        </p>
        <p>

            <a href="api-reference.html" title="API reference" class="line footer-button">API Reference</a>

          <button class="line footer-button display-shortcuts-help">
            Display keyboard shortcuts
          </button>
          <button class="line footer-button night-mode-toggle">
            Toggle night mode
          </button>
          <button class="line footer-button display-quick-switch">
            Go to a HexDocs package
          </button>
          <button class="line footer-button tooltips-toggle">
            <span class="tooltips-option-disable">Disable tooltips</span>
            <span class="tooltips-option-enable">Enable tooltips</span>
          </button>
        </p>
      </footer>
    </div>
  </div>
</section>
</div>


  </body>
</html>

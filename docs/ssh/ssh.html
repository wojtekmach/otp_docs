<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.25.1">
    <meta name="project" content="ssh v4.12.3">

    <title>ssh â€” ssh v4.12.3</title>
    <link rel="stylesheet" href="dist/erlang-951161c89561e05735a5.css" />

    <script src="dist/sidebar_items-86a0e6f80e.js"></script>

      <script src="docs_config.js"></script>

    <script async src="dist/app-f97730d45ef67f3e6188.js"></script>


  </head>
  <body data-type="modules">
    <script>

      try {
        if (localStorage.getItem('night-mode') === 'true') {
          document.body.classList.add('night-mode');
        }
      } catch (error) { }
    </script>

<div class="main">

<button class="sidebar-button sidebar-toggle">
  <span class="icon-menu" title="Collapse/expand sidebar"></span>
</button>

<section class="sidebar">
  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button" aria-label="Submit Search">
      <span class="icon-search" aria-hidden="true" title="Submit search"></span>
    </button>
    <button type="button" tabindex="-1" class="search-close-button" aria-label="Cancel Search">
      <span class="icon-cross" aria-hidden="true" title="Cancel search"></span>
    </button>
    <label class="search-label">
      <input name="q" type="text" class="search-input" placeholder="Search..." aria-label="Input your search terms" autocomplete="off" />
    </label>
  </form>

  <div class="autocomplete">
    <div class="autocomplete-results">
    </div>
  </div>

  <div class="sidebar-header">
    <div class="sidebar-projectDetails">
      <a href="api-reference.html" class="sidebar-projectName">
ssh
      </a>
      <strong class="sidebar-projectVersion">
        v4.12.3
      </strong>
    </div>

  </div>

  <ul class="sidebar-listNav">
    <li><a id="extras-list-link" href="#full-list">Pages</a></li>

      <li><a id="modules-list-link" href="#full-list">Modules</a></li>


  </ul>
  <div class="gradient"></div>
  <ul id="full-list" class="sidebar-fullList"></ul>
</section>

<section class="content">
  <div class="content-outer">
    <div id="content" class="content-inner">

      <h1>
ssh <small class="app-vsn">(ssh v4.12.3)</small>

      </h1>


        <section id="moduledoc">
<p>This is the interface module for the <code>SSH</code> application. The Secure Shell (SSH) Protocol is a protocol for secure remote login and other secure network services over an insecure network. See ssh(6) for details of supported RFCs, versions, algorithms and unicode handling.</p><p>With the SSH application it is possible to start <i>clients</i> and to start <i>daemons</i> (servers).</p><p>Clients are started with <a href="ssh.html#connect/2">connect/2</a>, <a href="ssh.html#connect/3">connect/3</a> or <a href="ssh.html#connect/4">connect/4</a>. They open an encrypted connection on top of TCP/IP. In that encrypted connection one or more channels could be opened with <a href="ssh_connection.html#session_channel/2">ssh_connection:session_channel/2,4</a>.</p><p>Each channel is an isolated &quot;pipe&quot; between a client-side process and a server-side process. Those process pairs could handle for example file transfers (sftp) or remote command execution (shell, exec and/or cli). If a custom shell is implemented, the user of the client could execute the special commands remotely. Note that the user is not necessarily a human but probably a system interfacing the SSH app.</p><p>A server-side subssystem (channel) server is requested by the client with <a href="ssh_connection.html#subsystem/4">ssh_connection:subsystem/4</a>.</p><p>A server (daemon) is started with <a href="ssh.html#daemon/2">daemon/1</a>, <a href="ssh.html#daemon/2">daemon/2</a> or <a href="ssh.html#daemon/2">daemon/3</a>. Possible channel handlers (subsystems) are declared with the <a href="ssh.html#t:subsystem_daemon_option/0">subsystem</a> option when the daemon is started.</p><p>To just run a shell on a remote machine, there are functions that bundles the needed three steps needed into one: <a href="ssh.html#shell/1">shell/1,2,3</a>. Similarily, to just open an sftp (file transfer) connection to a remote machine, the simplest way is to use <a href="ssh_sftp.html#start_channel/1">ssh_sftp:start_channel/1,2,3</a>.</p><p>To write your own client channel handler, use the behaviour <a href="ssh_client_channel.html">ssh_client_channel</a>. For server channel handlers use <a href="ssh_server_channel.html">ssh_server_channel</a> behaviour (replaces ssh_daemon_channel).</p><p>Both clients and daemons accepts options that controls the exact behaviour. Some options are common to both. The three sets are called <a href="ssh.html#t:client_options/0">Client Options</a>, <a href="ssh.html#t:daemon_options/0">Daemon Options</a> and <a href="ssh.html#t:common_options/0">Common Options</a>.</p><p>The descriptions of the options uses the Erlang Type Language with explaining text.</p><div class="note"><p>The User's Guide has examples and a Getting Started section.</p></div><h2 id="module-keys-and-files" class="section-heading">
  <a href="#module-keys-and-files" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Keys and files
</h2>
<p>A number of objects must be present for the SSH application to work. Those objects are per default stored in files. The default names, paths and file formats are the same as for <a href="http://www.openssh.com">OpenSSH</a>. Keys could be generated with the <code>ssh-keygen</code> program from OpenSSH. See the User's Guide.</p><p>The paths could easily be changed by options: <a href="ssh_file.html#t:user_dir_common_option/0"><code>user_dir</code></a> and <a href="ssh_file.html#t:system_dir_daemon_option/0"><code>system_dir</code></a>.</p><p>A completly different storage could be interfaced by writing call-back modules using the behaviours <a href="ssh_client_key_api.html">ssh_client_key_api</a> and/or <a href="ssh_server_key_api.html">ssh_server_key_api</a>. A callback module is installed with the option <a href="ssh.html#t:key_cb_common_option/0"><code>key_cb</code></a> to the client and/or the daemon.</p><div ghlink="maint/lib/ssh/doc/src/ssh.xml#L114"><h3 id="module-daemons" class="section-heading">
  <a href="#module-daemons" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Daemons
</h3>
<p>The keys are by default stored in files:</p><ul><li>Mandatory: one or more <i>Host key(s)</i>, both private and public. Default is to store them in the directory <code>/etc/ssh</code> in the files<ul><li><code>ssh_host_dsa_key</code> and <code>ssh_host_dsa_key.pub</code></li><li><code>ssh_host_rsa_key</code> and <code>ssh_host_rsa_key.pub</code></li><li><code>ssh_host_ecdsa_key</code> and <code>ssh_host_ecdsa_key.pub</code></li></ul><p>The host keys directory could be changed with the option <a href="ssh_file.html#t:system_dir_daemon_option/0"><code>system_dir</code></a>.</p></li><li>Optional: one or more <i>User's public key</i> in case of <code>publickey</code> authorization. Default is to store them concatenated in the file <code>.ssh/authorized_keys</code> in the user's home directory.<p>The user keys directory could be changed with the option <a href="ssh_file.html#t:user_dir_common_option/0"><code>user_dir</code></a>.</p></li></ul></div><div ghlink="maint/lib/ssh/doc/src/ssh.xml#L136"><h3 id="module-clients" class="section-heading">
  <a href="#module-clients" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Clients
</h3>
<p>The keys and some other data are by default stored in files in the directory <code>.ssh</code> in the user's home directory.</p><p>The directory could be changed with the option <a href="ssh_file.html#t:user_dir_common_option/0"><code>user_dir</code></a>.</p><ul><li>Optional: a list of <i>Host public key(s)</i> for previously connected hosts. This list is handled by the SSH application without any need of user assistance. The default is to store them in the file <code>known_hosts</code>.<p>The <a href="ssh.html#t:host_accepting_client_options/0">host_accepting_client_options()</a> are associated with this list of keys.</p></li><li>Optional: one or more <i>User's private key(s)</i> in case of <code>publickey</code> authorization. The default files are<ul><li><code>id_dsa</code> and <code>id_dsa.pub</code></li><li><code>id_rsa</code> and <code>id_rsa.pub</code></li><li><code>id_ecdsa</code> and <code>id_ecdsa.pub</code></li></ul></li></ul></div>
        </section>


        <section id="summary" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#summary">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
            Summary
          </h1>

  <div class="summary-types summary">
    <h2>
      <a href="#types">Types</a>
    </h2>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:accept_callback/0">-type accept_callback() :: term().</a>

  </div>

    <div class="summary-synopsis"><dl><dt><a id="hardening_client_options--silently_accept_hosts"></a><code>silently_accept_hosts</code></dt><dd><p>This option guides the <code>connect</code> function on how to act when the connected server presents a Host Key that the client has not seen before. The default is to ask the user with a question on stdio of whether to accept or reject the new Host Key. See the option <a href="ssh_file.html#t:user_dir_common_option/0"><code>user_dir</code></a> for specifying the path to the file <code>known_hosts</code> where previously accepted Host Keys are recorded. See also the option <a href="ssh.html#t:key_cb_common_option/0">key_cb</a> for the general way to handle keys.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:accept_hosts/0">-type accept_hosts() :: term().</a>

  </div>

    <div class="summary-synopsis"><dl><dt><a id="hardening_client_options--silently_accept_hosts"></a><code>silently_accept_hosts</code></dt><dd><p>This option guides the <code>connect</code> function on how to act when the connected server presents a Host Key that the client has not seen before. The default is to ask the user with a question on stdio of whether to accept or reject the new Host Key. See the option <a href="ssh_file.html#t:user_dir_common_option/0"><code>user_dir</code></a> for specifying the path to the file <code>known_hosts</code> where previously accepted Host Keys are recorded. See also the option <a href="ssh.html#t:key_cb_common_option/0">key_cb</a> for the general way to handle keys.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:alg_entry/0">-type alg_entry() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>List of algorithms to use in the algorithm negotiation. The default <code>algs_list()</code> can be obtained from <a href="ssh.html#default_algorithms/0">default_algorithms/0</a>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:algs_list/0">-type algs_list() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>List of algorithms to use in the algorithm negotiation. The default <code>algs_list()</code> can be obtained from <a href="ssh.html#default_algorithms/0">default_algorithms/0</a>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:auth_methods_common_option/0">-type auth_methods_common_option() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Comma-separated string that determines which authentication methods that the client shall support and in which order they are tried. Defaults to <code>&quot;publickey,keyboard-interactive,password&quot;</code></p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:authentication_client_options/0">-type authentication_client_options() :: term().</a>

  </div>

    <div class="summary-synopsis"><dl><dt><code>user</code></dt><dd><p>Provides the username. If this option is not given, <code>ssh</code> reads from the environment (<code>LOGNAME</code> or <code>USER</code> on UNIX, <code>USERNAME</code> on Windows).</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:authentication_daemon_options/0">-type authentication_daemon_options() :: term().</a>

  </div>

    <div class="summary-synopsis"><dl><dt><code>auth_method_kb_interactive_data</code></dt><dd><p>Sets the text strings that the daemon sends to the client for presentation to the user when using <code>keyboard-interactive</code> authentication.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:callbacks_daemon_options/0">-type callbacks_daemon_options() :: term().</a>

  </div>

    <div class="summary-synopsis"><dl><dt><code>connectfun</code></dt><dd><p>Provides a fun to implement your own logging when a user authenticates to the server.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:channel_id/0">-type channel_id() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Opaque data type representing a channel inside a connection.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:cipher_alg/0">-type cipher_alg() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>List of algorithms to use in the algorithm negotiation. The default <code>algs_list()</code> can be obtained from <a href="ssh.html#default_algorithms/0">default_algorithms/0</a>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:client_option/0">-type client_option() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Options for <a href="ssh.html#connect/3">clients</a>. The individual options are further explained below or by following the hyperlinks.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:client_options/0">-type client_options() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Options for <a href="ssh.html#connect/3">clients</a>. The individual options are further explained below or by following the hyperlinks.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:common_option/0">-type common_option() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>The options above can be used both in clients and in daemons (servers). They are further explained below.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:common_options/0">-type common_options() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>The options above can be used both in clients and in daemons (servers). They are further explained below.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:compression_alg/0">-type compression_alg() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>List of algorithms to use in the algorithm negotiation. The default <code>algs_list()</code> can be obtained from <a href="ssh.html#default_algorithms/0">default_algorithms/0</a>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:conn_info_algs/0">-type conn_info_algs() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Return values from the <a href="ssh.html#connection_info/1">connection_info/1</a> and <a href="ssh.html#connection_info/2">connection_info/2</a> functions.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:conn_info_channels/0">-type conn_info_channels() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Return values from the <a href="ssh.html#connection_info/1">connection_info/1</a> and <a href="ssh.html#connection_info/2">connection_info/2</a> functions.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:connect_timeout_client_option/0">-type connect_timeout_client_option() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Sets a timeout on the transport layer connect time. For <a href="https://wojtekmach.pl/otp_docs/kernel/gen_tcp.html"><code>gen_tcp</code></a> the time is in milli-seconds and the default value is <code>infinity</code>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:connection_info_tuple/0">-type connection_info_tuple() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Return values from the <a href="ssh.html#connection_info/1">connection_info/1</a> and <a href="ssh.html#connection_info/2">connection_info/2</a> functions.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:connection_ref/0">connection_ref()</a>

  </div>

    <div class="summary-synopsis"><p>Opaque data type representing a connection between a client and a server (daemon).</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:daemon_info_tuple/0">-type daemon_info_tuple() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Return values from the <a href="ssh.html#daemon_info/1">daemon_info/1</a> and <a href="ssh.html#daemon_info/2">daemon_info/2</a> functions.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:daemon_option/0">-type daemon_option() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Options for <a href="ssh.html#daemon/1">daemons</a>. The individual options are further explained below or by following the hyperlinks.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:daemon_options/0">-type daemon_options() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Options for <a href="ssh.html#daemon/1">daemons</a>. The individual options are further explained below or by following the hyperlinks.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:daemon_ref/0">-type daemon_ref() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Opaque data type representing a daemon.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:deprecated_exec_opt/0">-type deprecated_exec_opt() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Old-style exec specification that are kept for compatibility, but should not be used in new programs</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:diffie_hellman_group_exchange_client_option/0">-type diffie_hellman_group_exchange_client_option() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Sets the three diffie-hellman-group-exchange parameters that guides the connected server in choosing a group. See <a href="https://tools.ietf.org/html/rfc4419">RFC 4419</a> for the details. The default value is <code>{1024, 6144, 8192}</code>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:diffie_hellman_group_exchange_daemon_option/0">-type diffie_hellman_group_exchange_daemon_option() :: term().</a>

  </div>

    <div class="summary-synopsis"><dl><dt><code>dh_gex_groups</code></dt><dd><p>Defines the groups the server may choose among when diffie-hellman-group-exchange is negotiated. See <a href="https://tools.ietf.org/html/rfc4419">RFC 4419</a> for details. The three variants of this option are</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:disconnectfun_common_option/0">-type disconnectfun_common_option() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Provides a fun to implement your own logging or other handling at disconnects.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:double_algs/1">-type double_algs(Arg1) :: term().</a>

  </div>

    <div class="summary-synopsis"><p>List of algorithms to use in the algorithm negotiation. The default <code>algs_list()</code> can be obtained from <a href="ssh.html#default_algorithms/0">default_algorithms/0</a>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:exec_daemon_option/0">-type exec_daemon_option() :: term().</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:exec_fun/0">-type exec_fun() :: term().</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:exec_fun/1/0">-type 'exec_fun/1'() :: term().</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:exec_fun/2/0">-type 'exec_fun/2'() :: term().</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:exec_fun/3/0">-type 'exec_fun/3'() :: term().</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:exec_result/0">-type exec_result() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>This option changes how the daemon executes exec-requests from clients. The term in the return value is formatted to a string if it is a non-string type. No trailing newline is added in the ok-case.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:exec_spec/0">-type exec_spec() :: term().</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:explicit_group/0">-type explicit_group() :: term().</a>

  </div>

    <div class="summary-synopsis"><dl><dt><code>dh_gex_groups</code></dt><dd><p>Defines the groups the server may choose among when diffie-hellman-group-exchange is negotiated. See <a href="https://tools.ietf.org/html/rfc4419">RFC 4419</a> for details. The three variants of this option are</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:explicit_group_file/0">-type explicit_group_file() :: term().</a>

  </div>

    <div class="summary-synopsis"><dl><dt><code>dh_gex_groups</code></dt><dd><p>Defines the groups the server may choose among when diffie-hellman-group-exchange is negotiated. See <a href="https://tools.ietf.org/html/rfc4419">RFC 4419</a> for details. The three variants of this option are</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:fd_common_option/0">-type fd_common_option() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Allows an existing file-descriptor to be used (passed on to the transport protocol).</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:fingerprint/0">-type fingerprint() :: term().</a>

  </div>

    <div class="summary-synopsis"><dl><dt><a id="hardening_client_options--silently_accept_hosts"></a><code>silently_accept_hosts</code></dt><dd><p>This option guides the <code>connect</code> function on how to act when the connected server presents a Host Key that the client has not seen before. The default is to ask the user with a question on stdio of whether to accept or reject the new Host Key. See the option <a href="ssh_file.html#t:user_dir_common_option/0"><code>user_dir</code></a> for specifying the path to the file <code>known_hosts</code> where previously accepted Host Keys are recorded. See also the option <a href="ssh.html#t:key_cb_common_option/0">key_cb</a> for the general way to handle keys.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:fp_digest_alg/0">-type fp_digest_alg() :: term().</a>

  </div>

    <div class="summary-synopsis"><dl><dt><a id="hardening_client_options--silently_accept_hosts"></a><code>silently_accept_hosts</code></dt><dd><p>This option guides the <code>connect</code> function on how to act when the connected server presents a Host Key that the client has not seen before. The default is to ask the user with a question on stdio of whether to accept or reject the new Host Key. See the option <a href="ssh_file.html#t:user_dir_common_option/0"><code>user_dir</code></a> for specifying the path to the file <code>known_hosts</code> where previously accepted Host Keys are recorded. See also the option <a href="ssh.html#t:key_cb_common_option/0">key_cb</a> for the general way to handle keys.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:hardening_daemon_options/0">-type hardening_daemon_options() :: term().</a>

  </div>

    <div class="summary-synopsis"><dl><dt><a id="hardening_daemon_options--max_sessions"></a><code>max_sessions</code></dt><dd><p>The maximum number of simultaneous sessions that are accepted at any time for this daemon. This includes sessions that are being authorized. Thus, if set to <code>N</code>, and <code>N</code> clients have connected but not started the login process, connection attempt <code>N+1</code> is aborted. If <code>N</code> connections are authenticated and still logged in, no more logins are accepted until one of the existing ones log out.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:hello_timeout_daemon_option/0">-type hello_timeout_daemon_option() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Maximum time in milliseconds for the first part of the ssh session setup, the hello message exchange. Defaults to 30000 ms (30 seconds). If the client fails to send the first message within this time, the connection is closed.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:host/0">-type host() :: term().</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:host_accepting_client_options/0">-type host_accepting_client_options() :: term().</a>

  </div>

    <div class="summary-synopsis"><dl><dt><a id="hardening_client_options--silently_accept_hosts"></a><code>silently_accept_hosts</code></dt><dd><p>This option guides the <code>connect</code> function on how to act when the connected server presents a Host Key that the client has not seen before. The default is to ask the user with a question on stdio of whether to accept or reject the new Host Key. See the option <a href="ssh_file.html#t:user_dir_common_option/0"><code>user_dir</code></a> for specifying the path to the file <code>known_hosts</code> where previously accepted Host Keys are recorded. See also the option <a href="ssh.html#t:key_cb_common_option/0">key_cb</a> for the general way to handle keys.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:id_string_common_option/0">-type id_string_common_option() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>The string the daemon will present to a connecting peer initially. The default value is &quot;Erlang/VSN&quot; where VSN is the ssh application version number.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:inet_common_option/0">-type inet_common_option() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>IP version to use when the host address is specified as <code>any</code>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:ip_port/0">-type ip_port() :: term().</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:kb_int_fun_3/0">-type kb_int_fun_3() :: term().</a>

  </div>

    <div class="summary-synopsis"><dl><dt><code>auth_method_kb_interactive_data</code></dt><dd><p>Sets the text strings that the daemon sends to the client for presentation to the user when using <code>keyboard-interactive</code> authentication.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:kb_int_fun_4/0">-type kb_int_fun_4() :: term().</a>

  </div>

    <div class="summary-synopsis"><dl><dt><code>auth_method_kb_interactive_data</code></dt><dd><p>Sets the text strings that the daemon sends to the client for presentation to the user when using <code>keyboard-interactive</code> authentication.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:kb_int_tuple/0">-type kb_int_tuple() :: term().</a>

  </div>

    <div class="summary-synopsis"><dl><dt><code>auth_method_kb_interactive_data</code></dt><dd><p>Sets the text strings that the daemon sends to the client for presentation to the user when using <code>keyboard-interactive</code> authentication.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:kex_alg/0">-type kex_alg() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>List of algorithms to use in the algorithm negotiation. The default <code>algs_list()</code> can be obtained from <a href="ssh.html#default_algorithms/0">default_algorithms/0</a>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:key_cb_common_option/0">-type key_cb_common_option() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Module implementing the behaviour <a href="ssh_client_key_api.html">ssh_client_key_api</a> and/or <a href="ssh_server_key_api.html">ssh_server_key_api</a>. Can be used to customize the handling of public keys. If callback options are provided along with the module name, they are made available to the callback module via the options passed to it under the key 'key_cb_private'.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:limit_bytes/0">-type limit_bytes() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Sets the limit when rekeying is to be initiated. Both the max time and max amount of data could be configured</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:limit_time/0">-type limit_time() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Sets the limit when rekeying is to be initiated. Both the max time and max amount of data could be configured</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:mac_alg/0">-type mac_alg() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>List of algorithms to use in the algorithm negotiation. The default <code>algs_list()</code> can be obtained from <a href="ssh.html#default_algorithms/0">default_algorithms/0</a>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:max_idle_time_common_option/0">-type max_idle_time_common_option() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Sets a time-out on a connection when no channels are open. Defaults to <code>infinity</code>. The unit is milliseconds.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:mod_args/0">-type mod_args() :: term().</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:mod_fun_args/0">-type mod_fun_args() :: term().</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:modify_algorithms_common_option/0">-type modify_algorithms_common_option() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Modifies the list of algorithms to use in the algorithm negotiation. The modifications are applied after the option <code>preferred_algorithms</code> (if existing) is applied.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:modify_algs_list/0">-type modify_algs_list() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Modifies the list of algorithms to use in the algorithm negotiation. The modifications are applied after the option <code>preferred_algorithms</code> (if existing) is applied.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:negotiation_timeout_daemon_option/0">-type negotiation_timeout_daemon_option() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Maximum time in milliseconds for the authentication negotiation. Defaults to 120000 ms (2 minutes). If the client fails to log in within this time, the connection is closed.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:opaque_client_options/0">opaque_client_options()</a>

  </div>

    <div class="summary-synopsis"><p>Opaque types that define experimental options that are not to be used in products.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:opaque_common_options/0">opaque_common_options()</a>

  </div>

    <div class="summary-synopsis"><p>Opaque types that define experimental options that are not to be used in products.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:opaque_daemon_options/0">opaque_daemon_options()</a>

  </div>

    <div class="summary-synopsis"><p>Opaque types that define experimental options that are not to be used in products.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:open_socket/0">-type open_socket() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>The socket is supposed to be result of a <a href="https://wojtekmach.pl/otp_docs/kernel/gen_tcp.html#connect/3">gen_tcp:connect</a> or a <a href="https://wojtekmach.pl/otp_docs/kernel/gen_tcp.html#accept/1">gen_tcp:accept</a>. The socket must be in passive mode (that is, opened with the option <code>{active,false})</code>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:pref_public_key_algs_common_option/0">-type pref_public_key_algs_common_option() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>List of user (client) public key algorithms to try to use.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:preferred_algorithms_common_option/0">-type preferred_algorithms_common_option() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>List of algorithms to use in the algorithm negotiation. The default <code>algs_list()</code> can be obtained from <a href="ssh.html#default_algorithms/0">default_algorithms/0</a>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:profile_common_option/0">-type profile_common_option() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Used together with <code>ip-address</code> and <code>port</code> to uniquely identify a ssh daemon. This can be useful in a virtualized environment, where there can be more that one server that has the same <code>ip-address</code> and <code>port</code>. If this property is not explicitly set, it is assumed that the the <code>ip-address</code> and <code>port</code> uniquely identifies the SSH daemon.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:prompt_texts/0">-type prompt_texts() :: term().</a>

  </div>

    <div class="summary-synopsis"><dl><dt><code>auth_method_kb_interactive_data</code></dt><dd><p>Sets the text strings that the daemon sends to the client for presentation to the user when using <code>keyboard-interactive</code> authentication.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:protocol_version/0">-type protocol_version() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Return values from the <a href="ssh.html#connection_info/1">connection_info/1</a> and <a href="ssh.html#connection_info/2">connection_info/2</a> functions.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:pubkey_alg/0">-type pubkey_alg() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>List of algorithms to use in the algorithm negotiation. The default <code>algs_list()</code> can be obtained from <a href="ssh.html#default_algorithms/0">default_algorithms/0</a>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:pwdfun_2/0">-type pwdfun_2() :: term().</a>

  </div>

    <div class="summary-synopsis"><dl><dt><code>auth_method_kb_interactive_data</code></dt><dd><p>Sets the text strings that the daemon sends to the client for presentation to the user when using <code>keyboard-interactive</code> authentication.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:pwdfun_4/0">-type pwdfun_4() :: term().</a>

  </div>

    <div class="summary-synopsis"><dl><dt><code>auth_method_kb_interactive_data</code></dt><dd><p>Sets the text strings that the daemon sends to the client for presentation to the user when using <code>keyboard-interactive</code> authentication.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:recv_ext_info_client_option/0">-type recv_ext_info_client_option() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Make the client tell the server that the client accepts extension negotiation, that is, include <code>ext-info-c</code> in the kexinit message sent. See <a href="https://tools.ietf.org/html/rfc8308">RFC 8308</a> for details and ssh(6) for a list of currently implemented extensions.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:rekey_limit_common_option/0">-type rekey_limit_common_option() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Sets the limit when rekeying is to be initiated. Both the max time and max amount of data could be configured</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:send_ext_info_daemon_option/0">-type send_ext_info_daemon_option() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Make the server (daemon) tell the client that the server accepts extension negotiation, that is, include <code>ext-info-s</code> in the kexinit message sent. See <a href="https://tools.ietf.org/html/rfc8308">RFC 8308</a> for details and ssh(6) for a list of currently implemented extensions.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:shell_daemon_option/0">-type shell_daemon_option() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Defines the read-eval-print loop used in a daemon when a shell is requested by the client. The default is to use the Erlang shell: <code>{shell, start, []}</code></p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:shell_fun/0">-type shell_fun() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Defines the read-eval-print loop used in a daemon when a shell is requested by the client. The default is to use the Erlang shell: <code>{shell, start, []}</code></p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:shell_fun/1/0">-type 'shell_fun/1'() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Defines the read-eval-print loop used in a daemon when a shell is requested by the client. The default is to use the Erlang shell: <code>{shell, start, []}</code></p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:shell_fun/2/0">-type 'shell_fun/2'() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Defines the read-eval-print loop used in a daemon when a shell is requested by the client. The default is to use the Erlang shell: <code>{shell, start, []}</code></p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:shell_spec/0">-type shell_spec() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Defines the read-eval-print loop used in a daemon when a shell is requested by the client. The default is to use the Erlang shell: <code>{shell, start, []}</code></p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:software_version/0">-type software_version() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Return values from the <a href="ssh.html#connection_info/1">connection_info/1</a> and <a href="ssh.html#connection_info/2">connection_info/2</a> functions.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:ssh_cli_daemon_option/0">-type ssh_cli_daemon_option() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Provides your own CLI implementation in a daemon.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:ssh_moduli_file/0">-type ssh_moduli_file() :: term().</a>

  </div>

    <div class="summary-synopsis"><dl><dt><code>dh_gex_groups</code></dt><dd><p>Defines the groups the server may choose among when diffie-hellman-group-exchange is negotiated. See <a href="https://tools.ietf.org/html/rfc4419">RFC 4419</a> for details. The three variants of this option are</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:ssh_msg_debug_fun_common_option/0">-type ssh_msg_debug_fun_common_option() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Provide a fun to implement your own logging of the SSH message SSH_MSG_DEBUG. The last three parameters are from the message, see <a href="https://tools.ietf.org/html/rfc4253#section-11.3">RFC 4253, section 11.3</a>. The <a href="ssh.html#t:connection_ref/0"><code>connection_ref()</code></a> is the reference to the connection on which the message arrived. The return value from the fun is not checked.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:subsystem_daemon_option/0">-type subsystem_daemon_option() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Defines a subsystem in the daemon.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:subsystem_spec/0">-type subsystem_spec() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Defines a subsystem in the daemon.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:subsystem_specs/0">-type subsystem_specs() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Defines a subsystem in the daemon.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:tcpip_tunnel_in_daemon_option/0">-type tcpip_tunnel_in_daemon_option() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Enables (<code>true</code>) or disables (<code>false</code>) the possibility to tunnel a TCP/IP connection in to a <a href="ssh.html#daemon/2">server</a>. Disabled per default.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:tcpip_tunnel_out_daemon_option/0">-type tcpip_tunnel_out_daemon_option() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Enables (<code>true</code>) or disables (<code>false</code>) the possibility to tunnel a TCP/IP connection out of a <a href="ssh.html#daemon/2">server</a>. Disabled per default.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:unexpectedfun_common_option/0">-type unexpectedfun_common_option() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Provides a fun to implement your own logging or other action when an unexpected message arrives. If the fun returns <code>report</code> the usual info report is issued but if <code>skip</code> is returned no report is generated.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:version/0">-type version() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Return values from the <a href="ssh.html#connection_info/1">connection_info/1</a> and <a href="ssh.html#connection_info/2">connection_info/2</a> functions.</p></div>

</div>

  </div>

  <div class="summary-functions summary">
    <h2>
      <a href="#functions">Functions</a>
    </h2>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#close/1">close/1</a>

  </div>

    <div class="summary-synopsis"><p>Closes an SSH connection.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#connect/2">connect(TcpSocket, Options) -&gt; Result</a>

  </div>

    <div class="summary-synopsis"><ul class="types"><li class="type">Host = <a href="ssh.html#t:host/0">host()</a></li><li class="type">Port = <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:port_number/0">inet:port_number()</a></li><li class="type">Options = <a href="ssh.html#t:client_options/0">client_options()</a></li><li class="type">TcpSocket = <a href="ssh.html#t:open_socket/0">open_socket()</a></li><li class="type">NegotiationTimeout = timeout()</li><li class="type">Result = {ok, <a href="ssh.html#t:connection_ref/0">connection_ref()</a>} | {error, term()}</li></ul><p>Connects to an SSH server at the <code>Host</code> on <code>Port</code>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#connect/3">connect(TcpSocket, Options, NegotiationTimeout) -&gt; Result connect(Host, Port, Options) -&gt; Result </a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#connect/4">connect(Host, Port, Options, NegotiationTimeout) -&gt; Result </a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#connection_info/1">connection_info/1</a>

  </div>

    <div class="summary-synopsis"><p>Returns information about a connection intended for e.g debugging or logging.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#connection_info/2">connection_info/2</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#daemon/1">daemon(Port | TcpSocket) -&gt; Result</a>

  </div>

    <div class="summary-synopsis"><ul class="types"><li class="type">Port = integer()</li><li class="type">TcpSocket = <a href="ssh.html#t:open_socket/0">open_socket()</a></li><li class="type">Options = <a href="ssh.html#t:daemon_options/0">daemon_options()</a></li><li class="type">HostAddress = <a href="ssh.html#t:host/0">host()</a> | any</li><li class="type">Result = {ok, <a href="ssh.html#t:daemon_ref/0">daemon_ref()</a>} | {error, atom()}</li></ul><p>Starts a server listening for SSH connections on the given port. If the <code>Port</code> is 0, a random free port is selected. See <a href="ssh.html#daemon_info/1">daemon_info/1</a> about how to find the selected port number.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#daemon/2">daemon(Port | TcpSocket, Options) -&gt; Result</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#daemon/3">daemon(HostAddress, Port, Options) -&gt; Result</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#daemon_info/1">daemon_info/1</a>

  </div>

    <div class="summary-synopsis"><p>Returns information about a daemon intended for e.g debugging or logging.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#daemon_info/2">daemon_info/2</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#default_algorithms/0">default_algorithms/0</a>

  </div>

    <div class="summary-synopsis"><p>Returns a key-value list, where the keys are the different types of algorithms and the values are the algorithms themselves.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#get_sock_opts/2">get_sock_opts/2</a>

  </div>

    <div class="summary-synopsis"><p>Get tcp socket option values of the tcp-socket below an ssh connection.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#hostkey_fingerprint/1">hostkey_fingerprint(HostKey) -&gt; string()</a>

  </div>

    <div class="summary-synopsis"><ul class="types"><li class="type">HostKey = <a href="https://wojtekmach.pl/otp_docs/public_key/public_key.html#t:public_key/0">public_key:public_key()</a></li><li class="type">DigestType = <a href="https://wojtekmach.pl/otp_docs/public_key/public_key.html#t:digest_type/0">public_key:digest_type()</a></li></ul><p>Calculates a ssh fingerprint from a public host key as openssh does.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#hostkey_fingerprint/2">hostkey_fingerprint([DigestType], HostKey) -&gt; [string()] hostkey_fingerprint(DigestType, HostKey) -&gt; string()</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#set_sock_opts/2">set_sock_opts/2</a>

  </div>

    <div class="summary-synopsis"><p>Sets tcp socket options on the tcp-socket below an ssh connection.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#shell/1">shell(Host | TcpSocket) -&gt; Result </a>

  </div>

    <div class="summary-synopsis"><ul class="types"><li class="type">Host = <a href="ssh.html#t:host/0">host()</a></li><li class="type">TcpSocket = <a href="ssh.html#t:open_socket/0">open_socket()</a></li><li class="type">Port = <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:port_number/0">inet:port_number()</a></li><li class="type">Options = <a href="ssh.html#t:client_options/0">client_options()</a></li><li class="type">Result = ok | {error, Reason::term()}</li></ul><p>Connects to an SSH server at <code>Host</code> and <code>Port</code> (defaults to 22) and starts an interactive shell on that remote host.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#shell/2">shell(Host | TcpSocket, Options) -&gt; Result </a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#shell/3">shell(Host, Port, Options) -&gt; Result </a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#start/0">start/0</a>

  </div>

    <div class="summary-synopsis"><p>Utility function that starts the applications <code>crypto</code>, <code>public_key</code>, and <code>ssh</code>. Default type is <code>temporary</code>. For more information, see the <a href="https://wojtekmach.pl/otp_docs/kernel/application.html">application(3)</a> manual page in Kernel.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#start/1">start/1</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#stop/0">stop/0</a>

  </div>

    <div class="summary-synopsis"><p>Stops the <code>ssh</code> application. For more information, see the <a href="https://wojtekmach.pl/otp_docs/kernel/application.html">application(3)</a> manual page in Kernel.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#stop_daemon/1">stop_daemon/1</a>

  </div>

    <div class="summary-synopsis"><p>Stops the listener and all connections started by the listener.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#stop_daemon/2">stop_daemon/2</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#stop_daemon/3">stop_daemon/3</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#stop_listener/1">stop_listener/1</a>

  </div>

    <div class="summary-synopsis"><p>Stops the listener, but leaves existing connections started by the listener operational.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#stop_listener/2">stop_listener/2</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#stop_listener/3">stop_listener/3</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#tcpip_tunnel_from_server/5">tcpip_tunnel_from_server/5</a>

  </div>

    <div class="summary-synopsis"><p>Asks the remote server of <code>ConnectionRef</code> to listen to <code>ListenHost:ListenPort</code>. When someone connects that address, the connection is forwarded in an encrypted channel from the server to the client. The client (that is, at the node that calls this function) then connects to <code>ConnectToHost:ConnectToPort</code>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#tcpip_tunnel_from_server/6">tcpip_tunnel_from_server/6</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#tcpip_tunnel_to_server/5">tcpip_tunnel_to_server/5</a>

  </div>

    <div class="summary-synopsis"><p>Tells the local client to listen to <code>ListenHost:ListenPort</code>. When someone connects to that address, the connection is forwarded in an encrypted channel to the peer server of <code>ConnectionRef</code>. That server then connects to <code>ConnectToHost:ConnectToPort</code>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#tcpip_tunnel_to_server/6">tcpip_tunnel_to_server/6</a>

  </div>

</div>

  </div>

        </section>


        <section id="types" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#types">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
Types
          </h1>
          <div class="types-list">
<section class="detail" id="t:accept_callback/0">

  <div class="detail-header">
    <a href="#t:accept_callback/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type accept_callback() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>accept_callback() ::
    fun((PeerName :: string(), <a href="#t:fingerprint/0">fingerprint</a>()) -> boolean()) |
    fun((PeerName :: string(), Port :: <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:port_number/0">inet:port_number</a>(), <a href="#t:fingerprint/0">fingerprint</a>()) -> boolean()).</pre>

      </div>

<dl><dt><a id="hardening_client_options--silently_accept_hosts"></a><code>silently_accept_hosts</code></dt><dd><p>This option guides the <code>connect</code> function on how to act when the connected server presents a Host Key that the client has not seen before. The default is to ask the user with a question on stdio of whether to accept or reject the new Host Key. See the option <a href="ssh_file.html#t:user_dir_common_option/0"><code>user_dir</code></a> for specifying the path to the file <code>known_hosts</code> where previously accepted Host Keys are recorded. See also the option <a href="ssh.html#t:key_cb_common_option/0">key_cb</a> for the general way to handle keys.</p><p>The option can be given in three different forms as seen <a href="ssh.html#t:accept_hosts/0">above</a>:</p><ul><li>The value is a <code>boolean()</code>. The value <code>true</code> will make the client accept any unknown Host Key without any user interaction. The value <code>false</code> preserves the default behaviour of asking the user on stdio.</li><li>An <code>accept_callback()</code> will be called and the boolean return value <code>true</code> will make the client accept the Host Key. A return value of <code>false</code> will make the client to reject the Host Key and as a result the connection will be closed. The arguments to the fun are:<ul><li><code>PeerName</code> - a string with the name or address of the remote host.</li><li><code>FingerPrint</code> - the fingerprint of the Host Key as <a href="ssh.html#hostkey_fingerprint/1">hostkey_fingerprint/1</a> calculates it.</li></ul></li><li>A tuple <code>{HashAlgoSpec, accept_callback}</code>. The <code>HashAlgoSpec</code> specifies which hash algorithm shall be used to calculate the fingerprint used in the call of the <code>accept_callback()</code>. The <code>HashALgoSpec</code> is either an atom or a list of atoms as the first argument in <a href="ssh.html#hostkey_fingerprint/2">hostkey_fingerprint/2</a>. If it is a list of hash algorithm names, the <code>FingerPrint</code> argument in the <code>accept_callback()</code> will be a list of fingerprints in the same order as the corresponding name in the <code>HashAlgoSpec</code> list.</li></ul></dd><dt><code>user_interaction</code></dt><dd><p>If <code>false</code>, disables the client to connect to the server if any user interaction is needed, such as accepting the server to be added to the <code>known_hosts</code> file, or supplying a password.</p><p>Even if user interaction is allowed it can be suppressed by other options, such as <code>silently_accept_hosts</code> and <code>password</code>. However, those options are not always desirable to use from a security point of view.</p><p>Defaults to <code>true</code>.</p></dd><dt><code>save_accepted_host</code></dt><dd><p>If <code>true</code>, the client saves an accepted host key to avoid the accept question the next time the same host is connected. If the option <a href="ssh.html#t:key_cb_common_option/0"><code>key_cb</code></a> is not present, the key is saved in the file &quot;known_hosts&quot;. See option <a href="ssh_file.html#t:user_dir_common_option/0"><code>user_dir</code></a> for the location of that file.</p><p>If <code>false</code>, the key is not saved and the key will still be unknown at the next access of the same host.</p><p>Defaults to <code>true</code></p></dd><dt><code>quiet_mode</code></dt><dd><p>If <code>true</code>, the client does not print anything on authorization.</p><p>Defaults to <code>false</code></p></dd></dl>
  </section>
</section>
<section class="detail" id="t:accept_hosts/0">

  <div class="detail-header">
    <a href="#t:accept_hosts/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type accept_hosts() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>accept_hosts() ::
    boolean() | <a href="#t:accept_callback/0">accept_callback</a>() | {HashAlgoSpec :: <a href="#t:fp_digest_alg/0">fp_digest_alg</a>(), <a href="#t:accept_callback/0">accept_callback</a>()}.</pre>

      </div>

<dl><dt><a id="hardening_client_options--silently_accept_hosts"></a><code>silently_accept_hosts</code></dt><dd><p>This option guides the <code>connect</code> function on how to act when the connected server presents a Host Key that the client has not seen before. The default is to ask the user with a question on stdio of whether to accept or reject the new Host Key. See the option <a href="ssh_file.html#t:user_dir_common_option/0"><code>user_dir</code></a> for specifying the path to the file <code>known_hosts</code> where previously accepted Host Keys are recorded. See also the option <a href="ssh.html#t:key_cb_common_option/0">key_cb</a> for the general way to handle keys.</p><p>The option can be given in three different forms as seen <a href="ssh.html#t:accept_hosts/0">above</a>:</p><ul><li>The value is a <code>boolean()</code>. The value <code>true</code> will make the client accept any unknown Host Key without any user interaction. The value <code>false</code> preserves the default behaviour of asking the user on stdio.</li><li>An <code>accept_callback()</code> will be called and the boolean return value <code>true</code> will make the client accept the Host Key. A return value of <code>false</code> will make the client to reject the Host Key and as a result the connection will be closed. The arguments to the fun are:<ul><li><code>PeerName</code> - a string with the name or address of the remote host.</li><li><code>FingerPrint</code> - the fingerprint of the Host Key as <a href="ssh.html#hostkey_fingerprint/1">hostkey_fingerprint/1</a> calculates it.</li></ul></li><li>A tuple <code>{HashAlgoSpec, accept_callback}</code>. The <code>HashAlgoSpec</code> specifies which hash algorithm shall be used to calculate the fingerprint used in the call of the <code>accept_callback()</code>. The <code>HashALgoSpec</code> is either an atom or a list of atoms as the first argument in <a href="ssh.html#hostkey_fingerprint/2">hostkey_fingerprint/2</a>. If it is a list of hash algorithm names, the <code>FingerPrint</code> argument in the <code>accept_callback()</code> will be a list of fingerprints in the same order as the corresponding name in the <code>HashAlgoSpec</code> list.</li></ul></dd><dt><code>user_interaction</code></dt><dd><p>If <code>false</code>, disables the client to connect to the server if any user interaction is needed, such as accepting the server to be added to the <code>known_hosts</code> file, or supplying a password.</p><p>Even if user interaction is allowed it can be suppressed by other options, such as <code>silently_accept_hosts</code> and <code>password</code>. However, those options are not always desirable to use from a security point of view.</p><p>Defaults to <code>true</code>.</p></dd><dt><code>save_accepted_host</code></dt><dd><p>If <code>true</code>, the client saves an accepted host key to avoid the accept question the next time the same host is connected. If the option <a href="ssh.html#t:key_cb_common_option/0"><code>key_cb</code></a> is not present, the key is saved in the file &quot;known_hosts&quot;. See option <a href="ssh_file.html#t:user_dir_common_option/0"><code>user_dir</code></a> for the location of that file.</p><p>If <code>false</code>, the key is not saved and the key will still be unknown at the next access of the same host.</p><p>Defaults to <code>true</code></p></dd><dt><code>quiet_mode</code></dt><dd><p>If <code>true</code>, the client does not print anything on authorization.</p><p>Defaults to <code>false</code></p></dd></dl>
  </section>
</section>
<section class="detail" id="t:alg_entry/0">

  <div class="detail-header">
    <a href="#t:alg_entry/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type alg_entry() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>alg_entry() ::
    {kex, [<a href="#t:kex_alg/0">kex_alg</a>()]} |
    {public_key, [<a href="#t:pubkey_alg/0">pubkey_alg</a>()]} |
    {cipher, <a href="#t:double_algs/1">double_algs</a>(<a href="#t:cipher_alg/0">cipher_alg</a>())} |
    {mac, <a href="#t:double_algs/1">double_algs</a>(<a href="#t:mac_alg/0">mac_alg</a>())} |
    {compression, <a href="#t:double_algs/1">double_algs</a>(<a href="#t:compression_alg/0">compression_alg</a>())}.</pre>

      </div>

<p>List of algorithms to use in the algorithm negotiation. The default <code>algs_list()</code> can be obtained from <a href="ssh.html#default_algorithms/0">default_algorithms/0</a>.</p><p>If an alg_entry() is missing in the algs_list(), the default value is used for that entry.</p><p>Here is an example of this option:</p><pre><code class="makeup erlang"><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="2616698724-1">{</span><span class="ss">preferred_algorithms</span><span class="p">,</span><span class="w"> 
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="2616698724-2">[</span><span class="p" data-group-id="2616698724-3">{</span><span class="ss">public_key</span><span class="p">,</span><span class="p" data-group-id="2616698724-4">[</span><span class="ss">&#39;ssh-rsa&#39;</span><span class="p">,</span><span class="ss">&#39;ssh-dss&#39;</span><span class="p" data-group-id="2616698724-4">]</span><span class="p" data-group-id="2616698724-3">}</span><span class="p">,</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="2616698724-5">{</span><span class="ss">cipher</span><span class="p">,</span><span class="p" data-group-id="2616698724-6">[</span><span class="p" data-group-id="2616698724-7">{</span><span class="ss">client2server</span><span class="p">,</span><span class="p" data-group-id="2616698724-8">[</span><span class="ss">&#39;aes128-ctr&#39;</span><span class="p" data-group-id="2616698724-8">]</span><span class="p" data-group-id="2616698724-7">}</span><span class="p">,</span><span class="w">
          </span><span class="p" data-group-id="2616698724-9">{</span><span class="ss">server2client</span><span class="p">,</span><span class="p" data-group-id="2616698724-10">[</span><span class="ss">&#39;aes128-cbc&#39;</span><span class="p">,</span><span class="ss">&#39;3des-cbc&#39;</span><span class="p" data-group-id="2616698724-10">]</span><span class="p" data-group-id="2616698724-9">}</span><span class="p" data-group-id="2616698724-6">]</span><span class="p" data-group-id="2616698724-5">}</span><span class="p">,</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="2616698724-11">{</span><span class="ss">mac</span><span class="p">,</span><span class="p" data-group-id="2616698724-12">[</span><span class="ss">&#39;hmac-sha2-256&#39;</span><span class="p">,</span><span class="ss">&#39;hmac-sha1&#39;</span><span class="p" data-group-id="2616698724-12">]</span><span class="p" data-group-id="2616698724-11">}</span><span class="p">,</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="2616698724-13">{</span><span class="ss">compression</span><span class="p">,</span><span class="p" data-group-id="2616698724-14">[</span><span class="ss">none</span><span class="p">,</span><span class="ss">zlib</span><span class="p" data-group-id="2616698724-14">]</span><span class="p" data-group-id="2616698724-13">}</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="2616698724-2">]</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="2616698724-1">}</span><span class="w">
</span><span class="err">	</span></code></pre><p>The example specifies different algorithms in the two directions (client2server and server2client), for cipher but specifies the same algorithms for mac and compression in both directions. The kex (key exchange) is implicit but public_key is set explicitly.</p><p>For background and more examples see the User's Guide.</p><p>If an algorithm name occurs more than once in a list, the behaviour is undefined. The tags in the property lists are also assumed to occur at most one time.</p><div class="warning"><p>Changing the values can make a connection less secure. Do not change unless you know exactly what you are doing. If you do not understand the values then you are not supposed to change them.</p></div>
  </section>
</section>
<section class="detail" id="t:algs_list/0">

  <div class="detail-header">
    <a href="#t:algs_list/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type algs_list() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>algs_list() :: [<a href="#t:alg_entry/0">alg_entry</a>()].</pre>

      </div>

<p>List of algorithms to use in the algorithm negotiation. The default <code>algs_list()</code> can be obtained from <a href="ssh.html#default_algorithms/0">default_algorithms/0</a>.</p><p>If an alg_entry() is missing in the algs_list(), the default value is used for that entry.</p><p>Here is an example of this option:</p><pre><code class="makeup erlang"><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="2733530636-1">{</span><span class="ss">preferred_algorithms</span><span class="p">,</span><span class="w"> 
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="2733530636-2">[</span><span class="p" data-group-id="2733530636-3">{</span><span class="ss">public_key</span><span class="p">,</span><span class="p" data-group-id="2733530636-4">[</span><span class="ss">&#39;ssh-rsa&#39;</span><span class="p">,</span><span class="ss">&#39;ssh-dss&#39;</span><span class="p" data-group-id="2733530636-4">]</span><span class="p" data-group-id="2733530636-3">}</span><span class="p">,</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="2733530636-5">{</span><span class="ss">cipher</span><span class="p">,</span><span class="p" data-group-id="2733530636-6">[</span><span class="p" data-group-id="2733530636-7">{</span><span class="ss">client2server</span><span class="p">,</span><span class="p" data-group-id="2733530636-8">[</span><span class="ss">&#39;aes128-ctr&#39;</span><span class="p" data-group-id="2733530636-8">]</span><span class="p" data-group-id="2733530636-7">}</span><span class="p">,</span><span class="w">
          </span><span class="p" data-group-id="2733530636-9">{</span><span class="ss">server2client</span><span class="p">,</span><span class="p" data-group-id="2733530636-10">[</span><span class="ss">&#39;aes128-cbc&#39;</span><span class="p">,</span><span class="ss">&#39;3des-cbc&#39;</span><span class="p" data-group-id="2733530636-10">]</span><span class="p" data-group-id="2733530636-9">}</span><span class="p" data-group-id="2733530636-6">]</span><span class="p" data-group-id="2733530636-5">}</span><span class="p">,</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="2733530636-11">{</span><span class="ss">mac</span><span class="p">,</span><span class="p" data-group-id="2733530636-12">[</span><span class="ss">&#39;hmac-sha2-256&#39;</span><span class="p">,</span><span class="ss">&#39;hmac-sha1&#39;</span><span class="p" data-group-id="2733530636-12">]</span><span class="p" data-group-id="2733530636-11">}</span><span class="p">,</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="2733530636-13">{</span><span class="ss">compression</span><span class="p">,</span><span class="p" data-group-id="2733530636-14">[</span><span class="ss">none</span><span class="p">,</span><span class="ss">zlib</span><span class="p" data-group-id="2733530636-14">]</span><span class="p" data-group-id="2733530636-13">}</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="2733530636-2">]</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="2733530636-1">}</span><span class="w">
</span><span class="err">	</span></code></pre><p>The example specifies different algorithms in the two directions (client2server and server2client), for cipher but specifies the same algorithms for mac and compression in both directions. The kex (key exchange) is implicit but public_key is set explicitly.</p><p>For background and more examples see the User's Guide.</p><p>If an algorithm name occurs more than once in a list, the behaviour is undefined. The tags in the property lists are also assumed to occur at most one time.</p><div class="warning"><p>Changing the values can make a connection less secure. Do not change unless you know exactly what you are doing. If you do not understand the values then you are not supposed to change them.</p></div>
  </section>
</section>
<section class="detail" id="t:auth_methods_common_option/0">

  <div class="detail-header">
    <a href="#t:auth_methods_common_option/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type auth_methods_common_option() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>auth_methods_common_option() :: {auth_methods, string()}.</pre>

      </div>

<p>Comma-separated string that determines which authentication methods that the client shall support and in which order they are tried. Defaults to <code>&quot;publickey,keyboard-interactive,password&quot;</code></p><p>Note that the client is free to use any order and to exclude methods.</p>
  </section>
</section>
<section class="detail" id="t:authentication_client_options/0">

  <div class="detail-header">
    <a href="#t:authentication_client_options/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type authentication_client_options() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>authentication_client_options() :: {user, string()} | {password, string()}.</pre>

      </div>

<dl><dt><code>user</code></dt><dd><p>Provides the username. If this option is not given, <code>ssh</code> reads from the environment (<code>LOGNAME</code> or <code>USER</code> on UNIX, <code>USERNAME</code> on Windows).</p></dd><dt><code>password</code></dt><dd><p>Provides a password for password authentication. If this option is not given, the user is asked for a password, if the password authentication method is attempted.</p></dd></dl>
  </section>
</section>
<section class="detail" id="t:authentication_daemon_options/0">

  <div class="detail-header">
    <a href="#t:authentication_daemon_options/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type authentication_daemon_options() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>authentication_daemon_options() ::
    <a href="ssh_file.html#t:system_dir_daemon_option/0">ssh_file:system_dir_daemon_option</a>() |
    {auth_method_kb_interactive_data, <a href="#t:prompt_texts/0">prompt_texts</a>()} |
    {user_passwords, [{UserName :: string(), Pwd :: string()}]} |
    {pk_check_user, boolean()} |
    {password, string()} |
    {pwdfun, <a href="#t:pwdfun_2/0">pwdfun_2</a>() | <a href="#t:pwdfun_4/0">pwdfun_4</a>()}.</pre>

      </div>

<dl><dt><code>auth_method_kb_interactive_data</code></dt><dd><p>Sets the text strings that the daemon sends to the client for presentation to the user when using <code>keyboard-interactive</code> authentication.</p><p>If the fun/3 or fun/4 is used, it is called when the actual authentication occurs and may therefore return dynamic data like time, remote ip etc.</p><p>The parameter <code>Echo</code> guides the client about need to hide the password.</p><p>The default value is: <code>{auth_method_kb_interactive_data, {&quot;SSH server&quot;, &quot;Enter password for \&quot;&quot;++User++&quot;\&quot;&quot;, &quot;password: &quot;, false}&gt;</code></p></dd><dt><a id="option-user_passwords"></a><code>user_passwords</code></dt><dd><p>Provides passwords for password authentication. The passwords are used when someone tries to connect to the server and public key user-authentication fails. The option provides a list of valid usernames and the corresponding passwords.</p><div class="warning"><p>Note that this is very insecure due to the plain-text passwords; it is intended for test purposes. Use the <a href="ssh.html#content#option-pwdfun"><code>pwdfun</code></a> option to handle the password checking instead.</p></div></dd><dt><a id="option-pk_check_user"></a><code>pk_check_user</code></dt><dd><p>Enables checking of the <a href="ssh.html#t:authentication_client_options/0">client's user name</a> in the server when doing public key authentication. It is disabled by default.</p><p>The term &quot;user&quot; is used differently in OpenSSH and SSH in Erlang/OTP: see more in the User's Guide.</p><p>If the option is enabled, and no <a href="ssh.html#content#option-pwdfun"><code>pwdfun</code></a> is present, the user name must present in the <a href="ssh.html#content#option-user_passwords">user_passwords</a> for the check to succeed but the value of the password is not checked.</p><p>In case of a <a href="ssh.html#content#option-pwdfun"><code>pwdfun</code></a> checking the user, the atom <code>pubkey</code> is put in the password argument.</p></dd><dt><a id="option-password"></a><code>password</code></dt><dd><p>Provides a global password that authenticates any user.</p><div class="warning"><p>Intended to facilitate testing.</p><p>From a security perspective this option makes the server very vulnerable.</p></div></dd><dt><a id="option-pwdfun"></a><code>pwdfun</code> with <a href="ssh.html#t:pwdfun_4/0"><code>pwdfun_4()</code></a></dt><dd><p>Provides a function for password validation. This could used for calling an external system or handeling passwords stored as hash values.</p><p>This fun can also be used to make delays in authentication tries for example by calling <a href="https://wojtekmach.pl/otp_docs/stdlib/timer.html#sleep/1">timer:sleep/1</a>.</p><p>To facilitate for instance counting of failed tries, the <code>State</code> variable could be used. This state is per connection only. The first time the pwdfun is called for a connection, the <code>State</code> variable has the value <code>undefined</code>.</p><p>The fun should return:</p><ul><li><code>true</code> if the user and password is valid</li><li><code>false</code> if the user or password is invalid</li><li><code>disconnect</code> if a SSH_MSG_DISCONNECT message should be sent immediately. It will be followed by a close of the underlying tcp connection.</li><li><code>{true, NewState:any()}</code> if the user and password is valid</li><li><code>{false, NewState:any()}</code> if the user or password is invalid</li></ul><p>A third usage is to block login attempts from a missbehaving peer. The <code>State</code> described above can be used for this. The return value <code>disconnect</code> is useful for this.</p><p>In case of the <a href="ssh.html#content#option-pk_check_user"><code>pk_check_user</code></a> is set, the atom <code>pubkey</code> is put in the password argument when validating a public key login. The pwdfun is then responsible to check that the user name is valid.</p></dd><dt><code>pwdfun</code> with <a href="ssh.html#t:pwdfun_2/0"><code>pwdfun_2()</code></a></dt><dd><p>Provides a function for password validation. This function is called with user and password as strings, and returns:</p><ul><li><code>true</code> if the user and password is valid</li><li><code>false</code> if the user or password is invalid</li></ul><p>In case of the <a href="ssh.html#content#option-pk_check_user"><code>pk_check_user</code></a> is set, the atom <code>pubkey</code> is put in the password argument when validating a public key login. The pwdfun is then responsible to check that the user name is valid.</p><p>This variant is kept for compatibility.</p></dd></dl>
  </section>
</section>
<section class="detail" id="t:callbacks_daemon_options/0">

  <div class="detail-header">
    <a href="#t:callbacks_daemon_options/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type callbacks_daemon_options() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>callbacks_daemon_options() ::
    {failfun, fun((User :: string(), PeerAddress :: <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:ip_address/0">inet:ip_address</a>(), Reason :: term()) -> _)} |
    {connectfun,
     fun((User :: string(), PeerAddress :: <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:ip_address/0">inet:ip_address</a>(), Method :: string()) -> _)}.</pre>

      </div>

<dl><dt><code>connectfun</code></dt><dd><p>Provides a fun to implement your own logging when a user authenticates to the server.</p></dd><dt><code>failfun</code></dt><dd><p>Provides a fun to implement your own logging when a user fails to authenticate.</p></dd></dl>
  </section>
</section>
<section class="detail" id="t:channel_id/0">

  <div class="detail-header">
    <a href="#t:channel_id/0" class="detail-link" title="Link to this opaque">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this opaque</span>
    </a>
    <h1 class="signature">-type channel_id() :: term().</h1>


      <span class="note">(opaque)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>channel_id()</pre>

      </div>

<p>Opaque data type representing a channel inside a connection.</p><p>Returned by the functions <a href="ssh_connection.html#session_channel/2">ssh_connection:session_channel/2,4</a>.</p>
  </section>
</section>
<section class="detail" id="t:cipher_alg/0">

  <div class="detail-header">
    <a href="#t:cipher_alg/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type cipher_alg() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>cipher_alg() ::
    '3des-cbc' | 'AEAD_AES_128_GCM' | 'AEAD_AES_256_GCM' | 'aes128-cbc' | 'aes128-ctr' |
    'aes128-gcm@openssh.com' | 'aes192-ctr' | 'aes192-cbc' | 'aes256-cbc' | 'aes256-ctr' |
    'aes256-gcm@openssh.com' | 'chacha20-poly1305@openssh.com'.</pre>

      </div>

<p>List of algorithms to use in the algorithm negotiation. The default <code>algs_list()</code> can be obtained from <a href="ssh.html#default_algorithms/0">default_algorithms/0</a>.</p><p>If an alg_entry() is missing in the algs_list(), the default value is used for that entry.</p><p>Here is an example of this option:</p><pre><code class="makeup erlang"><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="5350536352-1">{</span><span class="ss">preferred_algorithms</span><span class="p">,</span><span class="w"> 
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="5350536352-2">[</span><span class="p" data-group-id="5350536352-3">{</span><span class="ss">public_key</span><span class="p">,</span><span class="p" data-group-id="5350536352-4">[</span><span class="ss">&#39;ssh-rsa&#39;</span><span class="p">,</span><span class="ss">&#39;ssh-dss&#39;</span><span class="p" data-group-id="5350536352-4">]</span><span class="p" data-group-id="5350536352-3">}</span><span class="p">,</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="5350536352-5">{</span><span class="ss">cipher</span><span class="p">,</span><span class="p" data-group-id="5350536352-6">[</span><span class="p" data-group-id="5350536352-7">{</span><span class="ss">client2server</span><span class="p">,</span><span class="p" data-group-id="5350536352-8">[</span><span class="ss">&#39;aes128-ctr&#39;</span><span class="p" data-group-id="5350536352-8">]</span><span class="p" data-group-id="5350536352-7">}</span><span class="p">,</span><span class="w">
          </span><span class="p" data-group-id="5350536352-9">{</span><span class="ss">server2client</span><span class="p">,</span><span class="p" data-group-id="5350536352-10">[</span><span class="ss">&#39;aes128-cbc&#39;</span><span class="p">,</span><span class="ss">&#39;3des-cbc&#39;</span><span class="p" data-group-id="5350536352-10">]</span><span class="p" data-group-id="5350536352-9">}</span><span class="p" data-group-id="5350536352-6">]</span><span class="p" data-group-id="5350536352-5">}</span><span class="p">,</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="5350536352-11">{</span><span class="ss">mac</span><span class="p">,</span><span class="p" data-group-id="5350536352-12">[</span><span class="ss">&#39;hmac-sha2-256&#39;</span><span class="p">,</span><span class="ss">&#39;hmac-sha1&#39;</span><span class="p" data-group-id="5350536352-12">]</span><span class="p" data-group-id="5350536352-11">}</span><span class="p">,</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="5350536352-13">{</span><span class="ss">compression</span><span class="p">,</span><span class="p" data-group-id="5350536352-14">[</span><span class="ss">none</span><span class="p">,</span><span class="ss">zlib</span><span class="p" data-group-id="5350536352-14">]</span><span class="p" data-group-id="5350536352-13">}</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="5350536352-2">]</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="5350536352-1">}</span><span class="w">
</span><span class="err">	</span></code></pre><p>The example specifies different algorithms in the two directions (client2server and server2client), for cipher but specifies the same algorithms for mac and compression in both directions. The kex (key exchange) is implicit but public_key is set explicitly.</p><p>For background and more examples see the User's Guide.</p><p>If an algorithm name occurs more than once in a list, the behaviour is undefined. The tags in the property lists are also assumed to occur at most one time.</p><div class="warning"><p>Changing the values can make a connection less secure. Do not change unless you know exactly what you are doing. If you do not understand the values then you are not supposed to change them.</p></div>
  </section>
</section>
<section class="detail" id="t:client_option/0">

  <div class="detail-header">
    <a href="#t:client_option/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type client_option() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>client_option() ::
    <a href="ssh_file.html#t:pubkey_passphrase_client_options/0">ssh_file:pubkey_passphrase_client_options</a>() |
    <a href="#t:host_accepting_client_options/0">host_accepting_client_options</a>() |
    <a href="#t:authentication_client_options/0">authentication_client_options</a>() |
    <a href="#t:diffie_hellman_group_exchange_client_option/0">diffie_hellman_group_exchange_client_option</a>() |
    <a href="#t:connect_timeout_client_option/0">connect_timeout_client_option</a>() |
    <a href="#t:recv_ext_info_client_option/0">recv_ext_info_client_option</a>() |
    <a href="#t:opaque_client_options/0">opaque_client_options</a>() |
    <a href="https://wojtekmach.pl/otp_docs/kernel/gen_tcp.html#t:connect_option/0">gen_tcp:connect_option</a>() |
    <a href="#t:common_option/0">common_option</a>().</pre>

      </div>

<p>Options for <a href="ssh.html#connect/3">clients</a>. The individual options are further explained below or by following the hyperlinks.</p><p>Note that not every <a href="https://wojtekmach.pl/otp_docs/kernel/gen_tcp.html#t:connect_option/0">gen_tcp:connect_option()</a> is accepted. See <a href="ssh.html#set_sock_opts/2">set_sock_opts/2</a> for a list of prohibited options.</p><p>Also note that setting a <a href="https://wojtekmach.pl/otp_docs/kernel/gen_tcp.html#t:connect_option/0">gen_tcp:connect_option()</a> could change the socket in a way that impacts the ssh client's behaviour negatively. You use it on your own risk.</p>
  </section>
</section>
<section class="detail" id="t:client_options/0">

  <div class="detail-header">
    <a href="#t:client_options/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type client_options() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>client_options() :: [<a href="#t:client_option/0">client_option</a>()].</pre>

      </div>

<p>Options for <a href="ssh.html#connect/3">clients</a>. The individual options are further explained below or by following the hyperlinks.</p><p>Note that not every <a href="https://wojtekmach.pl/otp_docs/kernel/gen_tcp.html#t:connect_option/0">gen_tcp:connect_option()</a> is accepted. See <a href="ssh.html#set_sock_opts/2">set_sock_opts/2</a> for a list of prohibited options.</p><p>Also note that setting a <a href="https://wojtekmach.pl/otp_docs/kernel/gen_tcp.html#t:connect_option/0">gen_tcp:connect_option()</a> could change the socket in a way that impacts the ssh client's behaviour negatively. You use it on your own risk.</p>
  </section>
</section>
<section class="detail" id="t:common_option/0">

  <div class="detail-header">
    <a href="#t:common_option/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type common_option() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>common_option() ::
    <a href="ssh_file.html#t:user_dir_common_option/0">ssh_file:user_dir_common_option</a>() |
    <a href="#t:profile_common_option/0">profile_common_option</a>() |
    <a href="#t:max_idle_time_common_option/0">max_idle_time_common_option</a>() |
    <a href="#t:key_cb_common_option/0">key_cb_common_option</a>() |
    <a href="#t:disconnectfun_common_option/0">disconnectfun_common_option</a>() |
    <a href="#t:unexpectedfun_common_option/0">unexpectedfun_common_option</a>() |
    <a href="#t:ssh_msg_debug_fun_common_option/0">ssh_msg_debug_fun_common_option</a>() |
    <a href="#t:rekey_limit_common_option/0">rekey_limit_common_option</a>() |
    <a href="#t:id_string_common_option/0">id_string_common_option</a>() |
    <a href="#t:pref_public_key_algs_common_option/0">pref_public_key_algs_common_option</a>() |
    <a href="#t:preferred_algorithms_common_option/0">preferred_algorithms_common_option</a>() |
    <a href="#t:modify_algorithms_common_option/0">modify_algorithms_common_option</a>() |
    <a href="#t:auth_methods_common_option/0">auth_methods_common_option</a>() |
    <a href="#t:inet_common_option/0">inet_common_option</a>() |
    <a href="#t:fd_common_option/0">fd_common_option</a>().</pre>

      </div>

<p>The options above can be used both in clients and in daemons (servers). They are further explained below.</p>
  </section>
</section>
<section class="detail" id="t:common_options/0">

  <div class="detail-header">
    <a href="#t:common_options/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type common_options() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>common_options() :: [<a href="#t:common_option/0">common_option</a>()].</pre>

      </div>

<p>The options above can be used both in clients and in daemons (servers). They are further explained below.</p>
  </section>
</section>
<section class="detail" id="t:compression_alg/0">

  <div class="detail-header">
    <a href="#t:compression_alg/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type compression_alg() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>compression_alg() :: none | zlib | 'zlib@openssh.com'.</pre>

      </div>

<p>List of algorithms to use in the algorithm negotiation. The default <code>algs_list()</code> can be obtained from <a href="ssh.html#default_algorithms/0">default_algorithms/0</a>.</p><p>If an alg_entry() is missing in the algs_list(), the default value is used for that entry.</p><p>Here is an example of this option:</p><pre><code class="makeup erlang"><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="9835733890-1">{</span><span class="ss">preferred_algorithms</span><span class="p">,</span><span class="w"> 
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="9835733890-2">[</span><span class="p" data-group-id="9835733890-3">{</span><span class="ss">public_key</span><span class="p">,</span><span class="p" data-group-id="9835733890-4">[</span><span class="ss">&#39;ssh-rsa&#39;</span><span class="p">,</span><span class="ss">&#39;ssh-dss&#39;</span><span class="p" data-group-id="9835733890-4">]</span><span class="p" data-group-id="9835733890-3">}</span><span class="p">,</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="9835733890-5">{</span><span class="ss">cipher</span><span class="p">,</span><span class="p" data-group-id="9835733890-6">[</span><span class="p" data-group-id="9835733890-7">{</span><span class="ss">client2server</span><span class="p">,</span><span class="p" data-group-id="9835733890-8">[</span><span class="ss">&#39;aes128-ctr&#39;</span><span class="p" data-group-id="9835733890-8">]</span><span class="p" data-group-id="9835733890-7">}</span><span class="p">,</span><span class="w">
          </span><span class="p" data-group-id="9835733890-9">{</span><span class="ss">server2client</span><span class="p">,</span><span class="p" data-group-id="9835733890-10">[</span><span class="ss">&#39;aes128-cbc&#39;</span><span class="p">,</span><span class="ss">&#39;3des-cbc&#39;</span><span class="p" data-group-id="9835733890-10">]</span><span class="p" data-group-id="9835733890-9">}</span><span class="p" data-group-id="9835733890-6">]</span><span class="p" data-group-id="9835733890-5">}</span><span class="p">,</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="9835733890-11">{</span><span class="ss">mac</span><span class="p">,</span><span class="p" data-group-id="9835733890-12">[</span><span class="ss">&#39;hmac-sha2-256&#39;</span><span class="p">,</span><span class="ss">&#39;hmac-sha1&#39;</span><span class="p" data-group-id="9835733890-12">]</span><span class="p" data-group-id="9835733890-11">}</span><span class="p">,</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="9835733890-13">{</span><span class="ss">compression</span><span class="p">,</span><span class="p" data-group-id="9835733890-14">[</span><span class="ss">none</span><span class="p">,</span><span class="ss">zlib</span><span class="p" data-group-id="9835733890-14">]</span><span class="p" data-group-id="9835733890-13">}</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="9835733890-2">]</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="9835733890-1">}</span><span class="w">
</span><span class="err">	</span></code></pre><p>The example specifies different algorithms in the two directions (client2server and server2client), for cipher but specifies the same algorithms for mac and compression in both directions. The kex (key exchange) is implicit but public_key is set explicitly.</p><p>For background and more examples see the User's Guide.</p><p>If an algorithm name occurs more than once in a list, the behaviour is undefined. The tags in the property lists are also assumed to occur at most one time.</p><div class="warning"><p>Changing the values can make a connection less secure. Do not change unless you know exactly what you are doing. If you do not understand the values then you are not supposed to change them.</p></div>
  </section>
</section>
<section class="detail" id="t:conn_info_algs/0">

  <div class="detail-header">
    <a href="#t:conn_info_algs/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type conn_info_algs() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>conn_info_algs() ::
    [{kex, <a href="#t:kex_alg/0">kex_alg</a>()} |
     {hkey, <a href="#t:pubkey_alg/0">pubkey_alg</a>()} |
     {encrypt, <a href="#t:cipher_alg/0">cipher_alg</a>()} |
     {decrypt, <a href="#t:cipher_alg/0">cipher_alg</a>()} |
     {send_mac, <a href="#t:mac_alg/0">mac_alg</a>()} |
     {recv_mac, <a href="#t:mac_alg/0">mac_alg</a>()} |
     {compress, <a href="#t:compression_alg/0">compression_alg</a>()} |
     {decompress, <a href="#t:compression_alg/0">compression_alg</a>()} |
     {send_ext_info, boolean()} |
     {recv_ext_info, boolean()}].</pre>

      </div>

<p>Return values from the <a href="ssh.html#connection_info/1">connection_info/1</a> and <a href="ssh.html#connection_info/2">connection_info/2</a> functions.</p><p>In the <code>option</code> info tuple are only the options included that differs from the default values.</p>
  </section>
</section>
<section class="detail" id="t:conn_info_channels/0">

  <div class="detail-header">
    <a href="#t:conn_info_channels/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type conn_info_channels() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>conn_info_channels() :: [<a href="https://wojtekmach.pl/otp_docs/stdlib/proplists.html#t:proplist/0">proplists:proplist</a>()].</pre>

      </div>

<p>Return values from the <a href="ssh.html#connection_info/1">connection_info/1</a> and <a href="ssh.html#connection_info/2">connection_info/2</a> functions.</p><p>In the <code>option</code> info tuple are only the options included that differs from the default values.</p>
  </section>
</section>
<section class="detail" id="t:connect_timeout_client_option/0">

  <div class="detail-header">
    <a href="#t:connect_timeout_client_option/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type connect_timeout_client_option() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>connect_timeout_client_option() :: {connect_timeout, timeout()}.</pre>

      </div>

<p>Sets a timeout on the transport layer connect time. For <a href="https://wojtekmach.pl/otp_docs/kernel/gen_tcp.html"><code>gen_tcp</code></a> the time is in milli-seconds and the default value is <code>infinity</code>.</p><p>See the parameter <code>Timeout</code> in <a href="ssh.html#connect/4">connect/4</a> for a timeout of the negotiation phase.</p>
  </section>
</section>
<section class="detail" id="t:connection_info_tuple/0">

  <div class="detail-header">
    <a href="#t:connection_info_tuple/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type connection_info_tuple() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>connection_info_tuple() ::
    {client_version, <a href="#t:version/0">version</a>()} |
    {server_version, <a href="#t:version/0">version</a>()} |
    {user, string()} |
    {peer, {<a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:hostname/0">inet:hostname</a>(), <a href="#t:ip_port/0">ip_port</a>()}} |
    {sockname, <a href="#t:ip_port/0">ip_port</a>()} |
    {options, <a href="#t:client_options/0">client_options</a>()} |
    {algorithms, <a href="#t:conn_info_algs/0">conn_info_algs</a>()} |
    {channels, <a href="#t:conn_info_channels/0">conn_info_channels</a>()}.</pre>

      </div>

<p>Return values from the <a href="ssh.html#connection_info/1">connection_info/1</a> and <a href="ssh.html#connection_info/2">connection_info/2</a> functions.</p><p>In the <code>option</code> info tuple are only the options included that differs from the default values.</p>
  </section>
</section>
<section class="detail" id="t:connection_ref/0">

  <div class="detail-header">
    <a href="#t:connection_ref/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">connection_ref()</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>connection_ref() :: pid().</pre>

      </div>

<p>Opaque data type representing a connection between a client and a server (daemon).</p><p>Returned by the functions <a href="ssh.html#connect/3"><code>connect/2,3,4</code></a> and <a href="ssh_sftp.html#start_channel/2"><code>ssh_sftp:start_channel/2,3</code></a>.</p>
  </section>
</section>
<section class="detail" id="t:daemon_info_tuple/0">

  <div class="detail-header">
    <a href="#t:daemon_info_tuple/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type daemon_info_tuple() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>daemon_info_tuple() ::
    {port, <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:port_number/0">inet:port_number</a>()} |
    {ip, <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:ip_address/0">inet:ip_address</a>()} |
    {profile, atom()} |
    {options, <a href="#t:daemon_options/0">daemon_options</a>()}.</pre>

      </div>

<p>Return values from the <a href="ssh.html#daemon_info/1">daemon_info/1</a> and <a href="ssh.html#daemon_info/2">daemon_info/2</a> functions.</p><p>In the <code>option</code> info tuple are only the options included that differs from the default values.</p>
  </section>
</section>
<section class="detail" id="t:daemon_option/0">

  <div class="detail-header">
    <a href="#t:daemon_option/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type daemon_option() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>daemon_option() ::
    <a href="#t:subsystem_daemon_option/0">subsystem_daemon_option</a>() |
    <a href="#t:shell_daemon_option/0">shell_daemon_option</a>() |
    <a href="#t:exec_daemon_option/0">exec_daemon_option</a>() |
    <a href="#t:ssh_cli_daemon_option/0">ssh_cli_daemon_option</a>() |
    <a href="#t:tcpip_tunnel_out_daemon_option/0">tcpip_tunnel_out_daemon_option</a>() |
    <a href="#t:tcpip_tunnel_in_daemon_option/0">tcpip_tunnel_in_daemon_option</a>() |
    <a href="#t:authentication_daemon_options/0">authentication_daemon_options</a>() |
    <a href="#t:diffie_hellman_group_exchange_daemon_option/0">diffie_hellman_group_exchange_daemon_option</a>() |
    <a href="#t:negotiation_timeout_daemon_option/0">negotiation_timeout_daemon_option</a>() |
    <a href="#t:hello_timeout_daemon_option/0">hello_timeout_daemon_option</a>() |
    <a href="#t:hardening_daemon_options/0">hardening_daemon_options</a>() |
    <a href="#t:callbacks_daemon_options/0">callbacks_daemon_options</a>() |
    <a href="#t:send_ext_info_daemon_option/0">send_ext_info_daemon_option</a>() |
    <a href="#t:opaque_daemon_options/0">opaque_daemon_options</a>() |
    <a href="https://wojtekmach.pl/otp_docs/kernel/gen_tcp.html#t:listen_option/0">gen_tcp:listen_option</a>() |
    <a href="#t:common_option/0">common_option</a>().</pre>

      </div>

<p>Options for <a href="ssh.html#daemon/1">daemons</a>. The individual options are further explained below or by following the hyperlinks.</p><p>Note that not every <a href="https://wojtekmach.pl/otp_docs/kernel/gen_tcp.html#t:listen_option/0">gen_tcp:listen_option()</a> is accepted. See <a href="ssh.html#set_sock_opts/2">set_sock_opts/2</a> for a list of prohibited options.</p><p>Also note that setting a <a href="https://wojtekmach.pl/otp_docs/kernel/gen_tcp.html#t:listen_option/0">gen_tcp:listen_option()</a> could change the socket in a way that impacts the ssh deamon's behaviour negatively. You use it on your own risk.</p>
  </section>
</section>
<section class="detail" id="t:daemon_options/0">

  <div class="detail-header">
    <a href="#t:daemon_options/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type daemon_options() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>daemon_options() :: [<a href="#t:daemon_option/0">daemon_option</a>()].</pre>

      </div>

<p>Options for <a href="ssh.html#daemon/1">daemons</a>. The individual options are further explained below or by following the hyperlinks.</p><p>Note that not every <a href="https://wojtekmach.pl/otp_docs/kernel/gen_tcp.html#t:listen_option/0">gen_tcp:listen_option()</a> is accepted. See <a href="ssh.html#set_sock_opts/2">set_sock_opts/2</a> for a list of prohibited options.</p><p>Also note that setting a <a href="https://wojtekmach.pl/otp_docs/kernel/gen_tcp.html#t:listen_option/0">gen_tcp:listen_option()</a> could change the socket in a way that impacts the ssh deamon's behaviour negatively. You use it on your own risk.</p>
  </section>
</section>
<section class="detail" id="t:daemon_ref/0">

  <div class="detail-header">
    <a href="#t:daemon_ref/0" class="detail-link" title="Link to this opaque">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this opaque</span>
    </a>
    <h1 class="signature">-type daemon_ref() :: term().</h1>


      <span class="note">(opaque)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>daemon_ref()</pre>

      </div>

<p>Opaque data type representing a daemon.</p><p>Returned by the functions <a href="ssh.html#daemon/1"><code>daemon/1,2,3</code></a>.</p>
  </section>
</section>
<section class="detail" id="t:deprecated_exec_opt/0">

  <div class="detail-header">
    <a href="#t:deprecated_exec_opt/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type deprecated_exec_opt() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>deprecated_exec_opt() :: fun() | <a href="#t:mod_fun_args/0">mod_fun_args</a>().</pre>

      </div>

<p>Old-style exec specification that are kept for compatibility, but should not be used in new programs</p>
  </section>
</section>
<section class="detail" id="t:diffie_hellman_group_exchange_client_option/0">

  <div class="detail-header">
    <a href="#t:diffie_hellman_group_exchange_client_option/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type diffie_hellman_group_exchange_client_option() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>diffie_hellman_group_exchange_client_option() ::
    {dh_gex_limits, {Min :: pos_integer(), I :: pos_integer(), Max :: pos_integer()}}.</pre>

      </div>

<p>Sets the three diffie-hellman-group-exchange parameters that guides the connected server in choosing a group. See <a href="https://tools.ietf.org/html/rfc4419">RFC 4419</a> for the details. The default value is <code>{1024, 6144, 8192}</code>.</p>
  </section>
</section>
<section class="detail" id="t:diffie_hellman_group_exchange_daemon_option/0">

  <div class="detail-header">
    <a href="#t:diffie_hellman_group_exchange_daemon_option/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type diffie_hellman_group_exchange_daemon_option() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>diffie_hellman_group_exchange_daemon_option() ::
    {dh_gex_groups, [<a href="#t:explicit_group/0">explicit_group</a>()] | <a href="#t:explicit_group_file/0">explicit_group_file</a>() | <a href="#t:ssh_moduli_file/0">ssh_moduli_file</a>()} |
    {dh_gex_limits, {Min :: pos_integer(), Max :: pos_integer()}}.</pre>

      </div>

<dl><dt><code>dh_gex_groups</code></dt><dd><p>Defines the groups the server may choose among when diffie-hellman-group-exchange is negotiated. See <a href="https://tools.ietf.org/html/rfc4419">RFC 4419</a> for details. The three variants of this option are:</p><dl><dt><code>{Size=integer(),G=integer(),P=integer()}</code></dt><dd>The groups are given explicitly in this list. There may be several elements with the same <code>Size</code>. In such a case, the server will choose one randomly in the negotiated Size.</dd><dt><code>{file,filename()}</code></dt><dd>The file must have one or more three-tuples <code>{Size=integer(),G=integer(),P=integer()}</code> terminated by a dot. The file is read when the daemon starts.</dd><dt><code>{ssh_moduli_file,filename()}</code></dt><dd>The file must be in <a href="https://wojtekmach.pl/otp_docs/public_key/public_key.html#dh_gex_group/4">ssh-keygen moduli file format</a>. The file is read when the daemon starts.</dd></dl><p>The default list is fetched from the <a href="https://wojtekmach.pl/otp_docs/public_key/public_key.html#dh_gex_group/4">public_key</a> application.</p></dd><dt><code>dh_gex_limits</code></dt><dd><p>Limits what a client can ask for in diffie-hellman-group-exchange. The limits will be <code>{MaxUsed = min(MaxClient,Max), MinUsed = max(MinClient,Min)}</code> where <code>MaxClient</code> and <code>MinClient</code> are the values proposed by a connecting client.</p><p>The default value is <code>{0,infinity}</code>.</p><p>If <code>MaxUsed &lt; MinUsed</code> in a key exchange, it will fail with a disconnect.</p><p>See <a href="https://tools.ietf.org/html/rfc4419">RFC 4419</a> for the function of the Max and Min values.</p></dd></dl>
  </section>
</section>
<section class="detail" id="t:disconnectfun_common_option/0">

  <div class="detail-header">
    <a href="#t:disconnectfun_common_option/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type disconnectfun_common_option() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>disconnectfun_common_option() :: {disconnectfun, fun((Reason :: term()) -> void | any())}.</pre>

      </div>

<p>Provides a fun to implement your own logging or other handling at disconnects.</p>
  </section>
</section>
<section class="detail" id="t:double_algs/1">

  <div class="detail-header">
    <a href="#t:double_algs/1" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type double_algs(Arg1) :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>double_algs(AlgType) :: [{client2server, [AlgType]} | {server2client, [AlgType]}] | [AlgType].</pre>

      </div>

<p>List of algorithms to use in the algorithm negotiation. The default <code>algs_list()</code> can be obtained from <a href="ssh.html#default_algorithms/0">default_algorithms/0</a>.</p><p>If an alg_entry() is missing in the algs_list(), the default value is used for that entry.</p><p>Here is an example of this option:</p><pre><code class="makeup erlang"><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="7467409053-1">{</span><span class="ss">preferred_algorithms</span><span class="p">,</span><span class="w"> 
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="7467409053-2">[</span><span class="p" data-group-id="7467409053-3">{</span><span class="ss">public_key</span><span class="p">,</span><span class="p" data-group-id="7467409053-4">[</span><span class="ss">&#39;ssh-rsa&#39;</span><span class="p">,</span><span class="ss">&#39;ssh-dss&#39;</span><span class="p" data-group-id="7467409053-4">]</span><span class="p" data-group-id="7467409053-3">}</span><span class="p">,</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="7467409053-5">{</span><span class="ss">cipher</span><span class="p">,</span><span class="p" data-group-id="7467409053-6">[</span><span class="p" data-group-id="7467409053-7">{</span><span class="ss">client2server</span><span class="p">,</span><span class="p" data-group-id="7467409053-8">[</span><span class="ss">&#39;aes128-ctr&#39;</span><span class="p" data-group-id="7467409053-8">]</span><span class="p" data-group-id="7467409053-7">}</span><span class="p">,</span><span class="w">
          </span><span class="p" data-group-id="7467409053-9">{</span><span class="ss">server2client</span><span class="p">,</span><span class="p" data-group-id="7467409053-10">[</span><span class="ss">&#39;aes128-cbc&#39;</span><span class="p">,</span><span class="ss">&#39;3des-cbc&#39;</span><span class="p" data-group-id="7467409053-10">]</span><span class="p" data-group-id="7467409053-9">}</span><span class="p" data-group-id="7467409053-6">]</span><span class="p" data-group-id="7467409053-5">}</span><span class="p">,</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="7467409053-11">{</span><span class="ss">mac</span><span class="p">,</span><span class="p" data-group-id="7467409053-12">[</span><span class="ss">&#39;hmac-sha2-256&#39;</span><span class="p">,</span><span class="ss">&#39;hmac-sha1&#39;</span><span class="p" data-group-id="7467409053-12">]</span><span class="p" data-group-id="7467409053-11">}</span><span class="p">,</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="7467409053-13">{</span><span class="ss">compression</span><span class="p">,</span><span class="p" data-group-id="7467409053-14">[</span><span class="ss">none</span><span class="p">,</span><span class="ss">zlib</span><span class="p" data-group-id="7467409053-14">]</span><span class="p" data-group-id="7467409053-13">}</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="7467409053-2">]</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="7467409053-1">}</span><span class="w">
</span><span class="err">	</span></code></pre><p>The example specifies different algorithms in the two directions (client2server and server2client), for cipher but specifies the same algorithms for mac and compression in both directions. The kex (key exchange) is implicit but public_key is set explicitly.</p><p>For background and more examples see the User's Guide.</p><p>If an algorithm name occurs more than once in a list, the behaviour is undefined. The tags in the property lists are also assumed to occur at most one time.</p><div class="warning"><p>Changing the values can make a connection less secure. Do not change unless you know exactly what you are doing. If you do not understand the values then you are not supposed to change them.</p></div>
  </section>
</section>
<section class="detail" id="t:exec_daemon_option/0">

  <div class="detail-header">
    <a href="#t:exec_daemon_option/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type exec_daemon_option() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>exec_daemon_option() :: {exec, <a href="#t:exec_spec/0">exec_spec</a>()}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:exec_fun/0">

  <div class="detail-header">
    <a href="#t:exec_fun/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type exec_fun() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>exec_fun() :: <a href="#t:exec_fun/1/0">'exec_fun/1'</a>() | <a href="#t:exec_fun/2/0">'exec_fun/2'</a>() | <a href="#t:exec_fun/3/0">'exec_fun/3'</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:exec_fun/1/0">

  <div class="detail-header">
    <a href="#t:exec_fun/1/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type 'exec_fun/1'() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>'exec_fun/1'() :: fun((Cmd :: string()) -> <a href="#t:exec_result/0">exec_result</a>()).</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:exec_fun/2/0">

  <div class="detail-header">
    <a href="#t:exec_fun/2/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type 'exec_fun/2'() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>'exec_fun/2'() :: fun((Cmd :: string(), User :: string()) -> <a href="#t:exec_result/0">exec_result</a>()).</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:exec_fun/3/0">

  <div class="detail-header">
    <a href="#t:exec_fun/3/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type 'exec_fun/3'() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>'exec_fun/3'() ::
    fun((Cmd :: string(), User :: string(), ClientAddr :: <a href="#t:ip_port/0">ip_port</a>()) -> <a href="#t:exec_result/0">exec_result</a>()).</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:exec_result/0">

  <div class="detail-header">
    <a href="#t:exec_result/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type exec_result() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>exec_result() :: {ok, Result :: term()} | {error, Reason :: term()}.</pre>

      </div>

<p>This option changes how the daemon executes exec-requests from clients. The term in the return value is formatted to a string if it is a non-string type. No trailing newline is added in the ok-case.</p><p>See the User's Guide section on One-Time Execution for examples.</p><p>Error texts are returned on channel-type 1 which usually is piped to <code>stderr</code> on e.g Linux systems. Texts from a successful execution are returned on channel-type 0 and will in similar manner be piped to <code>stdout</code>. The exit-status code is set to 0 for success and 255 for errors. The exact results presented on the client side depends on the client and the client's operating system.</p><p>In case of the <code>{direct, exec_fun()}</code> variant or no exec-option at all, all reads from <code>standard_input</code> will be from the received data-events of type 0. Those are sent by the client. Similarily all writes to <code>standard_output</code> will be sent as data-events to the client. An OS shell client like the command 'ssh' will usally use stdin and stdout for the user interface.</p><p>The option cooperates with the daemon-option <a href="ssh.html#t:shell_daemon_option/0"><code>shell</code></a> in the following way:</p><dl><dt>1. If neither the <a href="ssh.html#t:exec_daemon_option/0"><code>exec-option</code></a> nor the <a href="ssh.html#t:shell_daemon_option/0"><code>shell-option</code></a> is present:</dt><dd><p>The default Erlang evaluator is used both for exec and shell requests. The result is returned to the client.</p></dd><dt>2. If the <a href="ssh.html#t:exec_daemon_option/0"><code>exec_spec</code></a>'s value is <code>disabled</code> (the <a href="ssh.html#t:shell_daemon_option/0"><code>shell-option</code></a> may or may not be present):</dt><dd><p>No exec-requests are executed but shell-requests are not affected, they follow the <a href="ssh.html#t:shell_daemon_option/0"><code>shell_spec</code></a>'s value.</p></dd><dt>3. If the <a href="ssh.html#t:exec_daemon_option/0"><code>exec-option</code></a> is present and the <a href="ssh.html#t:exec_daemon_option/0"><code>exec_spec</code></a> value =/= <code>disabled</code> (the <a href="ssh.html#t:shell_daemon_option/0"><code>shell-option</code></a> may or may not be present):</dt><dd><p>The <a href="ssh.html#t:exec_daemon_option/0"><code>exec_spec</code></a> <code>fun()</code> is called with the same number of parameters as the arity of the fun, and the result is returned to the client. Shell-requests are not affected, they follow the <a href="ssh.html#t:shell_daemon_option/0"><code>shell_spec</code></a>'s value.</p></dd><dt>4. If the <a href="ssh.html#t:exec_daemon_option/0"><code>exec-option</code></a> is absent, and the <a href="ssh.html#t:shell_daemon_option/0"><code>shell-option</code></a> is present with the default Erlang shell as the <a href="ssh.html#t:shell_daemon_option/0"><code>shell_spec</code></a>'s value:</dt><dd><p>The default Erlang evaluator is used both for exec and shell requests. The result is returned to the client.</p></dd><dt>5. If the <a href="ssh.html#t:exec_daemon_option/0"><code>exec-option</code></a> is absent, and the <a href="ssh.html#t:shell_daemon_option/0"><code>shell-option</code></a> is present with a value that is neither the default Erlang shell nor the value <code>disabled</code>:</dt><dd><p>The exec-request is not evaluated and an error message is returned to the client. Shell-requests are executed according to the value of the <a href="ssh.html#t:shell_daemon_option/0"><code>shell_spec</code></a>.</p></dd><dt>6. If the <a href="ssh.html#t:exec_daemon_option/0"><code>exec-option</code></a> is absent, and the <a href="ssh.html#t:shell_daemon_option/0"><code>shell_spec</code></a>'s value is <code>disabled</code>:</dt><dd><p>Exec requests are executed by the default shell, but shell-requests are not executed.</p></dd></dl><p>If a custom CLI is installed (see the option <a href="ssh.html#t:ssh_cli_daemon_option/0"><code>ssh_cli</code></a>) the rules above are replaced by thoose implied by the custom CLI.</p><div class="note"><p>The <a href="ssh.html#t:exec_daemon_option/0"><code>exec-option</code></a> has existed for a long time but has not previously been documented. The old definition and behaviour are retained but obey the rules 1-6 above if conflicting. The old and undocumented style should not be used in new programs.</p></div>
  </section>
</section>
<section class="detail" id="t:exec_spec/0">

  <div class="detail-header">
    <a href="#t:exec_spec/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type exec_spec() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>exec_spec() :: {direct, <a href="#t:exec_fun/0">exec_fun</a>()} | disabled | <a href="#t:deprecated_exec_opt/0">deprecated_exec_opt</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:explicit_group/0">

  <div class="detail-header">
    <a href="#t:explicit_group/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type explicit_group() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>explicit_group() :: {Size :: pos_integer(), G :: pos_integer(), P :: pos_integer()}.</pre>

      </div>

<dl><dt><code>dh_gex_groups</code></dt><dd><p>Defines the groups the server may choose among when diffie-hellman-group-exchange is negotiated. See <a href="https://tools.ietf.org/html/rfc4419">RFC 4419</a> for details. The three variants of this option are:</p><dl><dt><code>{Size=integer(),G=integer(),P=integer()}</code></dt><dd>The groups are given explicitly in this list. There may be several elements with the same <code>Size</code>. In such a case, the server will choose one randomly in the negotiated Size.</dd><dt><code>{file,filename()}</code></dt><dd>The file must have one or more three-tuples <code>{Size=integer(),G=integer(),P=integer()}</code> terminated by a dot. The file is read when the daemon starts.</dd><dt><code>{ssh_moduli_file,filename()}</code></dt><dd>The file must be in <a href="https://wojtekmach.pl/otp_docs/public_key/public_key.html#dh_gex_group/4">ssh-keygen moduli file format</a>. The file is read when the daemon starts.</dd></dl><p>The default list is fetched from the <a href="https://wojtekmach.pl/otp_docs/public_key/public_key.html#dh_gex_group/4">public_key</a> application.</p></dd><dt><code>dh_gex_limits</code></dt><dd><p>Limits what a client can ask for in diffie-hellman-group-exchange. The limits will be <code>{MaxUsed = min(MaxClient,Max), MinUsed = max(MinClient,Min)}</code> where <code>MaxClient</code> and <code>MinClient</code> are the values proposed by a connecting client.</p><p>The default value is <code>{0,infinity}</code>.</p><p>If <code>MaxUsed &lt; MinUsed</code> in a key exchange, it will fail with a disconnect.</p><p>See <a href="https://tools.ietf.org/html/rfc4419">RFC 4419</a> for the function of the Max and Min values.</p></dd></dl>
  </section>
</section>
<section class="detail" id="t:explicit_group_file/0">

  <div class="detail-header">
    <a href="#t:explicit_group_file/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type explicit_group_file() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>explicit_group_file() :: {file, string()}.</pre>

      </div>

<dl><dt><code>dh_gex_groups</code></dt><dd><p>Defines the groups the server may choose among when diffie-hellman-group-exchange is negotiated. See <a href="https://tools.ietf.org/html/rfc4419">RFC 4419</a> for details. The three variants of this option are:</p><dl><dt><code>{Size=integer(),G=integer(),P=integer()}</code></dt><dd>The groups are given explicitly in this list. There may be several elements with the same <code>Size</code>. In such a case, the server will choose one randomly in the negotiated Size.</dd><dt><code>{file,filename()}</code></dt><dd>The file must have one or more three-tuples <code>{Size=integer(),G=integer(),P=integer()}</code> terminated by a dot. The file is read when the daemon starts.</dd><dt><code>{ssh_moduli_file,filename()}</code></dt><dd>The file must be in <a href="https://wojtekmach.pl/otp_docs/public_key/public_key.html#dh_gex_group/4">ssh-keygen moduli file format</a>. The file is read when the daemon starts.</dd></dl><p>The default list is fetched from the <a href="https://wojtekmach.pl/otp_docs/public_key/public_key.html#dh_gex_group/4">public_key</a> application.</p></dd><dt><code>dh_gex_limits</code></dt><dd><p>Limits what a client can ask for in diffie-hellman-group-exchange. The limits will be <code>{MaxUsed = min(MaxClient,Max), MinUsed = max(MinClient,Min)}</code> where <code>MaxClient</code> and <code>MinClient</code> are the values proposed by a connecting client.</p><p>The default value is <code>{0,infinity}</code>.</p><p>If <code>MaxUsed &lt; MinUsed</code> in a key exchange, it will fail with a disconnect.</p><p>See <a href="https://tools.ietf.org/html/rfc4419">RFC 4419</a> for the function of the Max and Min values.</p></dd></dl>
  </section>
</section>
<section class="detail" id="t:fd_common_option/0">

  <div class="detail-header">
    <a href="#t:fd_common_option/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type fd_common_option() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>fd_common_option() :: {fd, <a href="https://wojtekmach.pl/otp_docs/kernel/gen_tcp.html#t:socket/0">gen_tcp:socket</a>()}.</pre>

      </div>

<p>Allows an existing file-descriptor to be used (passed on to the transport protocol).</p>
  </section>
</section>
<section class="detail" id="t:fingerprint/0">

  <div class="detail-header">
    <a href="#t:fingerprint/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type fingerprint() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>fingerprint() :: string() | [string()].</pre>

      </div>

<dl><dt><a id="hardening_client_options--silently_accept_hosts"></a><code>silently_accept_hosts</code></dt><dd><p>This option guides the <code>connect</code> function on how to act when the connected server presents a Host Key that the client has not seen before. The default is to ask the user with a question on stdio of whether to accept or reject the new Host Key. See the option <a href="ssh_file.html#t:user_dir_common_option/0"><code>user_dir</code></a> for specifying the path to the file <code>known_hosts</code> where previously accepted Host Keys are recorded. See also the option <a href="ssh.html#t:key_cb_common_option/0">key_cb</a> for the general way to handle keys.</p><p>The option can be given in three different forms as seen <a href="ssh.html#t:accept_hosts/0">above</a>:</p><ul><li>The value is a <code>boolean()</code>. The value <code>true</code> will make the client accept any unknown Host Key without any user interaction. The value <code>false</code> preserves the default behaviour of asking the user on stdio.</li><li>An <code>accept_callback()</code> will be called and the boolean return value <code>true</code> will make the client accept the Host Key. A return value of <code>false</code> will make the client to reject the Host Key and as a result the connection will be closed. The arguments to the fun are:<ul><li><code>PeerName</code> - a string with the name or address of the remote host.</li><li><code>FingerPrint</code> - the fingerprint of the Host Key as <a href="ssh.html#hostkey_fingerprint/1">hostkey_fingerprint/1</a> calculates it.</li></ul></li><li>A tuple <code>{HashAlgoSpec, accept_callback}</code>. The <code>HashAlgoSpec</code> specifies which hash algorithm shall be used to calculate the fingerprint used in the call of the <code>accept_callback()</code>. The <code>HashALgoSpec</code> is either an atom or a list of atoms as the first argument in <a href="ssh.html#hostkey_fingerprint/2">hostkey_fingerprint/2</a>. If it is a list of hash algorithm names, the <code>FingerPrint</code> argument in the <code>accept_callback()</code> will be a list of fingerprints in the same order as the corresponding name in the <code>HashAlgoSpec</code> list.</li></ul></dd><dt><code>user_interaction</code></dt><dd><p>If <code>false</code>, disables the client to connect to the server if any user interaction is needed, such as accepting the server to be added to the <code>known_hosts</code> file, or supplying a password.</p><p>Even if user interaction is allowed it can be suppressed by other options, such as <code>silently_accept_hosts</code> and <code>password</code>. However, those options are not always desirable to use from a security point of view.</p><p>Defaults to <code>true</code>.</p></dd><dt><code>save_accepted_host</code></dt><dd><p>If <code>true</code>, the client saves an accepted host key to avoid the accept question the next time the same host is connected. If the option <a href="ssh.html#t:key_cb_common_option/0"><code>key_cb</code></a> is not present, the key is saved in the file &quot;known_hosts&quot;. See option <a href="ssh_file.html#t:user_dir_common_option/0"><code>user_dir</code></a> for the location of that file.</p><p>If <code>false</code>, the key is not saved and the key will still be unknown at the next access of the same host.</p><p>Defaults to <code>true</code></p></dd><dt><code>quiet_mode</code></dt><dd><p>If <code>true</code>, the client does not print anything on authorization.</p><p>Defaults to <code>false</code></p></dd></dl>
  </section>
</section>
<section class="detail" id="t:fp_digest_alg/0">

  <div class="detail-header">
    <a href="#t:fp_digest_alg/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type fp_digest_alg() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>fp_digest_alg() :: md5 | <a href="https://wojtekmach.pl/otp_docs/crypto/crypto.html#t:sha1/0">crypto:sha1</a>() | <a href="https://wojtekmach.pl/otp_docs/crypto/crypto.html#t:sha2/0">crypto:sha2</a>().</pre>

      </div>

<dl><dt><a id="hardening_client_options--silently_accept_hosts"></a><code>silently_accept_hosts</code></dt><dd><p>This option guides the <code>connect</code> function on how to act when the connected server presents a Host Key that the client has not seen before. The default is to ask the user with a question on stdio of whether to accept or reject the new Host Key. See the option <a href="ssh_file.html#t:user_dir_common_option/0"><code>user_dir</code></a> for specifying the path to the file <code>known_hosts</code> where previously accepted Host Keys are recorded. See also the option <a href="ssh.html#t:key_cb_common_option/0">key_cb</a> for the general way to handle keys.</p><p>The option can be given in three different forms as seen <a href="ssh.html#t:accept_hosts/0">above</a>:</p><ul><li>The value is a <code>boolean()</code>. The value <code>true</code> will make the client accept any unknown Host Key without any user interaction. The value <code>false</code> preserves the default behaviour of asking the user on stdio.</li><li>An <code>accept_callback()</code> will be called and the boolean return value <code>true</code> will make the client accept the Host Key. A return value of <code>false</code> will make the client to reject the Host Key and as a result the connection will be closed. The arguments to the fun are:<ul><li><code>PeerName</code> - a string with the name or address of the remote host.</li><li><code>FingerPrint</code> - the fingerprint of the Host Key as <a href="ssh.html#hostkey_fingerprint/1">hostkey_fingerprint/1</a> calculates it.</li></ul></li><li>A tuple <code>{HashAlgoSpec, accept_callback}</code>. The <code>HashAlgoSpec</code> specifies which hash algorithm shall be used to calculate the fingerprint used in the call of the <code>accept_callback()</code>. The <code>HashALgoSpec</code> is either an atom or a list of atoms as the first argument in <a href="ssh.html#hostkey_fingerprint/2">hostkey_fingerprint/2</a>. If it is a list of hash algorithm names, the <code>FingerPrint</code> argument in the <code>accept_callback()</code> will be a list of fingerprints in the same order as the corresponding name in the <code>HashAlgoSpec</code> list.</li></ul></dd><dt><code>user_interaction</code></dt><dd><p>If <code>false</code>, disables the client to connect to the server if any user interaction is needed, such as accepting the server to be added to the <code>known_hosts</code> file, or supplying a password.</p><p>Even if user interaction is allowed it can be suppressed by other options, such as <code>silently_accept_hosts</code> and <code>password</code>. However, those options are not always desirable to use from a security point of view.</p><p>Defaults to <code>true</code>.</p></dd><dt><code>save_accepted_host</code></dt><dd><p>If <code>true</code>, the client saves an accepted host key to avoid the accept question the next time the same host is connected. If the option <a href="ssh.html#t:key_cb_common_option/0"><code>key_cb</code></a> is not present, the key is saved in the file &quot;known_hosts&quot;. See option <a href="ssh_file.html#t:user_dir_common_option/0"><code>user_dir</code></a> for the location of that file.</p><p>If <code>false</code>, the key is not saved and the key will still be unknown at the next access of the same host.</p><p>Defaults to <code>true</code></p></dd><dt><code>quiet_mode</code></dt><dd><p>If <code>true</code>, the client does not print anything on authorization.</p><p>Defaults to <code>false</code></p></dd></dl>
  </section>
</section>
<section class="detail" id="t:hardening_daemon_options/0">

  <div class="detail-header">
    <a href="#t:hardening_daemon_options/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type hardening_daemon_options() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>hardening_daemon_options() ::
    {max_sessions, pos_integer()} |
    {max_channels, pos_integer()} |
    {parallel_login, boolean()} |
    {minimal_remote_max_packet_size, pos_integer()}.</pre>

      </div>

<dl><dt><a id="hardening_daemon_options--max_sessions"></a><code>max_sessions</code></dt><dd><p>The maximum number of simultaneous sessions that are accepted at any time for this daemon. This includes sessions that are being authorized. Thus, if set to <code>N</code>, and <code>N</code> clients have connected but not started the login process, connection attempt <code>N+1</code> is aborted. If <code>N</code> connections are authenticated and still logged in, no more logins are accepted until one of the existing ones log out.</p><p>The counter is per listening port. Thus, if two daemons are started, one with <code>{max_sessions,N}</code> and the other with <code>{max_sessions,M}</code>, in total <code>N+M</code> connections are accepted for the whole <code>ssh</code> application.</p><p>Notice that if <code>parallel_login</code> is <code>false</code>, only one client at a time can be in the authentication phase.</p><p>By default, this option is not set. This means that the number is not limited.</p></dd><dt><a id="hardening_daemon_options--max_channels"></a><code>max_channels</code></dt><dd><p>The maximum number of channels with active remote subsystem that are accepted for each connection to this daemon</p><p>By default, this option is not set. This means that the number is not limited.</p></dd><dt><a id="hardening_daemon_options--parallel_login"></a><code>parallel_login</code></dt><dd><p>If set to false (the default value), only one login is handled at a time. If set to true, an unlimited number of login attempts are allowed simultaneously.</p><p>If the <code>max_sessions</code> option is set to <code>N</code> and <code>parallel_login</code> is set to <code>true</code>, the maximum number of simultaneous login attempts at any time is limited to <code>N-K</code>, where <code>K</code> is the number of authenticated connections present at this daemon.</p><div class="warning"><p>Do not enable <code>parallel_logins</code> without protecting the server by other means, for example, by the <code>max_sessions</code> option or a firewall configuration. If set to <code>true</code>, there is no protection against DOS attacks.</p></div></dd><dt><a id="hardening_daemon_options--minimal_remote_max_packet_size"></a><code>minimal_remote_max_packet_size</code></dt><dd><p>The least maximum packet size that the daemon will accept in channel open requests from the client. The default value is 0.</p></dd></dl>
  </section>
</section>
<section class="detail" id="t:hello_timeout_daemon_option/0">

  <div class="detail-header">
    <a href="#t:hello_timeout_daemon_option/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type hello_timeout_daemon_option() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>hello_timeout_daemon_option() :: {hello_timeout, timeout()}.</pre>

      </div>

<p>Maximum time in milliseconds for the first part of the ssh session setup, the hello message exchange. Defaults to 30000 ms (30 seconds). If the client fails to send the first message within this time, the connection is closed.</p>
  </section>
</section>
<section class="detail" id="t:host/0">

  <div class="detail-header">
    <a href="#t:host/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type host() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>host() :: string() | <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:ip_address/0">inet:ip_address</a>() | loopback.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:host_accepting_client_options/0">

  <div class="detail-header">
    <a href="#t:host_accepting_client_options/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type host_accepting_client_options() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>host_accepting_client_options() ::
    {silently_accept_hosts, <a href="#t:accept_hosts/0">accept_hosts</a>()} |
    {user_interaction, boolean()} |
    {save_accepted_host, boolean()} |
    {quiet_mode, boolean()}.</pre>

      </div>

<dl><dt><a id="hardening_client_options--silently_accept_hosts"></a><code>silently_accept_hosts</code></dt><dd><p>This option guides the <code>connect</code> function on how to act when the connected server presents a Host Key that the client has not seen before. The default is to ask the user with a question on stdio of whether to accept or reject the new Host Key. See the option <a href="ssh_file.html#t:user_dir_common_option/0"><code>user_dir</code></a> for specifying the path to the file <code>known_hosts</code> where previously accepted Host Keys are recorded. See also the option <a href="ssh.html#t:key_cb_common_option/0">key_cb</a> for the general way to handle keys.</p><p>The option can be given in three different forms as seen <a href="ssh.html#t:accept_hosts/0">above</a>:</p><ul><li>The value is a <code>boolean()</code>. The value <code>true</code> will make the client accept any unknown Host Key without any user interaction. The value <code>false</code> preserves the default behaviour of asking the user on stdio.</li><li>An <code>accept_callback()</code> will be called and the boolean return value <code>true</code> will make the client accept the Host Key. A return value of <code>false</code> will make the client to reject the Host Key and as a result the connection will be closed. The arguments to the fun are:<ul><li><code>PeerName</code> - a string with the name or address of the remote host.</li><li><code>FingerPrint</code> - the fingerprint of the Host Key as <a href="ssh.html#hostkey_fingerprint/1">hostkey_fingerprint/1</a> calculates it.</li></ul></li><li>A tuple <code>{HashAlgoSpec, accept_callback}</code>. The <code>HashAlgoSpec</code> specifies which hash algorithm shall be used to calculate the fingerprint used in the call of the <code>accept_callback()</code>. The <code>HashALgoSpec</code> is either an atom or a list of atoms as the first argument in <a href="ssh.html#hostkey_fingerprint/2">hostkey_fingerprint/2</a>. If it is a list of hash algorithm names, the <code>FingerPrint</code> argument in the <code>accept_callback()</code> will be a list of fingerprints in the same order as the corresponding name in the <code>HashAlgoSpec</code> list.</li></ul></dd><dt><code>user_interaction</code></dt><dd><p>If <code>false</code>, disables the client to connect to the server if any user interaction is needed, such as accepting the server to be added to the <code>known_hosts</code> file, or supplying a password.</p><p>Even if user interaction is allowed it can be suppressed by other options, such as <code>silently_accept_hosts</code> and <code>password</code>. However, those options are not always desirable to use from a security point of view.</p><p>Defaults to <code>true</code>.</p></dd><dt><code>save_accepted_host</code></dt><dd><p>If <code>true</code>, the client saves an accepted host key to avoid the accept question the next time the same host is connected. If the option <a href="ssh.html#t:key_cb_common_option/0"><code>key_cb</code></a> is not present, the key is saved in the file &quot;known_hosts&quot;. See option <a href="ssh_file.html#t:user_dir_common_option/0"><code>user_dir</code></a> for the location of that file.</p><p>If <code>false</code>, the key is not saved and the key will still be unknown at the next access of the same host.</p><p>Defaults to <code>true</code></p></dd><dt><code>quiet_mode</code></dt><dd><p>If <code>true</code>, the client does not print anything on authorization.</p><p>Defaults to <code>false</code></p></dd></dl>
  </section>
</section>
<section class="detail" id="t:id_string_common_option/0">

  <div class="detail-header">
    <a href="#t:id_string_common_option/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type id_string_common_option() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>id_string_common_option() ::
    {id_string, string() | random | {random, Nmin :: pos_integer(), Nmax :: pos_integer()}}.</pre>

      </div>

<p>The string the daemon will present to a connecting peer initially. The default value is &quot;Erlang/VSN&quot; where VSN is the ssh application version number.</p><p>The value <code>random</code> will cause a random string to be created at each connection attempt. This is to make it a bit more difficult for a malicious peer to find the ssh software brand and version.</p><p>The value <code>{random, Nmin, Nmax}</code> will make a random string with at least <code>Nmin</code> characters and at most <code>Nmax</code> characters.</p>
  </section>
</section>
<section class="detail" id="t:inet_common_option/0">

  <div class="detail-header">
    <a href="#t:inet_common_option/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type inet_common_option() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>inet_common_option() :: {inet, inet | inet6}.</pre>

      </div>

<p>IP version to use when the host address is specified as <code>any</code>.</p>
  </section>
</section>
<section class="detail" id="t:ip_port/0">

  <div class="detail-header">
    <a href="#t:ip_port/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type ip_port() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>ip_port() :: {<a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:ip_address/0">inet:ip_address</a>(), <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:port_number/0">inet:port_number</a>()}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:kb_int_fun_3/0">

  <div class="detail-header">
    <a href="#t:kb_int_fun_3/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type kb_int_fun_3() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>kb_int_fun_3() ::
    fun((Peer :: <a href="#t:ip_port/0">ip_port</a>(), User :: string(), Service :: string()) -> <a href="#t:kb_int_tuple/0">kb_int_tuple</a>()).</pre>

      </div>

<dl><dt><code>auth_method_kb_interactive_data</code></dt><dd><p>Sets the text strings that the daemon sends to the client for presentation to the user when using <code>keyboard-interactive</code> authentication.</p><p>If the fun/3 or fun/4 is used, it is called when the actual authentication occurs and may therefore return dynamic data like time, remote ip etc.</p><p>The parameter <code>Echo</code> guides the client about need to hide the password.</p><p>The default value is: <code>{auth_method_kb_interactive_data, {&quot;SSH server&quot;, &quot;Enter password for \&quot;&quot;++User++&quot;\&quot;&quot;, &quot;password: &quot;, false}&gt;</code></p></dd><dt><a id="option-user_passwords"></a><code>user_passwords</code></dt><dd><p>Provides passwords for password authentication. The passwords are used when someone tries to connect to the server and public key user-authentication fails. The option provides a list of valid usernames and the corresponding passwords.</p><div class="warning"><p>Note that this is very insecure due to the plain-text passwords; it is intended for test purposes. Use the <a href="ssh.html#content#option-pwdfun"><code>pwdfun</code></a> option to handle the password checking instead.</p></div></dd><dt><a id="option-pk_check_user"></a><code>pk_check_user</code></dt><dd><p>Enables checking of the <a href="ssh.html#t:authentication_client_options/0">client's user name</a> in the server when doing public key authentication. It is disabled by default.</p><p>The term &quot;user&quot; is used differently in OpenSSH and SSH in Erlang/OTP: see more in the User's Guide.</p><p>If the option is enabled, and no <a href="ssh.html#content#option-pwdfun"><code>pwdfun</code></a> is present, the user name must present in the <a href="ssh.html#content#option-user_passwords">user_passwords</a> for the check to succeed but the value of the password is not checked.</p><p>In case of a <a href="ssh.html#content#option-pwdfun"><code>pwdfun</code></a> checking the user, the atom <code>pubkey</code> is put in the password argument.</p></dd><dt><a id="option-password"></a><code>password</code></dt><dd><p>Provides a global password that authenticates any user.</p><div class="warning"><p>Intended to facilitate testing.</p><p>From a security perspective this option makes the server very vulnerable.</p></div></dd><dt><a id="option-pwdfun"></a><code>pwdfun</code> with <a href="ssh.html#t:pwdfun_4/0"><code>pwdfun_4()</code></a></dt><dd><p>Provides a function for password validation. This could used for calling an external system or handeling passwords stored as hash values.</p><p>This fun can also be used to make delays in authentication tries for example by calling <a href="https://wojtekmach.pl/otp_docs/stdlib/timer.html#sleep/1">timer:sleep/1</a>.</p><p>To facilitate for instance counting of failed tries, the <code>State</code> variable could be used. This state is per connection only. The first time the pwdfun is called for a connection, the <code>State</code> variable has the value <code>undefined</code>.</p><p>The fun should return:</p><ul><li><code>true</code> if the user and password is valid</li><li><code>false</code> if the user or password is invalid</li><li><code>disconnect</code> if a SSH_MSG_DISCONNECT message should be sent immediately. It will be followed by a close of the underlying tcp connection.</li><li><code>{true, NewState:any()}</code> if the user and password is valid</li><li><code>{false, NewState:any()}</code> if the user or password is invalid</li></ul><p>A third usage is to block login attempts from a missbehaving peer. The <code>State</code> described above can be used for this. The return value <code>disconnect</code> is useful for this.</p><p>In case of the <a href="ssh.html#content#option-pk_check_user"><code>pk_check_user</code></a> is set, the atom <code>pubkey</code> is put in the password argument when validating a public key login. The pwdfun is then responsible to check that the user name is valid.</p></dd><dt><code>pwdfun</code> with <a href="ssh.html#t:pwdfun_2/0"><code>pwdfun_2()</code></a></dt><dd><p>Provides a function for password validation. This function is called with user and password as strings, and returns:</p><ul><li><code>true</code> if the user and password is valid</li><li><code>false</code> if the user or password is invalid</li></ul><p>In case of the <a href="ssh.html#content#option-pk_check_user"><code>pk_check_user</code></a> is set, the atom <code>pubkey</code> is put in the password argument when validating a public key login. The pwdfun is then responsible to check that the user name is valid.</p><p>This variant is kept for compatibility.</p></dd></dl>
  </section>
</section>
<section class="detail" id="t:kb_int_fun_4/0">

  <div class="detail-header">
    <a href="#t:kb_int_fun_4/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type kb_int_fun_4() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>kb_int_fun_4() ::
    fun((Peer :: <a href="#t:ip_port/0">ip_port</a>(), User :: string(), Service :: string(), State :: any()) ->
            <a href="#t:kb_int_tuple/0">kb_int_tuple</a>()).</pre>

      </div>

<dl><dt><code>auth_method_kb_interactive_data</code></dt><dd><p>Sets the text strings that the daemon sends to the client for presentation to the user when using <code>keyboard-interactive</code> authentication.</p><p>If the fun/3 or fun/4 is used, it is called when the actual authentication occurs and may therefore return dynamic data like time, remote ip etc.</p><p>The parameter <code>Echo</code> guides the client about need to hide the password.</p><p>The default value is: <code>{auth_method_kb_interactive_data, {&quot;SSH server&quot;, &quot;Enter password for \&quot;&quot;++User++&quot;\&quot;&quot;, &quot;password: &quot;, false}&gt;</code></p></dd><dt><a id="option-user_passwords"></a><code>user_passwords</code></dt><dd><p>Provides passwords for password authentication. The passwords are used when someone tries to connect to the server and public key user-authentication fails. The option provides a list of valid usernames and the corresponding passwords.</p><div class="warning"><p>Note that this is very insecure due to the plain-text passwords; it is intended for test purposes. Use the <a href="ssh.html#content#option-pwdfun"><code>pwdfun</code></a> option to handle the password checking instead.</p></div></dd><dt><a id="option-pk_check_user"></a><code>pk_check_user</code></dt><dd><p>Enables checking of the <a href="ssh.html#t:authentication_client_options/0">client's user name</a> in the server when doing public key authentication. It is disabled by default.</p><p>The term &quot;user&quot; is used differently in OpenSSH and SSH in Erlang/OTP: see more in the User's Guide.</p><p>If the option is enabled, and no <a href="ssh.html#content#option-pwdfun"><code>pwdfun</code></a> is present, the user name must present in the <a href="ssh.html#content#option-user_passwords">user_passwords</a> for the check to succeed but the value of the password is not checked.</p><p>In case of a <a href="ssh.html#content#option-pwdfun"><code>pwdfun</code></a> checking the user, the atom <code>pubkey</code> is put in the password argument.</p></dd><dt><a id="option-password"></a><code>password</code></dt><dd><p>Provides a global password that authenticates any user.</p><div class="warning"><p>Intended to facilitate testing.</p><p>From a security perspective this option makes the server very vulnerable.</p></div></dd><dt><a id="option-pwdfun"></a><code>pwdfun</code> with <a href="ssh.html#t:pwdfun_4/0"><code>pwdfun_4()</code></a></dt><dd><p>Provides a function for password validation. This could used for calling an external system or handeling passwords stored as hash values.</p><p>This fun can also be used to make delays in authentication tries for example by calling <a href="https://wojtekmach.pl/otp_docs/stdlib/timer.html#sleep/1">timer:sleep/1</a>.</p><p>To facilitate for instance counting of failed tries, the <code>State</code> variable could be used. This state is per connection only. The first time the pwdfun is called for a connection, the <code>State</code> variable has the value <code>undefined</code>.</p><p>The fun should return:</p><ul><li><code>true</code> if the user and password is valid</li><li><code>false</code> if the user or password is invalid</li><li><code>disconnect</code> if a SSH_MSG_DISCONNECT message should be sent immediately. It will be followed by a close of the underlying tcp connection.</li><li><code>{true, NewState:any()}</code> if the user and password is valid</li><li><code>{false, NewState:any()}</code> if the user or password is invalid</li></ul><p>A third usage is to block login attempts from a missbehaving peer. The <code>State</code> described above can be used for this. The return value <code>disconnect</code> is useful for this.</p><p>In case of the <a href="ssh.html#content#option-pk_check_user"><code>pk_check_user</code></a> is set, the atom <code>pubkey</code> is put in the password argument when validating a public key login. The pwdfun is then responsible to check that the user name is valid.</p></dd><dt><code>pwdfun</code> with <a href="ssh.html#t:pwdfun_2/0"><code>pwdfun_2()</code></a></dt><dd><p>Provides a function for password validation. This function is called with user and password as strings, and returns:</p><ul><li><code>true</code> if the user and password is valid</li><li><code>false</code> if the user or password is invalid</li></ul><p>In case of the <a href="ssh.html#content#option-pk_check_user"><code>pk_check_user</code></a> is set, the atom <code>pubkey</code> is put in the password argument when validating a public key login. The pwdfun is then responsible to check that the user name is valid.</p><p>This variant is kept for compatibility.</p></dd></dl>
  </section>
</section>
<section class="detail" id="t:kb_int_tuple/0">

  <div class="detail-header">
    <a href="#t:kb_int_tuple/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type kb_int_tuple() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>kb_int_tuple() ::
    {Name :: string(), Instruction :: string(), Prompt :: string(), Echo :: boolean()}.</pre>

      </div>

<dl><dt><code>auth_method_kb_interactive_data</code></dt><dd><p>Sets the text strings that the daemon sends to the client for presentation to the user when using <code>keyboard-interactive</code> authentication.</p><p>If the fun/3 or fun/4 is used, it is called when the actual authentication occurs and may therefore return dynamic data like time, remote ip etc.</p><p>The parameter <code>Echo</code> guides the client about need to hide the password.</p><p>The default value is: <code>{auth_method_kb_interactive_data, {&quot;SSH server&quot;, &quot;Enter password for \&quot;&quot;++User++&quot;\&quot;&quot;, &quot;password: &quot;, false}&gt;</code></p></dd><dt><a id="option-user_passwords"></a><code>user_passwords</code></dt><dd><p>Provides passwords for password authentication. The passwords are used when someone tries to connect to the server and public key user-authentication fails. The option provides a list of valid usernames and the corresponding passwords.</p><div class="warning"><p>Note that this is very insecure due to the plain-text passwords; it is intended for test purposes. Use the <a href="ssh.html#content#option-pwdfun"><code>pwdfun</code></a> option to handle the password checking instead.</p></div></dd><dt><a id="option-pk_check_user"></a><code>pk_check_user</code></dt><dd><p>Enables checking of the <a href="ssh.html#t:authentication_client_options/0">client's user name</a> in the server when doing public key authentication. It is disabled by default.</p><p>The term &quot;user&quot; is used differently in OpenSSH and SSH in Erlang/OTP: see more in the User's Guide.</p><p>If the option is enabled, and no <a href="ssh.html#content#option-pwdfun"><code>pwdfun</code></a> is present, the user name must present in the <a href="ssh.html#content#option-user_passwords">user_passwords</a> for the check to succeed but the value of the password is not checked.</p><p>In case of a <a href="ssh.html#content#option-pwdfun"><code>pwdfun</code></a> checking the user, the atom <code>pubkey</code> is put in the password argument.</p></dd><dt><a id="option-password"></a><code>password</code></dt><dd><p>Provides a global password that authenticates any user.</p><div class="warning"><p>Intended to facilitate testing.</p><p>From a security perspective this option makes the server very vulnerable.</p></div></dd><dt><a id="option-pwdfun"></a><code>pwdfun</code> with <a href="ssh.html#t:pwdfun_4/0"><code>pwdfun_4()</code></a></dt><dd><p>Provides a function for password validation. This could used for calling an external system or handeling passwords stored as hash values.</p><p>This fun can also be used to make delays in authentication tries for example by calling <a href="https://wojtekmach.pl/otp_docs/stdlib/timer.html#sleep/1">timer:sleep/1</a>.</p><p>To facilitate for instance counting of failed tries, the <code>State</code> variable could be used. This state is per connection only. The first time the pwdfun is called for a connection, the <code>State</code> variable has the value <code>undefined</code>.</p><p>The fun should return:</p><ul><li><code>true</code> if the user and password is valid</li><li><code>false</code> if the user or password is invalid</li><li><code>disconnect</code> if a SSH_MSG_DISCONNECT message should be sent immediately. It will be followed by a close of the underlying tcp connection.</li><li><code>{true, NewState:any()}</code> if the user and password is valid</li><li><code>{false, NewState:any()}</code> if the user or password is invalid</li></ul><p>A third usage is to block login attempts from a missbehaving peer. The <code>State</code> described above can be used for this. The return value <code>disconnect</code> is useful for this.</p><p>In case of the <a href="ssh.html#content#option-pk_check_user"><code>pk_check_user</code></a> is set, the atom <code>pubkey</code> is put in the password argument when validating a public key login. The pwdfun is then responsible to check that the user name is valid.</p></dd><dt><code>pwdfun</code> with <a href="ssh.html#t:pwdfun_2/0"><code>pwdfun_2()</code></a></dt><dd><p>Provides a function for password validation. This function is called with user and password as strings, and returns:</p><ul><li><code>true</code> if the user and password is valid</li><li><code>false</code> if the user or password is invalid</li></ul><p>In case of the <a href="ssh.html#content#option-pk_check_user"><code>pk_check_user</code></a> is set, the atom <code>pubkey</code> is put in the password argument when validating a public key login. The pwdfun is then responsible to check that the user name is valid.</p><p>This variant is kept for compatibility.</p></dd></dl>
  </section>
</section>
<section class="detail" id="t:kex_alg/0">

  <div class="detail-header">
    <a href="#t:kex_alg/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type kex_alg() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>kex_alg() ::
    'diffie-hellman-group-exchange-sha1' | 'diffie-hellman-group-exchange-sha256' |
    'diffie-hellman-group1-sha1' | 'diffie-hellman-group14-sha1' |
    'diffie-hellman-group14-sha256' | 'diffie-hellman-group16-sha512' |
    'diffie-hellman-group18-sha512' | 'curve25519-sha256' | 'curve25519-sha256@libssh.org' |
    'curve448-sha512' | 'ecdh-sha2-nistp256' | 'ecdh-sha2-nistp384' | 'ecdh-sha2-nistp521'.</pre>

      </div>

<p>List of algorithms to use in the algorithm negotiation. The default <code>algs_list()</code> can be obtained from <a href="ssh.html#default_algorithms/0">default_algorithms/0</a>.</p><p>If an alg_entry() is missing in the algs_list(), the default value is used for that entry.</p><p>Here is an example of this option:</p><pre><code class="makeup erlang"><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="5633465127-1">{</span><span class="ss">preferred_algorithms</span><span class="p">,</span><span class="w"> 
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="5633465127-2">[</span><span class="p" data-group-id="5633465127-3">{</span><span class="ss">public_key</span><span class="p">,</span><span class="p" data-group-id="5633465127-4">[</span><span class="ss">&#39;ssh-rsa&#39;</span><span class="p">,</span><span class="ss">&#39;ssh-dss&#39;</span><span class="p" data-group-id="5633465127-4">]</span><span class="p" data-group-id="5633465127-3">}</span><span class="p">,</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="5633465127-5">{</span><span class="ss">cipher</span><span class="p">,</span><span class="p" data-group-id="5633465127-6">[</span><span class="p" data-group-id="5633465127-7">{</span><span class="ss">client2server</span><span class="p">,</span><span class="p" data-group-id="5633465127-8">[</span><span class="ss">&#39;aes128-ctr&#39;</span><span class="p" data-group-id="5633465127-8">]</span><span class="p" data-group-id="5633465127-7">}</span><span class="p">,</span><span class="w">
          </span><span class="p" data-group-id="5633465127-9">{</span><span class="ss">server2client</span><span class="p">,</span><span class="p" data-group-id="5633465127-10">[</span><span class="ss">&#39;aes128-cbc&#39;</span><span class="p">,</span><span class="ss">&#39;3des-cbc&#39;</span><span class="p" data-group-id="5633465127-10">]</span><span class="p" data-group-id="5633465127-9">}</span><span class="p" data-group-id="5633465127-6">]</span><span class="p" data-group-id="5633465127-5">}</span><span class="p">,</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="5633465127-11">{</span><span class="ss">mac</span><span class="p">,</span><span class="p" data-group-id="5633465127-12">[</span><span class="ss">&#39;hmac-sha2-256&#39;</span><span class="p">,</span><span class="ss">&#39;hmac-sha1&#39;</span><span class="p" data-group-id="5633465127-12">]</span><span class="p" data-group-id="5633465127-11">}</span><span class="p">,</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="5633465127-13">{</span><span class="ss">compression</span><span class="p">,</span><span class="p" data-group-id="5633465127-14">[</span><span class="ss">none</span><span class="p">,</span><span class="ss">zlib</span><span class="p" data-group-id="5633465127-14">]</span><span class="p" data-group-id="5633465127-13">}</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="5633465127-2">]</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="5633465127-1">}</span><span class="w">
</span><span class="err">	</span></code></pre><p>The example specifies different algorithms in the two directions (client2server and server2client), for cipher but specifies the same algorithms for mac and compression in both directions. The kex (key exchange) is implicit but public_key is set explicitly.</p><p>For background and more examples see the User's Guide.</p><p>If an algorithm name occurs more than once in a list, the behaviour is undefined. The tags in the property lists are also assumed to occur at most one time.</p><div class="warning"><p>Changing the values can make a connection less secure. Do not change unless you know exactly what you are doing. If you do not understand the values then you are not supposed to change them.</p></div>
  </section>
</section>
<section class="detail" id="t:key_cb_common_option/0">

  <div class="detail-header">
    <a href="#t:key_cb_common_option/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type key_cb_common_option() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>key_cb_common_option() :: {key_cb, Module :: atom() | {Module :: atom(), Opts :: [term()]}}.</pre>

      </div>

<p>Module implementing the behaviour <a href="ssh_client_key_api.html">ssh_client_key_api</a> and/or <a href="ssh_server_key_api.html">ssh_server_key_api</a>. Can be used to customize the handling of public keys. If callback options are provided along with the module name, they are made available to the callback module via the options passed to it under the key 'key_cb_private'.</p><p>The <code>Opts</code> defaults to <code>[]</code> when only the <code>Module</code> is specified.</p><p>The default value of this option is <code>{ssh_file, []}</code>. See also the manpage of <a href="ssh_file.html">ssh_file</a>.</p><p>A call to the call-back function <code>F</code> will be</p><pre><code class="makeup erlang"><span class="err">	</span><span class="w">  </span><span class="n">Module</span><span class="p">:</span><span class="n">F</span><span class="p" data-group-id="4036946612-1">(</span><span class="p">.</span><span class="p">.</span><span class="p">.</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="4036946612-2">[</span><span class="p" data-group-id="4036946612-3">{</span><span class="ss">key_cb_private</span><span class="p">,</span><span class="n">Opts</span><span class="p" data-group-id="4036946612-3">}</span><span class="p">|</span><span class="n">UserOptions</span><span class="p" data-group-id="4036946612-2">]</span><span class="p" data-group-id="4036946612-1">)</span><span class="w">
</span><span class="err">	</span></code></pre><p>where <code>...</code> are arguments to <code>F</code> as in <a href="ssh_client_key_api.html">ssh_client_key_api</a> and/or <a href="ssh_server_key_api.html">ssh_server_key_api</a>. The <code>UserOptions</code> are the options given to <a href="ssh.html#connect/3">ssh:connect</a>, <a href="ssh.html#shell/1">ssh:shell</a> or <a href="ssh.html#daemon/2">ssh:daemon</a>.</p>
  </section>
</section>
<section class="detail" id="t:limit_bytes/0">

  <div class="detail-header">
    <a href="#t:limit_bytes/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type limit_bytes() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>limit_bytes() :: non_neg_integer() | infinity.</pre>

      </div>

<p>Sets the limit when rekeying is to be initiated. Both the max time and max amount of data could be configured:</p><ul><li><code>{Minutes, Bytes}</code> initiate rekeying when any of the limits are reached.</li><li><code>Bytes</code> initiate rekeying when <code>Bytes</code> number of bytes are transferred, or at latest after one hour.</li></ul><p>When a rekeying is done, both the timer and the byte counter are restarted. Defaults to one hour and one GByte.</p><p>If <code>Minutes</code> is set to <code>infinity</code>, no rekeying will ever occur due to that max time has passed. Setting <code>Bytes</code> to <code>infinity</code> will inhibit rekeying after a certain amount of data has been transferred. If the option value is set to <code>{infinity, infinity}</code>, no rekeying will be initiated. Note that rekeying initiated by the peer will still be performed.</p>
  </section>
</section>
<section class="detail" id="t:limit_time/0">

  <div class="detail-header">
    <a href="#t:limit_time/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type limit_time() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>limit_time() :: pos_integer() | infinity.</pre>

      </div>

<p>Sets the limit when rekeying is to be initiated. Both the max time and max amount of data could be configured:</p><ul><li><code>{Minutes, Bytes}</code> initiate rekeying when any of the limits are reached.</li><li><code>Bytes</code> initiate rekeying when <code>Bytes</code> number of bytes are transferred, or at latest after one hour.</li></ul><p>When a rekeying is done, both the timer and the byte counter are restarted. Defaults to one hour and one GByte.</p><p>If <code>Minutes</code> is set to <code>infinity</code>, no rekeying will ever occur due to that max time has passed. Setting <code>Bytes</code> to <code>infinity</code> will inhibit rekeying after a certain amount of data has been transferred. If the option value is set to <code>{infinity, infinity}</code>, no rekeying will be initiated. Note that rekeying initiated by the peer will still be performed.</p>
  </section>
</section>
<section class="detail" id="t:mac_alg/0">

  <div class="detail-header">
    <a href="#t:mac_alg/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type mac_alg() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>mac_alg() ::
    'AEAD_AES_128_GCM' | 'AEAD_AES_256_GCM' | 'hmac-sha1' | 'hmac-sha1-etm@openssh.com' |
    'hmac-sha1-96' | 'hmac-sha2-256' | 'hmac-sha2-512' | 'hmac-sha2-256-etm@openssh.com' |
    'hmac-sha2-512-etm@openssh.com'.</pre>

      </div>

<p>List of algorithms to use in the algorithm negotiation. The default <code>algs_list()</code> can be obtained from <a href="ssh.html#default_algorithms/0">default_algorithms/0</a>.</p><p>If an alg_entry() is missing in the algs_list(), the default value is used for that entry.</p><p>Here is an example of this option:</p><pre><code class="makeup erlang"><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="3174869864-1">{</span><span class="ss">preferred_algorithms</span><span class="p">,</span><span class="w"> 
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="3174869864-2">[</span><span class="p" data-group-id="3174869864-3">{</span><span class="ss">public_key</span><span class="p">,</span><span class="p" data-group-id="3174869864-4">[</span><span class="ss">&#39;ssh-rsa&#39;</span><span class="p">,</span><span class="ss">&#39;ssh-dss&#39;</span><span class="p" data-group-id="3174869864-4">]</span><span class="p" data-group-id="3174869864-3">}</span><span class="p">,</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="3174869864-5">{</span><span class="ss">cipher</span><span class="p">,</span><span class="p" data-group-id="3174869864-6">[</span><span class="p" data-group-id="3174869864-7">{</span><span class="ss">client2server</span><span class="p">,</span><span class="p" data-group-id="3174869864-8">[</span><span class="ss">&#39;aes128-ctr&#39;</span><span class="p" data-group-id="3174869864-8">]</span><span class="p" data-group-id="3174869864-7">}</span><span class="p">,</span><span class="w">
          </span><span class="p" data-group-id="3174869864-9">{</span><span class="ss">server2client</span><span class="p">,</span><span class="p" data-group-id="3174869864-10">[</span><span class="ss">&#39;aes128-cbc&#39;</span><span class="p">,</span><span class="ss">&#39;3des-cbc&#39;</span><span class="p" data-group-id="3174869864-10">]</span><span class="p" data-group-id="3174869864-9">}</span><span class="p" data-group-id="3174869864-6">]</span><span class="p" data-group-id="3174869864-5">}</span><span class="p">,</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="3174869864-11">{</span><span class="ss">mac</span><span class="p">,</span><span class="p" data-group-id="3174869864-12">[</span><span class="ss">&#39;hmac-sha2-256&#39;</span><span class="p">,</span><span class="ss">&#39;hmac-sha1&#39;</span><span class="p" data-group-id="3174869864-12">]</span><span class="p" data-group-id="3174869864-11">}</span><span class="p">,</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="3174869864-13">{</span><span class="ss">compression</span><span class="p">,</span><span class="p" data-group-id="3174869864-14">[</span><span class="ss">none</span><span class="p">,</span><span class="ss">zlib</span><span class="p" data-group-id="3174869864-14">]</span><span class="p" data-group-id="3174869864-13">}</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="3174869864-2">]</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="3174869864-1">}</span><span class="w">
</span><span class="err">	</span></code></pre><p>The example specifies different algorithms in the two directions (client2server and server2client), for cipher but specifies the same algorithms for mac and compression in both directions. The kex (key exchange) is implicit but public_key is set explicitly.</p><p>For background and more examples see the User's Guide.</p><p>If an algorithm name occurs more than once in a list, the behaviour is undefined. The tags in the property lists are also assumed to occur at most one time.</p><div class="warning"><p>Changing the values can make a connection less secure. Do not change unless you know exactly what you are doing. If you do not understand the values then you are not supposed to change them.</p></div>
  </section>
</section>
<section class="detail" id="t:max_idle_time_common_option/0">

  <div class="detail-header">
    <a href="#t:max_idle_time_common_option/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type max_idle_time_common_option() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>max_idle_time_common_option() :: {idle_time, timeout()}.</pre>

      </div>

<p>Sets a time-out on a connection when no channels are open. Defaults to <code>infinity</code>. The unit is milliseconds.</p><p>The timeout is not active until channels are started, so it does not limit the time from the connection creation to the first channel opening.</p>
  </section>
</section>
<section class="detail" id="t:mod_args/0">

  <div class="detail-header">
    <a href="#t:mod_args/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type mod_args() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>mod_args() :: {Module :: atom(), Args :: list()}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:mod_fun_args/0">

  <div class="detail-header">
    <a href="#t:mod_fun_args/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type mod_fun_args() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>mod_fun_args() :: {Module :: atom(), Function :: atom(), Args :: list()}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:modify_algorithms_common_option/0">

  <div class="detail-header">
    <a href="#t:modify_algorithms_common_option/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type modify_algorithms_common_option() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>modify_algorithms_common_option() :: {modify_algorithms, <a href="#t:modify_algs_list/0">modify_algs_list</a>()}.</pre>

      </div>

<p>Modifies the list of algorithms to use in the algorithm negotiation. The modifications are applied after the option <code>preferred_algorithms</code> (if existing) is applied.</p><p>The algoritm for modifications works like this:</p><ul><li><p>Input is the <code>modify_algs_list()</code> and a set of algorithms <code>A</code> obtained from the <code>preferred_algorithms</code> option if existing, or else from the <a href="ssh.html#default_algorithms/0">ssh:default_algorithms/0</a>.</p></li><li><p>The head of the <code>modify_algs_list()</code> modifies <code>A</code> giving the result <code>A'</code>.</p><p>The possible modifications are:</p><ul><li><p>Append or prepend supported but not enabled algorithm(s) to the list of algorithms. If the wanted algorithms already are in <code>A</code> they will first be removed and then appended or prepended,</p></li><li><p>Remove (rm) one or more algorithms from <code>A</code>.</p></li></ul></li><li><p>Repeat the modification step with the tail of <code>modify_algs_list()</code> and the resulting <code>A'</code>.</p></li></ul><p>If an unsupported algorithm is in the <code>modify_algs_list()</code>, it will be silently ignored</p><p>If there are more than one modify_algorithms options, the result is undefined.</p><p>Here is an example of this option:</p><pre><code class="makeup erlang"><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="6465942570-1">{</span><span class="ss">modify_algorithms</span><span class="p">,</span><span class="w"> 
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="6465942570-2">[</span><span class="p" data-group-id="6465942570-3">{</span><span class="ss">prepend</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6465942570-4">[</span><span class="p" data-group-id="6465942570-5">{</span><span class="ss">kex</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6465942570-6">[</span><span class="ss">&#39;diffie-hellman-group1-sha1&#39;</span><span class="p" data-group-id="6465942570-6">]</span><span class="p" data-group-id="6465942570-5">}</span><span class="p" data-group-id="6465942570-4">]</span><span class="p">,</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="6465942570-7">{</span><span class="ss">rm</span><span class="p">,</span><span class="w">      </span><span class="p" data-group-id="6465942570-8">[</span><span class="p" data-group-id="6465942570-9">{</span><span class="ss">compression</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="6465942570-10">[</span><span class="ss">none</span><span class="p" data-group-id="6465942570-10">]</span><span class="p" data-group-id="6465942570-9">}</span><span class="p" data-group-id="6465942570-8">]</span><span class="p" data-group-id="6465942570-7">}</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p">]</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="6465942570-3">}</span><span class="w">
</span><span class="err">	</span></code></pre><p>The example specifies that:</p><ul><li><p>the old key exchange algorithm 'diffie-hellman-group1-sha1' should be the main alternative. It will be the main alternative since it is prepened to the list</p></li><li><p>The compression algorithm none (= no compression) is removed so compression is enforced</p></li></ul><p>For background and more examples see the User's Guide.</p>
  </section>
</section>
<section class="detail" id="t:modify_algs_list/0">

  <div class="detail-header">
    <a href="#t:modify_algs_list/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type modify_algs_list() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>modify_algs_list() :: [{append, <a href="#t:algs_list/0">algs_list</a>()} | {prepend, <a href="#t:algs_list/0">algs_list</a>()} | {rm, <a href="#t:algs_list/0">algs_list</a>()}].</pre>

      </div>

<p>Modifies the list of algorithms to use in the algorithm negotiation. The modifications are applied after the option <code>preferred_algorithms</code> (if existing) is applied.</p><p>The algoritm for modifications works like this:</p><ul><li><p>Input is the <code>modify_algs_list()</code> and a set of algorithms <code>A</code> obtained from the <code>preferred_algorithms</code> option if existing, or else from the <a href="ssh.html#default_algorithms/0">ssh:default_algorithms/0</a>.</p></li><li><p>The head of the <code>modify_algs_list()</code> modifies <code>A</code> giving the result <code>A'</code>.</p><p>The possible modifications are:</p><ul><li><p>Append or prepend supported but not enabled algorithm(s) to the list of algorithms. If the wanted algorithms already are in <code>A</code> they will first be removed and then appended or prepended,</p></li><li><p>Remove (rm) one or more algorithms from <code>A</code>.</p></li></ul></li><li><p>Repeat the modification step with the tail of <code>modify_algs_list()</code> and the resulting <code>A'</code>.</p></li></ul><p>If an unsupported algorithm is in the <code>modify_algs_list()</code>, it will be silently ignored</p><p>If there are more than one modify_algorithms options, the result is undefined.</p><p>Here is an example of this option:</p><pre><code class="makeup erlang"><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="5533967161-1">{</span><span class="ss">modify_algorithms</span><span class="p">,</span><span class="w"> 
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="5533967161-2">[</span><span class="p" data-group-id="5533967161-3">{</span><span class="ss">prepend</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5533967161-4">[</span><span class="p" data-group-id="5533967161-5">{</span><span class="ss">kex</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5533967161-6">[</span><span class="ss">&#39;diffie-hellman-group1-sha1&#39;</span><span class="p" data-group-id="5533967161-6">]</span><span class="p" data-group-id="5533967161-5">}</span><span class="p" data-group-id="5533967161-4">]</span><span class="p">,</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="5533967161-7">{</span><span class="ss">rm</span><span class="p">,</span><span class="w">      </span><span class="p" data-group-id="5533967161-8">[</span><span class="p" data-group-id="5533967161-9">{</span><span class="ss">compression</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="5533967161-10">[</span><span class="ss">none</span><span class="p" data-group-id="5533967161-10">]</span><span class="p" data-group-id="5533967161-9">}</span><span class="p" data-group-id="5533967161-8">]</span><span class="p" data-group-id="5533967161-7">}</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p">]</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="5533967161-3">}</span><span class="w">
</span><span class="err">	</span></code></pre><p>The example specifies that:</p><ul><li><p>the old key exchange algorithm 'diffie-hellman-group1-sha1' should be the main alternative. It will be the main alternative since it is prepened to the list</p></li><li><p>The compression algorithm none (= no compression) is removed so compression is enforced</p></li></ul><p>For background and more examples see the User's Guide.</p>
  </section>
</section>
<section class="detail" id="t:negotiation_timeout_daemon_option/0">

  <div class="detail-header">
    <a href="#t:negotiation_timeout_daemon_option/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type negotiation_timeout_daemon_option() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>negotiation_timeout_daemon_option() :: {negotiation_timeout, timeout()}.</pre>

      </div>

<p>Maximum time in milliseconds for the authentication negotiation. Defaults to 120000 ms (2 minutes). If the client fails to log in within this time, the connection is closed.</p>
  </section>
</section>
<section class="detail" id="t:opaque_client_options/0">

  <div class="detail-header">
    <a href="#t:opaque_client_options/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">opaque_client_options()</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>opaque_client_options() ::
    {keyboard_interact_fun,
     fun((Name :: iodata(),
          Instruction :: iodata(),
          Prompts :: [{Prompt :: iodata(), Echo :: boolean()}]) ->
             [Response :: iodata()])} |
    <a href="#t:opaque_common_options/0">opaque_common_options</a>().</pre>

      </div>

<p>Opaque types that define experimental options that are not to be used in products.</p>
  </section>
</section>
<section class="detail" id="t:opaque_common_options/0">

  <div class="detail-header">
    <a href="#t:opaque_common_options/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">opaque_common_options()</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>opaque_common_options() ::
    {transport, {atom(), atom(), atom()}} |
    {vsn, {non_neg_integer(), non_neg_integer()}} |
    {tstflg, [term()]} |
    <a href="ssh_file.html#t:user_dir_fun_common_option/0">ssh_file:user_dir_fun_common_option</a>() |
    {max_random_length_padding, non_neg_integer()}.</pre>

      </div>

<p>Opaque types that define experimental options that are not to be used in products.</p>
  </section>
</section>
<section class="detail" id="t:opaque_daemon_options/0">

  <div class="detail-header">
    <a href="#t:opaque_daemon_options/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">opaque_daemon_options()</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>opaque_daemon_options() :: {infofun, fun()} | <a href="#t:opaque_common_options/0">opaque_common_options</a>().</pre>

      </div>

<p>Opaque types that define experimental options that are not to be used in products.</p>
  </section>
</section>
<section class="detail" id="t:open_socket/0">

  <div class="detail-header">
    <a href="#t:open_socket/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type open_socket() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>open_socket() :: <a href="https://wojtekmach.pl/otp_docs/kernel/gen_tcp.html#t:socket/0">gen_tcp:socket</a>().</pre>

      </div>

<p>The socket is supposed to be result of a <a href="https://wojtekmach.pl/otp_docs/kernel/gen_tcp.html#connect/3">gen_tcp:connect</a> or a <a href="https://wojtekmach.pl/otp_docs/kernel/gen_tcp.html#accept/1">gen_tcp:accept</a>. The socket must be in passive mode (that is, opened with the option <code>{active,false})</code>.</p>
  </section>
</section>
<section class="detail" id="t:pref_public_key_algs_common_option/0">

  <div class="detail-header">
    <a href="#t:pref_public_key_algs_common_option/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type pref_public_key_algs_common_option() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>pref_public_key_algs_common_option() :: {pref_public_key_algs, [<a href="#t:pubkey_alg/0">pubkey_alg</a>()]}.</pre>

      </div>

<p>List of user (client) public key algorithms to try to use.</p><p>The default value is the <code>public_key</code> entry in the list returned by <a href="ssh.html#default_algorithms/0">ssh:default_algorithms/0</a>.</p><p>If there is no public key of a specified type available, the corresponding entry is ignored. Note that the available set is dependent on the underlying cryptolib and current user's public keys.</p><p>See also the option <a href="ssh_file.html#t:user_dir_common_option/0"><code>user_dir</code></a> for specifying the path to the user's keys.</p>
  </section>
</section>
<section class="detail" id="t:preferred_algorithms_common_option/0">

  <div class="detail-header">
    <a href="#t:preferred_algorithms_common_option/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type preferred_algorithms_common_option() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>preferred_algorithms_common_option() :: {preferred_algorithms, <a href="#t:algs_list/0">algs_list</a>()}.</pre>

      </div>

<p>List of algorithms to use in the algorithm negotiation. The default <code>algs_list()</code> can be obtained from <a href="ssh.html#default_algorithms/0">default_algorithms/0</a>.</p><p>If an alg_entry() is missing in the algs_list(), the default value is used for that entry.</p><p>Here is an example of this option:</p><pre><code class="makeup erlang"><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="4908460483-1">{</span><span class="ss">preferred_algorithms</span><span class="p">,</span><span class="w"> 
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="4908460483-2">[</span><span class="p" data-group-id="4908460483-3">{</span><span class="ss">public_key</span><span class="p">,</span><span class="p" data-group-id="4908460483-4">[</span><span class="ss">&#39;ssh-rsa&#39;</span><span class="p">,</span><span class="ss">&#39;ssh-dss&#39;</span><span class="p" data-group-id="4908460483-4">]</span><span class="p" data-group-id="4908460483-3">}</span><span class="p">,</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="4908460483-5">{</span><span class="ss">cipher</span><span class="p">,</span><span class="p" data-group-id="4908460483-6">[</span><span class="p" data-group-id="4908460483-7">{</span><span class="ss">client2server</span><span class="p">,</span><span class="p" data-group-id="4908460483-8">[</span><span class="ss">&#39;aes128-ctr&#39;</span><span class="p" data-group-id="4908460483-8">]</span><span class="p" data-group-id="4908460483-7">}</span><span class="p">,</span><span class="w">
          </span><span class="p" data-group-id="4908460483-9">{</span><span class="ss">server2client</span><span class="p">,</span><span class="p" data-group-id="4908460483-10">[</span><span class="ss">&#39;aes128-cbc&#39;</span><span class="p">,</span><span class="ss">&#39;3des-cbc&#39;</span><span class="p" data-group-id="4908460483-10">]</span><span class="p" data-group-id="4908460483-9">}</span><span class="p" data-group-id="4908460483-6">]</span><span class="p" data-group-id="4908460483-5">}</span><span class="p">,</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="4908460483-11">{</span><span class="ss">mac</span><span class="p">,</span><span class="p" data-group-id="4908460483-12">[</span><span class="ss">&#39;hmac-sha2-256&#39;</span><span class="p">,</span><span class="ss">&#39;hmac-sha1&#39;</span><span class="p" data-group-id="4908460483-12">]</span><span class="p" data-group-id="4908460483-11">}</span><span class="p">,</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="4908460483-13">{</span><span class="ss">compression</span><span class="p">,</span><span class="p" data-group-id="4908460483-14">[</span><span class="ss">none</span><span class="p">,</span><span class="ss">zlib</span><span class="p" data-group-id="4908460483-14">]</span><span class="p" data-group-id="4908460483-13">}</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="4908460483-2">]</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="4908460483-1">}</span><span class="w">
</span><span class="err">	</span></code></pre><p>The example specifies different algorithms in the two directions (client2server and server2client), for cipher but specifies the same algorithms for mac and compression in both directions. The kex (key exchange) is implicit but public_key is set explicitly.</p><p>For background and more examples see the User's Guide.</p><p>If an algorithm name occurs more than once in a list, the behaviour is undefined. The tags in the property lists are also assumed to occur at most one time.</p><div class="warning"><p>Changing the values can make a connection less secure. Do not change unless you know exactly what you are doing. If you do not understand the values then you are not supposed to change them.</p></div>
  </section>
</section>
<section class="detail" id="t:profile_common_option/0">

  <div class="detail-header">
    <a href="#t:profile_common_option/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type profile_common_option() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>profile_common_option() :: {profile, atom()}.</pre>

      </div>

<p>Used together with <code>ip-address</code> and <code>port</code> to uniquely identify a ssh daemon. This can be useful in a virtualized environment, where there can be more that one server that has the same <code>ip-address</code> and <code>port</code>. If this property is not explicitly set, it is assumed that the the <code>ip-address</code> and <code>port</code> uniquely identifies the SSH daemon.</p>
  </section>
</section>
<section class="detail" id="t:prompt_texts/0">

  <div class="detail-header">
    <a href="#t:prompt_texts/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type prompt_texts() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>prompt_texts() :: <a href="#t:kb_int_tuple/0">kb_int_tuple</a>() | <a href="#t:kb_int_fun_3/0">kb_int_fun_3</a>() | <a href="#t:kb_int_fun_4/0">kb_int_fun_4</a>().</pre>

      </div>

<dl><dt><code>auth_method_kb_interactive_data</code></dt><dd><p>Sets the text strings that the daemon sends to the client for presentation to the user when using <code>keyboard-interactive</code> authentication.</p><p>If the fun/3 or fun/4 is used, it is called when the actual authentication occurs and may therefore return dynamic data like time, remote ip etc.</p><p>The parameter <code>Echo</code> guides the client about need to hide the password.</p><p>The default value is: <code>{auth_method_kb_interactive_data, {&quot;SSH server&quot;, &quot;Enter password for \&quot;&quot;++User++&quot;\&quot;&quot;, &quot;password: &quot;, false}&gt;</code></p></dd><dt><a id="option-user_passwords"></a><code>user_passwords</code></dt><dd><p>Provides passwords for password authentication. The passwords are used when someone tries to connect to the server and public key user-authentication fails. The option provides a list of valid usernames and the corresponding passwords.</p><div class="warning"><p>Note that this is very insecure due to the plain-text passwords; it is intended for test purposes. Use the <a href="ssh.html#content#option-pwdfun"><code>pwdfun</code></a> option to handle the password checking instead.</p></div></dd><dt><a id="option-pk_check_user"></a><code>pk_check_user</code></dt><dd><p>Enables checking of the <a href="ssh.html#t:authentication_client_options/0">client's user name</a> in the server when doing public key authentication. It is disabled by default.</p><p>The term &quot;user&quot; is used differently in OpenSSH and SSH in Erlang/OTP: see more in the User's Guide.</p><p>If the option is enabled, and no <a href="ssh.html#content#option-pwdfun"><code>pwdfun</code></a> is present, the user name must present in the <a href="ssh.html#content#option-user_passwords">user_passwords</a> for the check to succeed but the value of the password is not checked.</p><p>In case of a <a href="ssh.html#content#option-pwdfun"><code>pwdfun</code></a> checking the user, the atom <code>pubkey</code> is put in the password argument.</p></dd><dt><a id="option-password"></a><code>password</code></dt><dd><p>Provides a global password that authenticates any user.</p><div class="warning"><p>Intended to facilitate testing.</p><p>From a security perspective this option makes the server very vulnerable.</p></div></dd><dt><a id="option-pwdfun"></a><code>pwdfun</code> with <a href="ssh.html#t:pwdfun_4/0"><code>pwdfun_4()</code></a></dt><dd><p>Provides a function for password validation. This could used for calling an external system or handeling passwords stored as hash values.</p><p>This fun can also be used to make delays in authentication tries for example by calling <a href="https://wojtekmach.pl/otp_docs/stdlib/timer.html#sleep/1">timer:sleep/1</a>.</p><p>To facilitate for instance counting of failed tries, the <code>State</code> variable could be used. This state is per connection only. The first time the pwdfun is called for a connection, the <code>State</code> variable has the value <code>undefined</code>.</p><p>The fun should return:</p><ul><li><code>true</code> if the user and password is valid</li><li><code>false</code> if the user or password is invalid</li><li><code>disconnect</code> if a SSH_MSG_DISCONNECT message should be sent immediately. It will be followed by a close of the underlying tcp connection.</li><li><code>{true, NewState:any()}</code> if the user and password is valid</li><li><code>{false, NewState:any()}</code> if the user or password is invalid</li></ul><p>A third usage is to block login attempts from a missbehaving peer. The <code>State</code> described above can be used for this. The return value <code>disconnect</code> is useful for this.</p><p>In case of the <a href="ssh.html#content#option-pk_check_user"><code>pk_check_user</code></a> is set, the atom <code>pubkey</code> is put in the password argument when validating a public key login. The pwdfun is then responsible to check that the user name is valid.</p></dd><dt><code>pwdfun</code> with <a href="ssh.html#t:pwdfun_2/0"><code>pwdfun_2()</code></a></dt><dd><p>Provides a function for password validation. This function is called with user and password as strings, and returns:</p><ul><li><code>true</code> if the user and password is valid</li><li><code>false</code> if the user or password is invalid</li></ul><p>In case of the <a href="ssh.html#content#option-pk_check_user"><code>pk_check_user</code></a> is set, the atom <code>pubkey</code> is put in the password argument when validating a public key login. The pwdfun is then responsible to check that the user name is valid.</p><p>This variant is kept for compatibility.</p></dd></dl>
  </section>
</section>
<section class="detail" id="t:protocol_version/0">

  <div class="detail-header">
    <a href="#t:protocol_version/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type protocol_version() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>protocol_version() :: {Major :: pos_integer(), Minor :: non_neg_integer()}.</pre>

      </div>

<p>Return values from the <a href="ssh.html#connection_info/1">connection_info/1</a> and <a href="ssh.html#connection_info/2">connection_info/2</a> functions.</p><p>In the <code>option</code> info tuple are only the options included that differs from the default values.</p>
  </section>
</section>
<section class="detail" id="t:pubkey_alg/0">

  <div class="detail-header">
    <a href="#t:pubkey_alg/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type pubkey_alg() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>pubkey_alg() ::
    'ecdsa-sha2-nistp256' | 'ecdsa-sha2-nistp384' | 'ecdsa-sha2-nistp521' | 'ssh-ed25519' |
    'ssh-ed448' | 'rsa-sha2-256' | 'rsa-sha2-512' | 'ssh-dss' | 'ssh-rsa'.</pre>

      </div>

<p>List of algorithms to use in the algorithm negotiation. The default <code>algs_list()</code> can be obtained from <a href="ssh.html#default_algorithms/0">default_algorithms/0</a>.</p><p>If an alg_entry() is missing in the algs_list(), the default value is used for that entry.</p><p>Here is an example of this option:</p><pre><code class="makeup erlang"><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="1818573791-1">{</span><span class="ss">preferred_algorithms</span><span class="p">,</span><span class="w"> 
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="1818573791-2">[</span><span class="p" data-group-id="1818573791-3">{</span><span class="ss">public_key</span><span class="p">,</span><span class="p" data-group-id="1818573791-4">[</span><span class="ss">&#39;ssh-rsa&#39;</span><span class="p">,</span><span class="ss">&#39;ssh-dss&#39;</span><span class="p" data-group-id="1818573791-4">]</span><span class="p" data-group-id="1818573791-3">}</span><span class="p">,</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="1818573791-5">{</span><span class="ss">cipher</span><span class="p">,</span><span class="p" data-group-id="1818573791-6">[</span><span class="p" data-group-id="1818573791-7">{</span><span class="ss">client2server</span><span class="p">,</span><span class="p" data-group-id="1818573791-8">[</span><span class="ss">&#39;aes128-ctr&#39;</span><span class="p" data-group-id="1818573791-8">]</span><span class="p" data-group-id="1818573791-7">}</span><span class="p">,</span><span class="w">
          </span><span class="p" data-group-id="1818573791-9">{</span><span class="ss">server2client</span><span class="p">,</span><span class="p" data-group-id="1818573791-10">[</span><span class="ss">&#39;aes128-cbc&#39;</span><span class="p">,</span><span class="ss">&#39;3des-cbc&#39;</span><span class="p" data-group-id="1818573791-10">]</span><span class="p" data-group-id="1818573791-9">}</span><span class="p" data-group-id="1818573791-6">]</span><span class="p" data-group-id="1818573791-5">}</span><span class="p">,</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="1818573791-11">{</span><span class="ss">mac</span><span class="p">,</span><span class="p" data-group-id="1818573791-12">[</span><span class="ss">&#39;hmac-sha2-256&#39;</span><span class="p">,</span><span class="ss">&#39;hmac-sha1&#39;</span><span class="p" data-group-id="1818573791-12">]</span><span class="p" data-group-id="1818573791-11">}</span><span class="p">,</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="1818573791-13">{</span><span class="ss">compression</span><span class="p">,</span><span class="p" data-group-id="1818573791-14">[</span><span class="ss">none</span><span class="p">,</span><span class="ss">zlib</span><span class="p" data-group-id="1818573791-14">]</span><span class="p" data-group-id="1818573791-13">}</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="1818573791-2">]</span><span class="w">
</span><span class="err">	</span><span class="w">  </span><span class="p" data-group-id="1818573791-1">}</span><span class="w">
</span><span class="err">	</span></code></pre><p>The example specifies different algorithms in the two directions (client2server and server2client), for cipher but specifies the same algorithms for mac and compression in both directions. The kex (key exchange) is implicit but public_key is set explicitly.</p><p>For background and more examples see the User's Guide.</p><p>If an algorithm name occurs more than once in a list, the behaviour is undefined. The tags in the property lists are also assumed to occur at most one time.</p><div class="warning"><p>Changing the values can make a connection less secure. Do not change unless you know exactly what you are doing. If you do not understand the values then you are not supposed to change them.</p></div>
  </section>
</section>
<section class="detail" id="t:pwdfun_2/0">

  <div class="detail-header">
    <a href="#t:pwdfun_2/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type pwdfun_2() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>pwdfun_2() :: fun((User :: string(), Password :: string() | pubkey) -> boolean()).</pre>

      </div>

<dl><dt><code>auth_method_kb_interactive_data</code></dt><dd><p>Sets the text strings that the daemon sends to the client for presentation to the user when using <code>keyboard-interactive</code> authentication.</p><p>If the fun/3 or fun/4 is used, it is called when the actual authentication occurs and may therefore return dynamic data like time, remote ip etc.</p><p>The parameter <code>Echo</code> guides the client about need to hide the password.</p><p>The default value is: <code>{auth_method_kb_interactive_data, {&quot;SSH server&quot;, &quot;Enter password for \&quot;&quot;++User++&quot;\&quot;&quot;, &quot;password: &quot;, false}&gt;</code></p></dd><dt><a id="option-user_passwords"></a><code>user_passwords</code></dt><dd><p>Provides passwords for password authentication. The passwords are used when someone tries to connect to the server and public key user-authentication fails. The option provides a list of valid usernames and the corresponding passwords.</p><div class="warning"><p>Note that this is very insecure due to the plain-text passwords; it is intended for test purposes. Use the <a href="ssh.html#content#option-pwdfun"><code>pwdfun</code></a> option to handle the password checking instead.</p></div></dd><dt><a id="option-pk_check_user"></a><code>pk_check_user</code></dt><dd><p>Enables checking of the <a href="ssh.html#t:authentication_client_options/0">client's user name</a> in the server when doing public key authentication. It is disabled by default.</p><p>The term &quot;user&quot; is used differently in OpenSSH and SSH in Erlang/OTP: see more in the User's Guide.</p><p>If the option is enabled, and no <a href="ssh.html#content#option-pwdfun"><code>pwdfun</code></a> is present, the user name must present in the <a href="ssh.html#content#option-user_passwords">user_passwords</a> for the check to succeed but the value of the password is not checked.</p><p>In case of a <a href="ssh.html#content#option-pwdfun"><code>pwdfun</code></a> checking the user, the atom <code>pubkey</code> is put in the password argument.</p></dd><dt><a id="option-password"></a><code>password</code></dt><dd><p>Provides a global password that authenticates any user.</p><div class="warning"><p>Intended to facilitate testing.</p><p>From a security perspective this option makes the server very vulnerable.</p></div></dd><dt><a id="option-pwdfun"></a><code>pwdfun</code> with <a href="ssh.html#t:pwdfun_4/0"><code>pwdfun_4()</code></a></dt><dd><p>Provides a function for password validation. This could used for calling an external system or handeling passwords stored as hash values.</p><p>This fun can also be used to make delays in authentication tries for example by calling <a href="https://wojtekmach.pl/otp_docs/stdlib/timer.html#sleep/1">timer:sleep/1</a>.</p><p>To facilitate for instance counting of failed tries, the <code>State</code> variable could be used. This state is per connection only. The first time the pwdfun is called for a connection, the <code>State</code> variable has the value <code>undefined</code>.</p><p>The fun should return:</p><ul><li><code>true</code> if the user and password is valid</li><li><code>false</code> if the user or password is invalid</li><li><code>disconnect</code> if a SSH_MSG_DISCONNECT message should be sent immediately. It will be followed by a close of the underlying tcp connection.</li><li><code>{true, NewState:any()}</code> if the user and password is valid</li><li><code>{false, NewState:any()}</code> if the user or password is invalid</li></ul><p>A third usage is to block login attempts from a missbehaving peer. The <code>State</code> described above can be used for this. The return value <code>disconnect</code> is useful for this.</p><p>In case of the <a href="ssh.html#content#option-pk_check_user"><code>pk_check_user</code></a> is set, the atom <code>pubkey</code> is put in the password argument when validating a public key login. The pwdfun is then responsible to check that the user name is valid.</p></dd><dt><code>pwdfun</code> with <a href="ssh.html#t:pwdfun_2/0"><code>pwdfun_2()</code></a></dt><dd><p>Provides a function for password validation. This function is called with user and password as strings, and returns:</p><ul><li><code>true</code> if the user and password is valid</li><li><code>false</code> if the user or password is invalid</li></ul><p>In case of the <a href="ssh.html#content#option-pk_check_user"><code>pk_check_user</code></a> is set, the atom <code>pubkey</code> is put in the password argument when validating a public key login. The pwdfun is then responsible to check that the user name is valid.</p><p>This variant is kept for compatibility.</p></dd></dl>
  </section>
</section>
<section class="detail" id="t:pwdfun_4/0">

  <div class="detail-header">
    <a href="#t:pwdfun_4/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type pwdfun_4() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>pwdfun_4() ::
    fun((User :: string(),
         Password :: string() | pubkey,
         PeerAddress :: <a href="#t:ip_port/0">ip_port</a>(),
         State :: any()) ->
            boolean() | disconnect | {boolean(), NewState :: any()}).</pre>

      </div>

<dl><dt><code>auth_method_kb_interactive_data</code></dt><dd><p>Sets the text strings that the daemon sends to the client for presentation to the user when using <code>keyboard-interactive</code> authentication.</p><p>If the fun/3 or fun/4 is used, it is called when the actual authentication occurs and may therefore return dynamic data like time, remote ip etc.</p><p>The parameter <code>Echo</code> guides the client about need to hide the password.</p><p>The default value is: <code>{auth_method_kb_interactive_data, {&quot;SSH server&quot;, &quot;Enter password for \&quot;&quot;++User++&quot;\&quot;&quot;, &quot;password: &quot;, false}&gt;</code></p></dd><dt><a id="option-user_passwords"></a><code>user_passwords</code></dt><dd><p>Provides passwords for password authentication. The passwords are used when someone tries to connect to the server and public key user-authentication fails. The option provides a list of valid usernames and the corresponding passwords.</p><div class="warning"><p>Note that this is very insecure due to the plain-text passwords; it is intended for test purposes. Use the <a href="ssh.html#content#option-pwdfun"><code>pwdfun</code></a> option to handle the password checking instead.</p></div></dd><dt><a id="option-pk_check_user"></a><code>pk_check_user</code></dt><dd><p>Enables checking of the <a href="ssh.html#t:authentication_client_options/0">client's user name</a> in the server when doing public key authentication. It is disabled by default.</p><p>The term &quot;user&quot; is used differently in OpenSSH and SSH in Erlang/OTP: see more in the User's Guide.</p><p>If the option is enabled, and no <a href="ssh.html#content#option-pwdfun"><code>pwdfun</code></a> is present, the user name must present in the <a href="ssh.html#content#option-user_passwords">user_passwords</a> for the check to succeed but the value of the password is not checked.</p><p>In case of a <a href="ssh.html#content#option-pwdfun"><code>pwdfun</code></a> checking the user, the atom <code>pubkey</code> is put in the password argument.</p></dd><dt><a id="option-password"></a><code>password</code></dt><dd><p>Provides a global password that authenticates any user.</p><div class="warning"><p>Intended to facilitate testing.</p><p>From a security perspective this option makes the server very vulnerable.</p></div></dd><dt><a id="option-pwdfun"></a><code>pwdfun</code> with <a href="ssh.html#t:pwdfun_4/0"><code>pwdfun_4()</code></a></dt><dd><p>Provides a function for password validation. This could used for calling an external system or handeling passwords stored as hash values.</p><p>This fun can also be used to make delays in authentication tries for example by calling <a href="https://wojtekmach.pl/otp_docs/stdlib/timer.html#sleep/1">timer:sleep/1</a>.</p><p>To facilitate for instance counting of failed tries, the <code>State</code> variable could be used. This state is per connection only. The first time the pwdfun is called for a connection, the <code>State</code> variable has the value <code>undefined</code>.</p><p>The fun should return:</p><ul><li><code>true</code> if the user and password is valid</li><li><code>false</code> if the user or password is invalid</li><li><code>disconnect</code> if a SSH_MSG_DISCONNECT message should be sent immediately. It will be followed by a close of the underlying tcp connection.</li><li><code>{true, NewState:any()}</code> if the user and password is valid</li><li><code>{false, NewState:any()}</code> if the user or password is invalid</li></ul><p>A third usage is to block login attempts from a missbehaving peer. The <code>State</code> described above can be used for this. The return value <code>disconnect</code> is useful for this.</p><p>In case of the <a href="ssh.html#content#option-pk_check_user"><code>pk_check_user</code></a> is set, the atom <code>pubkey</code> is put in the password argument when validating a public key login. The pwdfun is then responsible to check that the user name is valid.</p></dd><dt><code>pwdfun</code> with <a href="ssh.html#t:pwdfun_2/0"><code>pwdfun_2()</code></a></dt><dd><p>Provides a function for password validation. This function is called with user and password as strings, and returns:</p><ul><li><code>true</code> if the user and password is valid</li><li><code>false</code> if the user or password is invalid</li></ul><p>In case of the <a href="ssh.html#content#option-pk_check_user"><code>pk_check_user</code></a> is set, the atom <code>pubkey</code> is put in the password argument when validating a public key login. The pwdfun is then responsible to check that the user name is valid.</p><p>This variant is kept for compatibility.</p></dd></dl>
  </section>
</section>
<section class="detail" id="t:recv_ext_info_client_option/0">

  <div class="detail-header">
    <a href="#t:recv_ext_info_client_option/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type recv_ext_info_client_option() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>recv_ext_info_client_option() :: {recv_ext_info, boolean()}.</pre>

      </div>

<p>Make the client tell the server that the client accepts extension negotiation, that is, include <code>ext-info-c</code> in the kexinit message sent. See <a href="https://tools.ietf.org/html/rfc8308">RFC 8308</a> for details and ssh(6) for a list of currently implemented extensions.</p><p>Default value is <code>true</code> which is compatible with other implementations not supporting ext-info.</p>
  </section>
</section>
<section class="detail" id="t:rekey_limit_common_option/0">

  <div class="detail-header">
    <a href="#t:rekey_limit_common_option/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type rekey_limit_common_option() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>rekey_limit_common_option() ::
    {rekey_limit, Bytes :: <a href="#t:limit_bytes/0">limit_bytes</a>() | {Minutes :: <a href="#t:limit_time/0">limit_time</a>(), Bytes :: <a href="#t:limit_bytes/0">limit_bytes</a>()}}.</pre>

      </div>

<p>Sets the limit when rekeying is to be initiated. Both the max time and max amount of data could be configured:</p><ul><li><code>{Minutes, Bytes}</code> initiate rekeying when any of the limits are reached.</li><li><code>Bytes</code> initiate rekeying when <code>Bytes</code> number of bytes are transferred, or at latest after one hour.</li></ul><p>When a rekeying is done, both the timer and the byte counter are restarted. Defaults to one hour and one GByte.</p><p>If <code>Minutes</code> is set to <code>infinity</code>, no rekeying will ever occur due to that max time has passed. Setting <code>Bytes</code> to <code>infinity</code> will inhibit rekeying after a certain amount of data has been transferred. If the option value is set to <code>{infinity, infinity}</code>, no rekeying will be initiated. Note that rekeying initiated by the peer will still be performed.</p>
  </section>
</section>
<section class="detail" id="t:send_ext_info_daemon_option/0">

  <div class="detail-header">
    <a href="#t:send_ext_info_daemon_option/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type send_ext_info_daemon_option() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>send_ext_info_daemon_option() :: {send_ext_info, boolean()}.</pre>

      </div>

<p>Make the server (daemon) tell the client that the server accepts extension negotiation, that is, include <code>ext-info-s</code> in the kexinit message sent. See <a href="https://tools.ietf.org/html/rfc8308">RFC 8308</a> for details and ssh(6) for a list of currently implemented extensions.</p><p>Default value is <code>true</code> which is compatible with other implementations not supporting ext-info.</p>
  </section>
</section>
<section class="detail" id="t:shell_daemon_option/0">

  <div class="detail-header">
    <a href="#t:shell_daemon_option/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type shell_daemon_option() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>shell_daemon_option() :: {shell, <a href="#t:shell_spec/0">shell_spec</a>()}.</pre>

      </div>

<p>Defines the read-eval-print loop used in a daemon when a shell is requested by the client. The default is to use the Erlang shell: <code>{shell, start, []}</code></p><p>See the option <a href="ssh.html#t:exec_daemon_option/0"><code>exec-option</code></a> for a description of how the daemon executes shell-requests and exec-requests depending on the shell- and exec-options.</p>
  </section>
</section>
<section class="detail" id="t:shell_fun/0">

  <div class="detail-header">
    <a href="#t:shell_fun/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type shell_fun() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>shell_fun() :: <a href="#t:shell_fun/1/0">'shell_fun/1'</a>() | <a href="#t:shell_fun/2/0">'shell_fun/2'</a>().</pre>

      </div>

<p>Defines the read-eval-print loop used in a daemon when a shell is requested by the client. The default is to use the Erlang shell: <code>{shell, start, []}</code></p><p>See the option <a href="ssh.html#t:exec_daemon_option/0"><code>exec-option</code></a> for a description of how the daemon executes shell-requests and exec-requests depending on the shell- and exec-options.</p>
  </section>
</section>
<section class="detail" id="t:shell_fun/1/0">

  <div class="detail-header">
    <a href="#t:shell_fun/1/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type 'shell_fun/1'() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>'shell_fun/1'() :: fun((User :: string()) -> pid()).</pre>

      </div>

<p>Defines the read-eval-print loop used in a daemon when a shell is requested by the client. The default is to use the Erlang shell: <code>{shell, start, []}</code></p><p>See the option <a href="ssh.html#t:exec_daemon_option/0"><code>exec-option</code></a> for a description of how the daemon executes shell-requests and exec-requests depending on the shell- and exec-options.</p>
  </section>
</section>
<section class="detail" id="t:shell_fun/2/0">

  <div class="detail-header">
    <a href="#t:shell_fun/2/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type 'shell_fun/2'() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>'shell_fun/2'() :: fun((User :: string(), PeerAddr :: <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:ip_address/0">inet:ip_address</a>()) -> pid()).</pre>

      </div>

<p>Defines the read-eval-print loop used in a daemon when a shell is requested by the client. The default is to use the Erlang shell: <code>{shell, start, []}</code></p><p>See the option <a href="ssh.html#t:exec_daemon_option/0"><code>exec-option</code></a> for a description of how the daemon executes shell-requests and exec-requests depending on the shell- and exec-options.</p>
  </section>
</section>
<section class="detail" id="t:shell_spec/0">

  <div class="detail-header">
    <a href="#t:shell_spec/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type shell_spec() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>shell_spec() :: <a href="#t:mod_fun_args/0">mod_fun_args</a>() | <a href="#t:shell_fun/0">shell_fun</a>() | disabled.</pre>

      </div>

<p>Defines the read-eval-print loop used in a daemon when a shell is requested by the client. The default is to use the Erlang shell: <code>{shell, start, []}</code></p><p>See the option <a href="ssh.html#t:exec_daemon_option/0"><code>exec-option</code></a> for a description of how the daemon executes shell-requests and exec-requests depending on the shell- and exec-options.</p>
  </section>
</section>
<section class="detail" id="t:software_version/0">

  <div class="detail-header">
    <a href="#t:software_version/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type software_version() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>software_version() :: string().</pre>

      </div>

<p>Return values from the <a href="ssh.html#connection_info/1">connection_info/1</a> and <a href="ssh.html#connection_info/2">connection_info/2</a> functions.</p><p>In the <code>option</code> info tuple are only the options included that differs from the default values.</p>
  </section>
</section>
<section class="detail" id="t:ssh_cli_daemon_option/0">

  <div class="detail-header">
    <a href="#t:ssh_cli_daemon_option/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type ssh_cli_daemon_option() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>ssh_cli_daemon_option() :: {ssh_cli, <a href="#t:mod_args/0">mod_args</a>() | no_cli}.</pre>

      </div>

<p>Provides your own CLI implementation in a daemon.</p><p>It is a channel callback module that implements a shell and command execution. The shell's read-eval-print loop can be customized, using the option <a href="ssh.html#t:shell_daemon_option/0"><code>shell</code></a>. This means less work than implementing an own CLI channel. If <code>ssh_cli</code> is set to <code>no_cli</code>, the CLI channels like <a href="ssh.html#t:shell_daemon_option/0"><code>shell</code></a> and <a href="ssh.html#t:exec_daemon_option/0"><code>exec</code></a> are disabled and only subsystem channels are allowed.</p>
  </section>
</section>
<section class="detail" id="t:ssh_moduli_file/0">

  <div class="detail-header">
    <a href="#t:ssh_moduli_file/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type ssh_moduli_file() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>ssh_moduli_file() :: {ssh_moduli_file, string()}.</pre>

      </div>

<dl><dt><code>dh_gex_groups</code></dt><dd><p>Defines the groups the server may choose among when diffie-hellman-group-exchange is negotiated. See <a href="https://tools.ietf.org/html/rfc4419">RFC 4419</a> for details. The three variants of this option are:</p><dl><dt><code>{Size=integer(),G=integer(),P=integer()}</code></dt><dd>The groups are given explicitly in this list. There may be several elements with the same <code>Size</code>. In such a case, the server will choose one randomly in the negotiated Size.</dd><dt><code>{file,filename()}</code></dt><dd>The file must have one or more three-tuples <code>{Size=integer(),G=integer(),P=integer()}</code> terminated by a dot. The file is read when the daemon starts.</dd><dt><code>{ssh_moduli_file,filename()}</code></dt><dd>The file must be in <a href="https://wojtekmach.pl/otp_docs/public_key/public_key.html#dh_gex_group/4">ssh-keygen moduli file format</a>. The file is read when the daemon starts.</dd></dl><p>The default list is fetched from the <a href="https://wojtekmach.pl/otp_docs/public_key/public_key.html#dh_gex_group/4">public_key</a> application.</p></dd><dt><code>dh_gex_limits</code></dt><dd><p>Limits what a client can ask for in diffie-hellman-group-exchange. The limits will be <code>{MaxUsed = min(MaxClient,Max), MinUsed = max(MinClient,Min)}</code> where <code>MaxClient</code> and <code>MinClient</code> are the values proposed by a connecting client.</p><p>The default value is <code>{0,infinity}</code>.</p><p>If <code>MaxUsed &lt; MinUsed</code> in a key exchange, it will fail with a disconnect.</p><p>See <a href="https://tools.ietf.org/html/rfc4419">RFC 4419</a> for the function of the Max and Min values.</p></dd></dl>
  </section>
</section>
<section class="detail" id="t:ssh_msg_debug_fun_common_option/0">

  <div class="detail-header">
    <a href="#t:ssh_msg_debug_fun_common_option/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type ssh_msg_debug_fun_common_option() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>ssh_msg_debug_fun_common_option() ::
    {ssh_msg_debug_fun,
     fun((<a href="ssh.html#t:connection_ref/0">ssh:connection_ref</a>(),
          AlwaysDisplay :: boolean(),
          Msg :: binary(),
          LanguageTag :: binary()) ->
             any())}.</pre>

      </div>

<p>Provide a fun to implement your own logging of the SSH message SSH_MSG_DEBUG. The last three parameters are from the message, see <a href="https://tools.ietf.org/html/rfc4253#section-11.3">RFC 4253, section 11.3</a>. The <a href="ssh.html#t:connection_ref/0"><code>connection_ref()</code></a> is the reference to the connection on which the message arrived. The return value from the fun is not checked.</p><p>The default behaviour is ignore the message. To get a printout for each message with <code>AlwaysDisplay = true</code>, use for example <code>{ssh_msg_debug_fun, fun(_,true,M,_)-&gt; io:format(&quot;DEBUG: ~p~n&quot;, [M]) end}</code></p>
  </section>
</section>
<section class="detail" id="t:subsystem_daemon_option/0">

  <div class="detail-header">
    <a href="#t:subsystem_daemon_option/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type subsystem_daemon_option() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>subsystem_daemon_option() :: {subsystems, <a href="#t:subsystem_specs/0">subsystem_specs</a>()}.</pre>

      </div>

<p>Defines a subsystem in the daemon.</p><p>The <code>subsystem_name</code> is the name that a client requests to start with for example <a href="ssh_connection.html#subsystem/4">ssh_connection:subsystem/4</a>.</p><p>The <code>channel_callback</code> is the module that implements the <a href="ssh_server_channel.html">ssh_server_channel</a> (replaces ssh_daemon_channel) behaviour in the daemon. See the section Creating a Subsystem in the User's Guide for more information and an example.</p><p>If the subsystems option is not present, the value of <code>ssh_sftpd:subsystem_spec([])</code> is used. This enables the sftp subsystem by default. The option can be set to the empty list if you do not want the daemon to run any subsystems.</p>
  </section>
</section>
<section class="detail" id="t:subsystem_spec/0">

  <div class="detail-header">
    <a href="#t:subsystem_spec/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type subsystem_spec() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>subsystem_spec() :: {Name :: string(), <a href="#t:mod_args/0">mod_args</a>()}.</pre>

      </div>

<p>Defines a subsystem in the daemon.</p><p>The <code>subsystem_name</code> is the name that a client requests to start with for example <a href="ssh_connection.html#subsystem/4">ssh_connection:subsystem/4</a>.</p><p>The <code>channel_callback</code> is the module that implements the <a href="ssh_server_channel.html">ssh_server_channel</a> (replaces ssh_daemon_channel) behaviour in the daemon. See the section Creating a Subsystem in the User's Guide for more information and an example.</p><p>If the subsystems option is not present, the value of <code>ssh_sftpd:subsystem_spec([])</code> is used. This enables the sftp subsystem by default. The option can be set to the empty list if you do not want the daemon to run any subsystems.</p>
  </section>
</section>
<section class="detail" id="t:subsystem_specs/0">

  <div class="detail-header">
    <a href="#t:subsystem_specs/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type subsystem_specs() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>subsystem_specs() :: [<a href="#t:subsystem_spec/0">subsystem_spec</a>()].</pre>

      </div>

<p>Defines a subsystem in the daemon.</p><p>The <code>subsystem_name</code> is the name that a client requests to start with for example <a href="ssh_connection.html#subsystem/4">ssh_connection:subsystem/4</a>.</p><p>The <code>channel_callback</code> is the module that implements the <a href="ssh_server_channel.html">ssh_server_channel</a> (replaces ssh_daemon_channel) behaviour in the daemon. See the section Creating a Subsystem in the User's Guide for more information and an example.</p><p>If the subsystems option is not present, the value of <code>ssh_sftpd:subsystem_spec([])</code> is used. This enables the sftp subsystem by default. The option can be set to the empty list if you do not want the daemon to run any subsystems.</p>
  </section>
</section>
<section class="detail" id="t:tcpip_tunnel_in_daemon_option/0">

  <div class="detail-header">
    <a href="#t:tcpip_tunnel_in_daemon_option/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type tcpip_tunnel_in_daemon_option() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>tcpip_tunnel_in_daemon_option() :: {tcpip_tunnel_in, boolean()}.</pre>

      </div>

<p>Enables (<code>true</code>) or disables (<code>false</code>) the possibility to tunnel a TCP/IP connection in to a <a href="ssh.html#daemon/2">server</a>. Disabled per default.</p>
  </section>
</section>
<section class="detail" id="t:tcpip_tunnel_out_daemon_option/0">

  <div class="detail-header">
    <a href="#t:tcpip_tunnel_out_daemon_option/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type tcpip_tunnel_out_daemon_option() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>tcpip_tunnel_out_daemon_option() :: {tcpip_tunnel_out, boolean()}.</pre>

      </div>

<p>Enables (<code>true</code>) or disables (<code>false</code>) the possibility to tunnel a TCP/IP connection out of a <a href="ssh.html#daemon/2">server</a>. Disabled per default.</p>
  </section>
</section>
<section class="detail" id="t:unexpectedfun_common_option/0">

  <div class="detail-header">
    <a href="#t:unexpectedfun_common_option/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type unexpectedfun_common_option() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>unexpectedfun_common_option() ::
    {unexpectedfun, fun((Message :: term(), {Host :: term(), Port :: term()}) -> report | skip)}.</pre>

      </div>

<p>Provides a fun to implement your own logging or other action when an unexpected message arrives. If the fun returns <code>report</code> the usual info report is issued but if <code>skip</code> is returned no report is generated.</p>
  </section>
</section>
<section class="detail" id="t:version/0">

  <div class="detail-header">
    <a href="#t:version/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type version() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>version() :: {<a href="#t:protocol_version/0">protocol_version</a>(), <a href="#t:software_version/0">software_version</a>()}.</pre>

      </div>

<p>Return values from the <a href="ssh.html#connection_info/1">connection_info/1</a> and <a href="ssh.html#connection_info/2">connection_info/2</a> functions.</p><p>In the <code>option</code> info tuple are only the options included that differs from the default values.</p>
  </section>
</section>

          </div>
        </section>

        <section id="functions" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#functions">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
Functions
          </h1>
          <div class="functions-list">
<section class="detail" id="close/1">

  <div class="detail-header">
    <a href="#close/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">close/1</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>close(ConnectionRef) -> ok | {error, term()} when ConnectionRef :: <a href="#t:connection_ref/0">connection_ref</a>().</pre>

      </div>

<p>Closes an SSH connection.</p>
  </section>
</section>
<section class="detail" id="connect/2">

  <div class="detail-header">
    <a href="#connect/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">connect(TcpSocket, Options) -&gt; Result</h1>


      <span class="note">(since OTP 19.0)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>connect(OpenTcpSocket, Options) -> {ok, <a href="#t:connection_ref/0">connection_ref</a>()} | {error, term()}
           when OpenTcpSocket :: <a href="#t:open_socket/0">open_socket</a>(), Options :: <a href="#t:client_options/0">client_options</a>().</pre>

      </div>

<ul class="types"><li class="type">Host = <a href="ssh.html#t:host/0">host()</a></li><li class="type">Port = <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:port_number/0">inet:port_number()</a></li><li class="type">Options = <a href="ssh.html#t:client_options/0">client_options()</a></li><li class="type">TcpSocket = <a href="ssh.html#t:open_socket/0">open_socket()</a></li><li class="type">NegotiationTimeout = timeout()</li><li class="type">Result = {ok, <a href="ssh.html#t:connection_ref/0">connection_ref()</a>} | {error, term()}</li></ul><p>Connects to an SSH server at the <code>Host</code> on <code>Port</code>.</p><p>As an alternative, an already open TCP socket could be passed to the function in <code>TcpSocket</code>. The SSH initiation and negotiation will be initiated on that one with the SSH that should be at the other end.</p><p>No channel is started. This is done by calling <a href="ssh_connection.html#session_channel/2">ssh_connection:session_channel/[2, 4]</a>.</p><p>The <code>NegotiationTimeout</code> is in milli-seconds. The default value is <code>infinity</code>. For connection timeout, use the option <a href="ssh.html#t:connect_timeout_client_option/0"><code>connect_timeout</code></a>.</p>
  </section>
</section>
<section class="detail" id="connect/3">

  <div class="detail-header">
    <a href="#connect/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">connect(TcpSocket, Options, NegotiationTimeout) -&gt; Result connect(Host, Port, Options) -&gt; Result </h1>


      <span class="note">(since OTP 19.0)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>connect(<a href="#t:open_socket/0">open_socket</a>(), <a href="#t:client_options/0">client_options</a>(), timeout()) -> {ok, <a href="#t:connection_ref/0">connection_ref</a>()} | {error, term()};
       (<a href="#t:host/0">host</a>(), <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:port_number/0">inet:port_number</a>(), <a href="#t:client_options/0">client_options</a>()) -> {ok, <a href="#t:connection_ref/0">connection_ref</a>()} | {error, term()}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="connect/4">

  <div class="detail-header">
    <a href="#connect/4" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">connect(Host, Port, Options, NegotiationTimeout) -&gt; Result </h1>


      <span class="note">(since OTP 19.0)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>connect(Host, Port, Options, NegotiationTimeout) -> {ok, <a href="#t:connection_ref/0">connection_ref</a>()} | {error, term()}
           when
               Host :: <a href="#t:host/0">host</a>(),
               Port :: <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:port_number/0">inet:port_number</a>(),
               Options :: <a href="#t:client_options/0">client_options</a>(),
               NegotiationTimeout :: timeout().</pre>

      </div>


  </section>
</section>
<section class="detail" id="connection_info/1">

  <div class="detail-header">
    <a href="#connection_info/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">connection_info/1</h1>


      <span class="note">(since OTP 22.1)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>connection_info(ConnectionRef) -> InfoTupleList
                   when
                       ConnectionRef :: <a href="#t:connection_ref/0">connection_ref</a>(),
                       InfoTupleList :: [InfoTuple],
                       InfoTuple :: <a href="#t:connection_info_tuple/0">connection_info_tuple</a>().</pre>

      </div>

<p>Returns information about a connection intended for e.g debugging or logging.</p><p>When the <code>Key</code> is a single <code>Item</code>, the result is a single <code>InfoTuple</code></p>
  </section>
</section>
<section class="detail" id="connection_info/2">

  <div class="detail-header">
    <a href="#connection_info/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">connection_info/2</h1>


      <span class="note">(since OTP 22.1)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>connection_info(ConnectionRef, ItemList | Item) -> InfoTupleList | InfoTuple
                   when
                       ConnectionRef :: <a href="#t:connection_ref/0">connection_ref</a>(),
                       ItemList :: [Item],
                       Item ::
                           client_version | server_version | user | peer | sockname | options |
                           algorithms | sockname,
                       InfoTupleList :: [InfoTuple],
                       InfoTuple :: <a href="#t:connection_info_tuple/0">connection_info_tuple</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="daemon/1">

  <div class="detail-header">
    <a href="#daemon/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">daemon(Port | TcpSocket) -&gt; Result</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>daemon(<a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:port_number/0">inet:port_number</a>()) -> {ok, <a href="#t:daemon_ref/0">daemon_ref</a>()} | {error, term()}.</pre>

      </div>

<ul class="types"><li class="type">Port = integer()</li><li class="type">TcpSocket = <a href="ssh.html#t:open_socket/0">open_socket()</a></li><li class="type">Options = <a href="ssh.html#t:daemon_options/0">daemon_options()</a></li><li class="type">HostAddress = <a href="ssh.html#t:host/0">host()</a> | any</li><li class="type">Result = {ok, <a href="ssh.html#t:daemon_ref/0">daemon_ref()</a>} | {error, atom()}</li></ul><p>Starts a server listening for SSH connections on the given port. If the <code>Port</code> is 0, a random free port is selected. See <a href="ssh.html#daemon_info/1">daemon_info/1</a> about how to find the selected port number.</p><p>As an alternative, an already open TCP socket could be passed to the function in <code>TcpSocket</code>. The SSH initiation and negotiation will be initiated on that one when an SSH starts at the other end of the TCP socket.</p><p>For a description of the options, see <a href="ssh.html#t:daemon_options/0">Daemon Options</a>.</p><p>Please note that by historical reasons both the <code>HostAddress</code> argument and the <a href="https://wojtekmach.pl/otp_docs/kernel/gen_tcp.html#t:connect_option/0">gen_tcp connect_option() <code>{ip,Address}</code></a> set the listening address. This is a source of possible inconsistent settings.</p><p>The rules for handling the two address passing options are:</p><ul><li>if <code>HostAddress</code> is an IP-address, that IP-address is the listening address. An 'ip'-option will be discarded if present.</li><li>if <code>HostAddress</code> is the atom <code>loopback</code>, the listening address is <code>loopback</code> and an loopback address will be choosen by the underlying layers. An 'ip'-option will be discarded if present.</li><li>if <code>HostAddress</code> is the atom <code>any</code> and no 'ip'-option is present, the listening address is <code>any</code> and the socket will listen to all addresses</li><li>if <code>HostAddress</code> is <code>any</code> and an 'ip'-option is present, the listening address is set to the value of the 'ip'-option</li></ul>
  </section>
</section>
<section class="detail" id="daemon/2">

  <div class="detail-header">
    <a href="#daemon/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">daemon(Port | TcpSocket, Options) -&gt; Result</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>daemon(<a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:port_number/0">inet:port_number</a>() | <a href="#t:open_socket/0">open_socket</a>(), <a href="#t:daemon_options/0">daemon_options</a>()) ->
          {ok, <a href="#t:daemon_ref/0">daemon_ref</a>()} | {error, term()}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="daemon/3">

  <div class="detail-header">
    <a href="#daemon/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">daemon(HostAddress, Port, Options) -&gt; Result</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>daemon(any | <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:ip_address/0">inet:ip_address</a>(), <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:port_number/0">inet:port_number</a>(), <a href="#t:daemon_options/0">daemon_options</a>()) ->
          {ok, <a href="#t:daemon_ref/0">daemon_ref</a>()} | {error, term()};
      (socket, <a href="#t:open_socket/0">open_socket</a>(), <a href="#t:daemon_options/0">daemon_options</a>()) -> {ok, <a href="#t:daemon_ref/0">daemon_ref</a>()} | {error, term()}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="daemon_info/1">

  <div class="detail-header">
    <a href="#daemon_info/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">daemon_info/1</h1>


      <span class="note">(since OTP 19.0,OTP 22.1)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>daemon_info(DaemonRef) -> {ok, InfoTupleList} | {error, bad_daemon_ref}
               when
                   DaemonRef :: <a href="#t:daemon_ref/0">daemon_ref</a>(),
                   InfoTupleList :: [InfoTuple],
                   InfoTuple :: <a href="#t:daemon_info_tuple/0">daemon_info_tuple</a>().</pre>

      </div>

<p>Returns information about a daemon intended for e.g debugging or logging.</p><p>When the <code>Key</code> is a single <code>Item</code>, the result is a single <code>InfoTuple</code></p><p>Note that <code>daemon_info/1</code> and <code>daemon_info/2</code> returns different types due to compatibility reasons.</p>
  </section>
</section>
<section class="detail" id="daemon_info/2">

  <div class="detail-header">
    <a href="#daemon_info/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">daemon_info/2</h1>


      <span class="note">(since OTP 19.0,OTP 22.1)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>daemon_info(DaemonRef, ItemList | Item) -> InfoTupleList | InfoTuple | {error, bad_daemon_ref}
               when
                   DaemonRef :: <a href="#t:daemon_ref/0">daemon_ref</a>(),
                   ItemList :: [Item],
                   Item :: ip | port | profile | options,
                   InfoTupleList :: [InfoTuple],
                   InfoTuple :: <a href="#t:daemon_info_tuple/0">daemon_info_tuple</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="default_algorithms/0">

  <div class="detail-header">
    <a href="#default_algorithms/0" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">default_algorithms/0</h1>


      <span class="note">(since OTP 18.0)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>default_algorithms() -> <a href="#t:algs_list/0">algs_list</a>().</pre>

      </div>

<p>Returns a key-value list, where the keys are the different types of algorithms and the values are the algorithms themselves.</p><p>See the User's Guide for an example.</p>
  </section>
</section>
<section class="detail" id="get_sock_opts/2">

  <div class="detail-header">
    <a href="#get_sock_opts/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">get_sock_opts/2</h1>


      <span class="note">(since OTP 22.3)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>get_sock_opts(ConnectionRef, SocketGetOptions) -> ok | {error, <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:posix/0">inet:posix</a>()}
                 when
                     ConnectionRef :: <a href="#t:connection_ref/0">connection_ref</a>(),
                     SocketGetOptions :: [<a href="https://wojtekmach.pl/otp_docs/kernel/gen_tcp.html#t:option_name/0">gen_tcp:option_name</a>()].</pre>

      </div>

<p>Get tcp socket option values of the tcp-socket below an ssh connection.</p><p>This function calls the <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#getopts/2">inet:getopts/2</a>, read that documentation.</p>
  </section>
</section>
<section class="detail" id="hostkey_fingerprint/1">

  <div class="detail-header">
    <a href="#hostkey_fingerprint/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">hostkey_fingerprint(HostKey) -&gt; string()</h1>


      <span class="note">(since OTP 24.0)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>hostkey_fingerprint(<a href="https://wojtekmach.pl/otp_docs/public_key/public_key.html#t:public_key/0">public_key:public_key</a>()) -> string().</pre>

      </div>

<ul class="types"><li class="type">HostKey = <a href="https://wojtekmach.pl/otp_docs/public_key/public_key.html#t:public_key/0">public_key:public_key()</a></li><li class="type">DigestType = <a href="https://wojtekmach.pl/otp_docs/public_key/public_key.html#t:digest_type/0">public_key:digest_type()</a></li></ul><p>Calculates a ssh fingerprint from a public host key as openssh does.</p><p>The algorithm in <code>hostkey_fingerprint/1</code> is md5 to be compatible with older ssh-keygen commands. The string from the second variant is prepended by the algorithm name in uppercase as in newer ssh-keygen commands.</p><p>Examples:</p><pre><code class="makeup erlang"><span class="w"> </span><span class="mi">2</span><span class="o">&gt;</span><span class="w"> </span><span class="nc">ssh</span><span class="p">:</span><span class="nf">hostkey_fingerprint</span><span class="p" data-group-id="4107534594-1">(</span><span class="n">Key</span><span class="p" data-group-id="4107534594-1">)</span><span class="p">.</span><span class="w">    
 </span><span class="s">&quot;f5:64:a6:c1:5a:cb:9f:0a:10:46:a2:5c:3e:2f:57:84&quot;</span><span class="w">

 </span><span class="mi">3</span><span class="o">&gt;</span><span class="w"> </span><span class="nc">ssh</span><span class="p">:</span><span class="nf">hostkey_fingerprint</span><span class="p" data-group-id="4107534594-2">(</span><span class="nb">md5</span><span class="p">,</span><span class="n">Key</span><span class="p" data-group-id="4107534594-2">)</span><span class="p">.</span><span class="w">
 </span><span class="s">&quot;MD5:f5:64:a6:c1:5a:cb:9f:0a:10:46:a2:5c:3e:2f:57:84&quot;</span><span class="w">

 </span><span class="mi">4</span><span class="o">&gt;</span><span class="w"> </span><span class="nc">ssh</span><span class="p">:</span><span class="nf">hostkey_fingerprint</span><span class="p" data-group-id="4107534594-3">(</span><span class="ss">sha</span><span class="p">,</span><span class="n">Key</span><span class="p" data-group-id="4107534594-3">)</span><span class="p">.</span><span class="w">
 </span><span class="s">&quot;SHA1:bSLY/C4QXLDL/Iwmhyg0PGW9UbY&quot;</span><span class="w">

 </span><span class="mi">5</span><span class="o">&gt;</span><span class="w"> </span><span class="nc">ssh</span><span class="p">:</span><span class="nf">hostkey_fingerprint</span><span class="p" data-group-id="4107534594-4">(</span><span class="ss">sha256</span><span class="p">,</span><span class="n">Key</span><span class="p" data-group-id="4107534594-4">)</span><span class="p">.</span><span class="w">
 </span><span class="s">&quot;SHA256:aZGXhabfbf4oxglxltItWeHU7ub3Dc31NcNw2cMJePQ&quot;</span><span class="w">

 </span><span class="mi">6</span><span class="o">&gt;</span><span class="w"> </span><span class="nc">ssh</span><span class="p">:</span><span class="nf">hostkey_fingerprint</span><span class="p" data-group-id="4107534594-5">(</span><span class="p" data-group-id="4107534594-6">[</span><span class="ss">sha</span><span class="p">,</span><span class="ss">sha256</span><span class="p" data-group-id="4107534594-6">]</span><span class="p">,</span><span class="n">Key</span><span class="p" data-group-id="4107534594-5">)</span><span class="p">.</span><span class="w">
 </span><span class="p" data-group-id="4107534594-7">[</span><span class="s">&quot;SHA1:bSLY/C4QXLDL/Iwmhyg0PGW9UbY&quot;</span><span class="p">,</span><span class="w">
  </span><span class="s">&quot;SHA256:aZGXhabfbf4oxglxltItWeHU7ub3Dc31NcNw2cMJePQ&quot;</span><span class="p" data-group-id="4107534594-7">]</span><span class="w">
    </span></code></pre>
  </section>
</section>
<section class="detail" id="hostkey_fingerprint/2">

  <div class="detail-header">
    <a href="#hostkey_fingerprint/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">hostkey_fingerprint([DigestType], HostKey) -&gt; [string()] hostkey_fingerprint(DigestType, HostKey) -&gt; string()</h1>


      <span class="note">(since OTP 24.0)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>hostkey_fingerprint(TypeOrTypes, Key) -> StringOrString
                       when
                           TypeOrTypes :: <a href="https://wojtekmach.pl/otp_docs/public_key/public_key.html#t:digest_type/0">public_key:digest_type</a>() | [<a href="https://wojtekmach.pl/otp_docs/public_key/public_key.html#t:digest_type/0">public_key:digest_type</a>()],
                           Key :: <a href="https://wojtekmach.pl/otp_docs/public_key/public_key.html#t:public_key/0">public_key:public_key</a>(),
                           StringOrString :: string() | [string()].</pre>

      </div>


  </section>
</section>
<section class="detail" id="set_sock_opts/2">

  <div class="detail-header">
    <a href="#set_sock_opts/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">set_sock_opts/2</h1>


      <span class="note">(since OTP 22.3)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>set_sock_opts(ConnectionRef, SocketOptions) -> ok | {error, <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:posix/0">inet:posix</a>()}
                 when ConnectionRef :: <a href="#t:connection_ref/0">connection_ref</a>(), SocketOptions :: [<a href="https://wojtekmach.pl/otp_docs/kernel/gen_tcp.html#t:option/0">gen_tcp:option</a>()].</pre>

      </div>

<p>Sets tcp socket options on the tcp-socket below an ssh connection.</p><p>This function calls the <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#setopts/2">inet:setopts/2</a>, read that documentation and for <a href="https://wojtekmach.pl/otp_docs/kernel/gen_tcp.html#t:option/0">gen_tcp:option()</a>.</p><p>All gen_tcp socket options except</p><ul><li><code>active</code></li><li><code>deliver</code></li><li><code>mode</code> and</li><li><code>packet</code></li></ul><p>are allowed. The excluded options are reserved by the SSH application.</p><div class="warning"><p>This is an extremly dangerous function. You use it on your own risk.</p><p>Some options are OS and OS version dependent. Do not use it unless you know what effect your option values will have on an TCP stream.</p><p>Some values may destroy the functionality of the SSH protocol.</p></div>
  </section>
</section>
<section class="detail" id="shell/1">

  <div class="detail-header">
    <a href="#shell/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">shell(Host | TcpSocket) -&gt; Result </h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>shell(<a href="#t:open_socket/0">open_socket</a>() | <a href="#t:host/0">host</a>() | <a href="#t:connection_ref/0">connection_ref</a>()) -> _.</pre>

      </div>

<ul class="types"><li class="type">Host = <a href="ssh.html#t:host/0">host()</a></li><li class="type">TcpSocket = <a href="ssh.html#t:open_socket/0">open_socket()</a></li><li class="type">Port = <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:port_number/0">inet:port_number()</a></li><li class="type">Options = <a href="ssh.html#t:client_options/0">client_options()</a></li><li class="type">Result = ok | {error, Reason::term()}</li></ul><p>Connects to an SSH server at <code>Host</code> and <code>Port</code> (defaults to 22) and starts an interactive shell on that remote host.</p><p>As an alternative, an already open TCP socket could be passed to the function in <code>TcpSocket</code>. The SSH initiation and negotiation will be initiated on that one and finaly a shell will be started on the host at the other end of the TCP socket.</p><p>For a description of the options, see <a href="ssh.html#t:client_options/0">Client Options</a>.</p><p>The function waits for user input, and does not return until the remote shell is ended (that is, exit from the shell).</p>
  </section>
</section>
<section class="detail" id="shell/2">

  <div class="detail-header">
    <a href="#shell/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">shell(Host | TcpSocket, Options) -&gt; Result </h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>shell(<a href="#t:open_socket/0">open_socket</a>() | <a href="#t:host/0">host</a>(), <a href="#t:client_options/0">client_options</a>()) -> _.</pre>

      </div>


  </section>
</section>
<section class="detail" id="shell/3">

  <div class="detail-header">
    <a href="#shell/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">shell(Host, Port, Options) -&gt; Result </h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>shell(Host, Port, Options) -> _
         when Host :: <a href="#t:host/0">host</a>(), Port :: <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:port_number/0">inet:port_number</a>(), Options :: <a href="#t:client_options/0">client_options</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="start/0">

  <div class="detail-header">
    <a href="#start/0" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">start/0</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>start() -> ok | {error, term()}.</pre>

      </div>

<p>Utility function that starts the applications <code>crypto</code>, <code>public_key</code>, and <code>ssh</code>. Default type is <code>temporary</code>. For more information, see the <a href="https://wojtekmach.pl/otp_docs/kernel/application.html">application(3)</a> manual page in Kernel.</p>
  </section>
</section>
<section class="detail" id="start/1">

  <div class="detail-header">
    <a href="#start/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">start/1</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>start(Type) -> ok | {error, term()} when Type :: permanent | transient | temporary.</pre>

      </div>


  </section>
</section>
<section class="detail" id="stop/0">

  <div class="detail-header">
    <a href="#stop/0" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">stop/0</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>stop() -> ok | {error, term()}.</pre>

      </div>

<p>Stops the <code>ssh</code> application. For more information, see the <a href="https://wojtekmach.pl/otp_docs/kernel/application.html">application(3)</a> manual page in Kernel.</p>
  </section>
</section>
<section class="detail" id="stop_daemon/1">

  <div class="detail-header">
    <a href="#stop_daemon/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">stop_daemon/1</h1>


      <span class="note">(since OTP 21.0)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>stop_daemon(DaemonRef :: <a href="#t:daemon_ref/0">daemon_ref</a>()) -> ok.</pre>

      </div>

<p>Stops the listener and all connections started by the listener.</p>
  </section>
</section>
<section class="detail" id="stop_daemon/2">

  <div class="detail-header">
    <a href="#stop_daemon/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">stop_daemon/2</h1>


      <span class="note">(since OTP 21.0)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>stop_daemon(<a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:ip_address/0">inet:ip_address</a>(), <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:port_number/0">inet:port_number</a>()) -> ok.</pre>

      </div>


  </section>
</section>
<section class="detail" id="stop_daemon/3">

  <div class="detail-header">
    <a href="#stop_daemon/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">stop_daemon/3</h1>


      <span class="note">(since OTP 21.0)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>stop_daemon(any | <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:ip_address/0">inet:ip_address</a>(), <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:port_number/0">inet:port_number</a>(), atom()) -> ok.</pre>

      </div>


  </section>
</section>
<section class="detail" id="stop_listener/1">

  <div class="detail-header">
    <a href="#stop_listener/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">stop_listener/1</h1>


      <span class="note">(since OTP 21.0)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>stop_listener(<a href="#t:daemon_ref/0">daemon_ref</a>()) -> ok.</pre>

      </div>

<p>Stops the listener, but leaves existing connections started by the listener operational.</p>
  </section>
</section>
<section class="detail" id="stop_listener/2">

  <div class="detail-header">
    <a href="#stop_listener/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">stop_listener/2</h1>


      <span class="note">(since OTP 21.0)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>stop_listener(<a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:ip_address/0">inet:ip_address</a>(), <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:port_number/0">inet:port_number</a>()) -> ok.</pre>

      </div>


  </section>
</section>
<section class="detail" id="stop_listener/3">

  <div class="detail-header">
    <a href="#stop_listener/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">stop_listener/3</h1>


      <span class="note">(since OTP 21.0)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>stop_listener(any | <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:ip_address/0">inet:ip_address</a>(), <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:port_number/0">inet:port_number</a>(), term()) -> ok.</pre>

      </div>


  </section>
</section>
<section class="detail" id="tcpip_tunnel_from_server/5">

  <div class="detail-header">
    <a href="#tcpip_tunnel_from_server/5" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">tcpip_tunnel_from_server/5</h1>


      <span class="note">(since OTP 23.0)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>tcpip_tunnel_from_server(ConnectionRef, ListenHost, ListenPort, ConnectToHost, ConnectToPort) ->
                            {ok, TrueListenPort} | {error, term()}
                            when
                                ConnectionRef :: <a href="#t:connection_ref/0">connection_ref</a>(),
                                ListenHost :: <a href="#t:host/0">host</a>(),
                                ListenPort :: <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:port_number/0">inet:port_number</a>(),
                                ConnectToHost :: <a href="#t:host/0">host</a>(),
                                ConnectToPort :: <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:port_number/0">inet:port_number</a>(),
                                TrueListenPort :: <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:port_number/0">inet:port_number</a>().</pre>

      </div>

<p>Asks the remote server of <code>ConnectionRef</code> to listen to <code>ListenHost:ListenPort</code>. When someone connects that address, the connection is forwarded in an encrypted channel from the server to the client. The client (that is, at the node that calls this function) then connects to <code>ConnectToHost:ConnectToPort</code>.</p><p>The returned <code>TrueListenPort</code> is the port that is listened to. It is the same as <code>ListenPort</code>, except when <code>ListenPort = 0</code>. In that case a free port is selected by the underlying OS.</p><p>Note that in case of an Erlang/OTP SSH server (daemon) as peer, that server must have been started with the option <a href="ssh.html#t:tcpip_tunnel_out_daemon_option/0">tcpip_tunnel_out</a> to allow the connection.</p>
  </section>
</section>
<section class="detail" id="tcpip_tunnel_from_server/6">

  <div class="detail-header">
    <a href="#tcpip_tunnel_from_server/6" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">tcpip_tunnel_from_server/6</h1>


      <span class="note">(since OTP 23.0)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>tcpip_tunnel_from_server(ConnectionRef, ListenHost, ListenPort, ConnectToHost, ConnectToPort,
                         Timeout) ->
                            {ok, TrueListenPort} | {error, term()}
                            when
                                ConnectionRef :: <a href="#t:connection_ref/0">connection_ref</a>(),
                                ListenHost :: <a href="#t:host/0">host</a>(),
                                ListenPort :: <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:port_number/0">inet:port_number</a>(),
                                ConnectToHost :: <a href="#t:host/0">host</a>(),
                                ConnectToPort :: <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:port_number/0">inet:port_number</a>(),
                                Timeout :: timeout(),
                                TrueListenPort :: <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:port_number/0">inet:port_number</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="tcpip_tunnel_to_server/5">

  <div class="detail-header">
    <a href="#tcpip_tunnel_to_server/5" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">tcpip_tunnel_to_server/5</h1>


      <span class="note">(since OTP 23.0)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>tcpip_tunnel_to_server(ConnectionRef, ListenHost, ListenPort, ConnectToHost, ConnectToPort) ->
                          {ok, TrueListenPort} | {error, term()}
                          when
                              ConnectionRef :: <a href="#t:connection_ref/0">connection_ref</a>(),
                              ListenHost :: <a href="#t:host/0">host</a>(),
                              ListenPort :: <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:port_number/0">inet:port_number</a>(),
                              ConnectToHost :: <a href="#t:host/0">host</a>(),
                              ConnectToPort :: <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:port_number/0">inet:port_number</a>(),
                              TrueListenPort :: <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:port_number/0">inet:port_number</a>().</pre>

      </div>

<p>Tells the local client to listen to <code>ListenHost:ListenPort</code>. When someone connects to that address, the connection is forwarded in an encrypted channel to the peer server of <code>ConnectionRef</code>. That server then connects to <code>ConnectToHost:ConnectToPort</code>.</p><p>The returned <code>TrueListenPort</code> is the port that is listened to. It is the same as <code>ListenPort</code>, except when <code>ListenPort = 0</code>. In that case a free port is selected by the underlying OS.</p><p>Note that in case of an Erlang/OTP SSH server (daemon) as peer, that server must have been started with the option <a href="ssh.html#t:tcpip_tunnel_in_daemon_option/0">tcpip_tunnel_in</a> to allow the connection.</p>
  </section>
</section>
<section class="detail" id="tcpip_tunnel_to_server/6">

  <div class="detail-header">
    <a href="#tcpip_tunnel_to_server/6" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">tcpip_tunnel_to_server/6</h1>


      <span class="note">(since OTP 23.0)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>tcpip_tunnel_to_server(ConnectionRef, ListenHost, ListenPort, ConnectToHost, ConnectToPort,
                       Timeout) ->
                          {ok, TrueListenPort} | {error, term()}
                          when
                              ConnectionRef :: <a href="#t:connection_ref/0">connection_ref</a>(),
                              ListenHost :: <a href="#t:host/0">host</a>(),
                              ListenPort :: <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:port_number/0">inet:port_number</a>(),
                              ConnectToHost :: <a href="#t:host/0">host</a>(),
                              ConnectToPort :: <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:port_number/0">inet:port_number</a>(),
                              Timeout :: timeout(),
                              TrueListenPort :: <a href="https://wojtekmach.pl/otp_docs/kernel/inet.html#t:port_number/0">inet:port_number</a>().</pre>

      </div>


  </section>
</section>

          </div>
        </section>

      <footer class="footer">

        <p>
          <span class="line">
            Built using
            <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener">ExDoc</a> (v0.25.1) for the
            <a href="https://elixir-lang.org" title="Elixir" target="_blank">Elixir programming language</a>.
          </span>
          <span class="line">
            Designed by
            <a href="https://twitter.com/dignifiedquire" target="_blank" rel="noopener" title="@dignifiedquire">Friedel Ziegelmayer</a>.
          </span>
        </p>
        <p>

            <a href="api-reference.html" title="API reference" class="line footer-button">API Reference</a>

          <button class="line footer-button display-shortcuts-help">
            Display keyboard shortcuts
          </button>
          <button class="line footer-button night-mode-toggle">
            Toggle night mode
          </button>
          <button class="line footer-button display-quick-switch">
            Go to a HexDocs package
          </button>
          <button class="line footer-button tooltips-toggle">
            <span class="tooltips-option-disable">Disable tooltips</span>
            <span class="tooltips-option-enable">Enable tooltips</span>
          </button>
        </p>
      </footer>
    </div>
  </div>
</section>
</div>


  </body>
</html>

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.25.1">
    <meta name="project" content="xmerl v1.3.28">

    <title>xmerl_xsd â€” xmerl v1.3.28</title>
    <link rel="stylesheet" href="dist/erlang-951161c89561e05735a5.css" />

    <script src="dist/sidebar_items-5a6f3d1e1b.js"></script>

      <script src="docs_config.js"></script>

    <script async src="dist/app-f97730d45ef67f3e6188.js"></script>


  </head>
  <body data-type="modules">
    <script>

      try {
        if (localStorage.getItem('night-mode') === 'true') {
          document.body.classList.add('night-mode');
        }
      } catch (error) { }
    </script>

<div class="main">

<button class="sidebar-button sidebar-toggle">
  <span class="icon-menu" title="Collapse/expand sidebar"></span>
</button>

<section class="sidebar">
  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button" aria-label="Submit Search">
      <span class="icon-search" aria-hidden="true" title="Submit search"></span>
    </button>
    <button type="button" tabindex="-1" class="search-close-button" aria-label="Cancel Search">
      <span class="icon-cross" aria-hidden="true" title="Cancel search"></span>
    </button>
    <label class="search-label">
      <input name="q" type="text" class="search-input" placeholder="Search..." aria-label="Input your search terms" autocomplete="off" />
    </label>
  </form>

  <div class="autocomplete">
    <div class="autocomplete-results">
    </div>
  </div>

  <div class="sidebar-header">
    <div class="sidebar-projectDetails">
      <a href="api-reference.html" class="sidebar-projectName">
xmerl
      </a>
      <strong class="sidebar-projectVersion">
        v1.3.28
      </strong>
    </div>

  </div>

  <ul class="sidebar-listNav">
    <li><a id="extras-list-link" href="#full-list">Pages</a></li>

      <li><a id="modules-list-link" href="#full-list">Modules</a></li>


  </ul>
  <div class="gradient"></div>
  <ul id="full-list" class="sidebar-fullList"></ul>
</section>

<section class="content">
  <div class="content-outer">
    <div id="content" class="content-inner">

      <h1>
xmerl_xsd <small class="app-vsn">(xmerl v1.3.28)</small>

      </h1>


        <section id="moduledoc">
<p>Interface module for XML Schema validation. It handles the W3.org <a href="http://www.w3.org/XML/Schema#dev">specifications</a> of XML Schema second edition 28 october 2004. For an introduction to XML Schema study <a href="http://www.w3.org/TR/xmlschema-0/">part 0.</a> An XML structure is validated by xmerl_xsd:validate/[2,3].</p><h2 id="module-data-types" class="section-heading">
  <a href="#module-data-types" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  DATA TYPES
</h2>
<a id="types"></a><dl><dt><a id="type-filename"></a>filename() = string()</dt><dd><p></p></dd><dt><a id="type-global_state"></a>global_state()</dt><dd><p></p><p>The global state of the validator. It is representated by the <code>#xsd_state{}</code> record.</p></dd><dt><a id="type-option_list"></a>option_list()</dt><dd><p></p><p>Options allow to customize the behaviour of the validation.</p><p>Possible options are :</p><dl><dt><code>{tab2file,boolean()}</code></dt><dd><p>Enables saving of abstract structure on file for debugging purpose.</p></dd><dt><code>{xsdbase,filename()}</code></dt><dd><p>XSD Base directory.</p></dd><dt><code>{fetch_fun,FetchFun}</code></dt><dd><p>Call back function to fetch an external resource.</p></dd><dt><code>{fetch_path,PathList}</code></dt><dd><p>PathList is a list of directories to search when fetching files. If the file in question is not in the fetch_path, the URI will be used as a file name.</p></dd><dt><code>{state,State}</code></dt><dd><p>It is possible by this option to provide a state with process information from an earlier validation.</p></dd></dl></dd></dl>
        </section>


        <section id="summary" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#summary">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
            Summary
          </h1>

  <div class="summary-functions summary">
    <h2>
      <a href="#functions">Functions</a>
    </h2>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#file2state/1">file2state(FileName) -&gt; {ok, State} | {error, Reason}</a>

  </div>

    <div class="summary-synopsis"><ul class="types"><li class="type">State = <a href="#type-global_state">global_state()</a></li><li class="type">FileName = string()</li></ul><a id="file2state-1"></a><p>Reads the schema state with all information of the processed schema from a file created with <code>state2file/[1,2]</code>. The format of this file is internal. The state can then be used validating an XML document.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#format_error/1">format_error(L::Errors) -&gt; Result</a>

  </div>

    <div class="summary-synopsis"><ul class="types"><li class="type">Errors = tuple() | [tuple()]</li><li class="type">Result = string() | [string()]</li></ul><a id="format_error-1"></a><p>Formats error descriptions to human readable strings.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#process_schema/1">process_schema(Schema) -&gt; Result</a>

  </div>

    <div class="summary-synopsis"><a id="process_schema-1"></a><p>Equivalent to <a href="#process_schema/2">process_schema(Schema, [])</a>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#process_schema/2">process_schema(Schema, Options) -&gt; Result</a>

  </div>

    <div class="summary-synopsis"><ul class="types"><li class="type">Schema = string()</li><li class="type">Result = {ok, State} | {error, Reason}</li><li class="type">State = <a href="#type-global_state">global_state()</a></li><li class="type">Reason = [ErrorReason] | ErrorReason</li><li class="type">Options = <a href="#type-option_list">option_list()</a></li></ul><a id="process_schema-2"></a><p>Reads the referenced XML schema and checks that it is valid. Returns the <code>global_state()</code> with schema info or an error reason. The error reason may be a list of several errors or a single error encountered during the processing.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#process_schemas/1">process_schemas(Schemas) -&gt; Result</a>

  </div>

    <div class="summary-synopsis"><a id="process_schemas-1"></a><p>Equivalent to <a href="#process_schema/2">process_schema(Schemas, [])</a>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#process_schemas/2">process_schemas(Schemas, Options) -&gt; Result</a>

  </div>

    <div class="summary-synopsis"><ul class="types"><li class="type">Schemas = [{NameSpace, string()} | Schemas] | []</li><li class="type">Result = {ok, State} | {error, Reason}</li><li class="type">Reason = [ErrorReason] | ErrorReason</li><li class="type">Options = <a href="#type-option_list">option_list()</a></li></ul><a id="process_schemas-2"></a><p>Reads the referenced XML schemas and controls they are valid. Returns the <code>global_state()</code> with schema info or an error reason. The error reason may be a list of several errors or a single error encountered during the processing.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#process_validate/2">process_validate(Schema, Xml::Element) -&gt; Result</a>

  </div>

    <div class="summary-synopsis"><a id="process_validate-2"></a><p>Equivalent to <a href="#process_validate/3">process_validate(Schema, Xml, [])</a>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#process_validate/3">process_validate(Schema, Xml::Element, Opts::Options) -&gt; Result</a>

  </div>

    <div class="summary-synopsis"><ul class="types"><li class="type">Schema = string()</li><li class="type">Element = XmlElement</li><li class="type">Options = <a href="#type-option_list">option_list()</a></li><li class="type">Result = {ValidXmlElement, State} | {error, Reason}</li><li class="type">Reason = [ErrorReason] | ErrorReason</li></ul><a id="process_validate-3"></a><p>Validates a parsed well-formed XML element towards an XML schema.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#state2file/1">state2file(S::State) -&gt; ok | {error, Reason}</a>

  </div>

    <div class="summary-synopsis"><a id="state2file-1"></a><p>Same as state2file(State,SchemaName)</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#state2file/2">state2file(S::State, FileName) -&gt; ok | {error, Reason}</a>

  </div>

    <div class="summary-synopsis"><ul class="types"><li class="type">State = <a href="#type-global_state">global_state()</a></li><li class="type">FileName = string()</li></ul><a id="state2file-2"></a><p>Saves the schema state with all information of the processed schema in a file. You can provide the file name for the saved state. FileName is saved with the <code>.xss</code> extension added.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#validate/2">validate(Xml::Element, State) -&gt; Result</a>

  </div>

    <div class="summary-synopsis"><a id="validate-2"></a><p>Equivalent to <a href="#validate/3">validate(Element, State, [])</a>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#validate/3">validate(Xml::Element, State, Opts::Options) -&gt; Result</a>

  </div>

    <div class="summary-synopsis"><ul class="types"><li class="type">Element = XmlElement</li><li class="type">Options = <a href="#type-option_list">option_list()</a></li><li class="type">Result = {ValidElement, <a href="#type-global_state">global_state()</a>} | {error, Reasons}</li><li class="type">ValidElement = XmlElement</li><li class="type">State = <a href="#type-global_state">global_state()</a></li><li class="type">Reasons = [ErrorReason] | ErrorReason</li></ul><a id="validate-3"></a><p>Validates a parsed well-formed XML element (Element).</p></div>

</div>

  </div>

        </section>


        <section id="functions" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#functions">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
Functions
          </h1>
          <div class="functions-list">
<section class="detail" id="file2state/1">

  <div class="detail-header">
    <a href="#file2state/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">file2state(FileName) -&gt; {ok, State} | {error, Reason}</h1>


  </div>

  <section class="docstring">

<ul class="types"><li class="type">State = <a href="#type-global_state">global_state()</a></li><li class="type">FileName = string()</li></ul><a id="file2state-1"></a><p>Reads the schema state with all information of the processed schema from a file created with <code>state2file/[1,2]</code>. The format of this file is internal. The state can then be used validating an XML document.</p>
  </section>
</section>
<section class="detail" id="format_error/1">

  <div class="detail-header">
    <a href="#format_error/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">format_error(L::Errors) -&gt; Result</h1>


  </div>

  <section class="docstring">

<ul class="types"><li class="type">Errors = tuple() | [tuple()]</li><li class="type">Result = string() | [string()]</li></ul><a id="format_error-1"></a><p>Formats error descriptions to human readable strings.</p>
  </section>
</section>
<section class="detail" id="process_schema/1">

  <div class="detail-header">
    <a href="#process_schema/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">process_schema(Schema) -&gt; Result</h1>


  </div>

  <section class="docstring">

<a id="process_schema-1"></a><p>Equivalent to <a href="#process_schema/2">process_schema(Schema, [])</a>.</p>
  </section>
</section>
<section class="detail" id="process_schema/2">

  <div class="detail-header">
    <a href="#process_schema/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">process_schema(Schema, Options) -&gt; Result</h1>


  </div>

  <section class="docstring">

<ul class="types"><li class="type">Schema = string()</li><li class="type">Result = {ok, State} | {error, Reason}</li><li class="type">State = <a href="#type-global_state">global_state()</a></li><li class="type">Reason = [ErrorReason] | ErrorReason</li><li class="type">Options = <a href="#type-option_list">option_list()</a></li></ul><a id="process_schema-2"></a><p>Reads the referenced XML schema and checks that it is valid. Returns the <code>global_state()</code> with schema info or an error reason. The error reason may be a list of several errors or a single error encountered during the processing.</p>
  </section>
</section>
<section class="detail" id="process_schemas/1">

  <div class="detail-header">
    <a href="#process_schemas/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">process_schemas(Schemas) -&gt; Result</h1>


  </div>

  <section class="docstring">

<a id="process_schemas-1"></a><p>Equivalent to <a href="#process_schema/2">process_schema(Schemas, [])</a>.</p>
  </section>
</section>
<section class="detail" id="process_schemas/2">

  <div class="detail-header">
    <a href="#process_schemas/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">process_schemas(Schemas, Options) -&gt; Result</h1>


  </div>

  <section class="docstring">

<ul class="types"><li class="type">Schemas = [{NameSpace, string()} | Schemas] | []</li><li class="type">Result = {ok, State} | {error, Reason}</li><li class="type">Reason = [ErrorReason] | ErrorReason</li><li class="type">Options = <a href="#type-option_list">option_list()</a></li></ul><a id="process_schemas-2"></a><p>Reads the referenced XML schemas and controls they are valid. Returns the <code>global_state()</code> with schema info or an error reason. The error reason may be a list of several errors or a single error encountered during the processing.</p>
  </section>
</section>
<section class="detail" id="process_validate/2">

  <div class="detail-header">
    <a href="#process_validate/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">process_validate(Schema, Xml::Element) -&gt; Result</h1>


  </div>

  <section class="docstring">

<a id="process_validate-2"></a><p>Equivalent to <a href="#process_validate/3">process_validate(Schema, Xml, [])</a>.</p>
  </section>
</section>
<section class="detail" id="process_validate/3">

  <div class="detail-header">
    <a href="#process_validate/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">process_validate(Schema, Xml::Element, Opts::Options) -&gt; Result</h1>


  </div>

  <section class="docstring">

<ul class="types"><li class="type">Schema = string()</li><li class="type">Element = XmlElement</li><li class="type">Options = <a href="#type-option_list">option_list()</a></li><li class="type">Result = {ValidXmlElement, State} | {error, Reason}</li><li class="type">Reason = [ErrorReason] | ErrorReason</li></ul><a id="process_validate-3"></a><p>Validates a parsed well-formed XML element towards an XML schema.</p><p>Validates in two steps. First it processes the schema, saves the type and structure info in an ets table and then validates the element towards the schema.</p><p>Usage example:</p><p><code>1&gt;{E,_} = xmerl_scan:file(&quot;my_XML_document.xml&quot;).</code><br/><code>2&gt;{E2,_} = xmerl_xsd:validate(&quot;my_XML_Schema.xsd&quot;,E).</code></p><p>Observe that E2 may differ from E if for instance there are default values defined in <code>my_XML_Schema.xsd</code>.</p>
  </section>
</section>
<section class="detail" id="state2file/1">

  <div class="detail-header">
    <a href="#state2file/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">state2file(S::State) -&gt; ok | {error, Reason}</h1>


  </div>

  <section class="docstring">

<a id="state2file-1"></a><p>Same as state2file(State,SchemaName)</p><p>The name of the saved file is the same as the name of the schema, but with <code>.xss</code> extension.</p>
  </section>
</section>
<section class="detail" id="state2file/2">

  <div class="detail-header">
    <a href="#state2file/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">state2file(S::State, FileName) -&gt; ok | {error, Reason}</h1>


  </div>

  <section class="docstring">

<ul class="types"><li class="type">State = <a href="#type-global_state">global_state()</a></li><li class="type">FileName = string()</li></ul><a id="state2file-2"></a><p>Saves the schema state with all information of the processed schema in a file. You can provide the file name for the saved state. FileName is saved with the <code>.xss</code> extension added.</p>
  </section>
</section>
<section class="detail" id="validate/2">

  <div class="detail-header">
    <a href="#validate/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">validate(Xml::Element, State) -&gt; Result</h1>


  </div>

  <section class="docstring">

<a id="validate-2"></a><p>Equivalent to <a href="#validate/3">validate(Element, State, [])</a>.</p>
  </section>
</section>
<section class="detail" id="validate/3">

  <div class="detail-header">
    <a href="#validate/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">validate(Xml::Element, State, Opts::Options) -&gt; Result</h1>


  </div>

  <section class="docstring">

<ul class="types"><li class="type">Element = XmlElement</li><li class="type">Options = <a href="#type-option_list">option_list()</a></li><li class="type">Result = {ValidElement, <a href="#type-global_state">global_state()</a>} | {error, Reasons}</li><li class="type">ValidElement = XmlElement</li><li class="type">State = <a href="#type-global_state">global_state()</a></li><li class="type">Reasons = [ErrorReason] | ErrorReason</li></ul><a id="validate-3"></a><p>Validates a parsed well-formed XML element (Element).</p><p>A call to validate/2 or validate/3 must provide a well formed parsed XML element <code>#xmlElement{}</code> and a State, <code>global_state()</code>, which holds necessary information from an already processed schema. Thus validate enables reuse of the schema information and therefore if one shall validate several times towards the same schema it reduces time consumption.</p><p>The result, ValidElement, is the valid element that conforms to the post-schema-validation infoset. When the validator finds an error it tries to continue and reports a list of all errors found. In those cases an unexpected error is found it may cause a single error reason.</p><p>Usage example:</p><p><code>1&gt;{E,_} = xmerl_scan:file(&quot;my_XML_document.xml&quot;).</code><br/><code>2&gt;{ok,S} = xmerl_xsd:process_schema(&quot;my_XML_Schema.xsd&quot;).</code><br/><code>3&gt;{E2,_} = xmerl_xsd:validate(E,S).</code></p><p>Observe that E2 may differ from E if for instance there are default values defined in <code>my_XML_Schema.xsd</code>.</p>
  </section>
</section>

          </div>
        </section>

      <footer class="footer">

        <p>
          <span class="line">
            Built using
            <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener">ExDoc</a> (v0.25.1) for the
            <a href="https://elixir-lang.org" title="Elixir" target="_blank">Elixir programming language</a>.
          </span>
          <span class="line">
            Designed by
            <a href="https://twitter.com/dignifiedquire" target="_blank" rel="noopener" title="@dignifiedquire">Friedel Ziegelmayer</a>.
          </span>
        </p>
        <p>

            <a href="api-reference.html" title="API reference" class="line footer-button">API Reference</a>

          <button class="line footer-button display-shortcuts-help">
            Display keyboard shortcuts
          </button>
          <button class="line footer-button night-mode-toggle">
            Toggle night mode
          </button>
          <button class="line footer-button display-quick-switch">
            Go to a HexDocs package
          </button>
          <button class="line footer-button tooltips-toggle">
            <span class="tooltips-option-disable">Disable tooltips</span>
            <span class="tooltips-option-enable">Enable tooltips</span>
          </button>
        </p>
      </footer>
    </div>
  </div>
</section>
</div>


  </body>
</html>

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.25.1">
    <meta name="project" content="stdlib v3.15.2">

    <title>supervisor â€” stdlib v3.15.2</title>
    <link rel="stylesheet" href="dist/erlang-951161c89561e05735a5.css" />

    <script src="dist/sidebar_items-2e60d1dd15.js"></script>

      <script src="docs_config.js"></script>

    <script async src="dist/app-f97730d45ef67f3e6188.js"></script>


  </head>
  <body data-type="modules">
    <script>

      try {
        if (localStorage.getItem('night-mode') === 'true') {
          document.body.classList.add('night-mode');
        }
      } catch (error) { }
    </script>

<div class="main">

<button class="sidebar-button sidebar-toggle">
  <span class="icon-menu" title="Collapse/expand sidebar"></span>
</button>

<section class="sidebar">
  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button" aria-label="Submit Search">
      <span class="icon-search" aria-hidden="true" title="Submit search"></span>
    </button>
    <button type="button" tabindex="-1" class="search-close-button" aria-label="Cancel Search">
      <span class="icon-cross" aria-hidden="true" title="Cancel search"></span>
    </button>
    <label class="search-label">
      <input name="q" type="text" class="search-input" placeholder="Search..." aria-label="Input your search terms" autocomplete="off" />
    </label>
  </form>

  <div class="autocomplete">
    <div class="autocomplete-results">
    </div>
  </div>

  <div class="sidebar-header">
    <div class="sidebar-projectDetails">
      <a href="api-reference.html" class="sidebar-projectName">
stdlib
      </a>
      <strong class="sidebar-projectVersion">
        v3.15.2
      </strong>
    </div>

  </div>

  <ul class="sidebar-listNav">
    <li><a id="extras-list-link" href="#full-list">Pages</a></li>

      <li><a id="modules-list-link" href="#full-list">Modules</a></li>


  </ul>
  <div class="gradient"></div>
  <ul id="full-list" class="sidebar-fullList"></ul>
</section>

<section class="content">
  <div class="content-outer">
    <div id="content" class="content-inner">

      <h1>
supervisor <small>behaviour</small> <small class="app-vsn">(stdlib v3.15.2)</small>

      </h1>


        <section id="moduledoc">
<p>This behavior module provides a supervisor, a process that supervises other processes called child processes. A child process can either be another supervisor or a worker process. Worker processes are normally implemented using one of the <a href="gen_event.html"><code>gen_event</code></a>, <a href="gen_server.html"><code>gen_server</code></a>, or <a href="gen_statem.html"><code>gen_statem</code></a> behaviors. A supervisor implemented using this module has a standard set of interface functions and include functionality for tracing and error reporting. Supervisors are used to build a hierarchical process structure called a supervision tree, a nice way to structure a fault-tolerant application. For more information, see Supervisor Behaviour in OTP Design Principles.</p><p>A supervisor expects the definition of which child processes to supervise to be specified in a callback module exporting a predefined set of functions.</p><p>Unless otherwise stated, all functions in this module fail if the specified supervisor does not exist or if bad arguments are specified.</p><a id="supervision_princ"></a><h2 id="module-supervision-principles" class="section-heading">
  <a href="#module-supervision-principles" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Supervision Principles
</h2>
<p>The supervisor is responsible for starting, stopping, and monitoring its child processes. The basic idea of a supervisor is that it must keep its child processes alive by restarting them when necessary.</p><p>The children of a supervisor are defined as a list of <em>child specifications</em>. When the supervisor is started, the child processes are started in order from left to right according to this list. When the supervisor terminates, it first terminates its child processes in reversed start order, from right to left.</p><div ghlink="maint/lib/stdlib/doc/src/supervisor.xml#L72"><h3 id="module-supervisor-flags" class="section-heading">
  <a href="#module-supervisor-flags" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Supervisor flags
</h3>
<a id="sup_flags"></a><p>The supervisor properties are defined by the supervisor flags. The type definition for the supervisor flags is as follows:</p><pre><code class="makeup erlang"><span class="nf">sup_flags</span><span class="p" data-group-id="5988155465-1">(</span><span class="p" data-group-id="5988155465-1">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="5988155465-2">#{</span><span class="ss">strategy</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nf">strategy</span><span class="p" data-group-id="5988155465-3">(</span><span class="p" data-group-id="5988155465-3">)</span><span class="p">,</span><span class="w">           </span><span class="c1">% optional</span><span class="w">
                </span><span class="ss">intensity</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nf">non_neg_integer</span><span class="p" data-group-id="5988155465-4">(</span><span class="p" data-group-id="5988155465-4">)</span><span class="p">,</span><span class="w">   </span><span class="c1">% optional</span><span class="w">
                </span><span class="ss">period</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nf">pos_integer</span><span class="p" data-group-id="5988155465-5">(</span><span class="p" data-group-id="5988155465-5">)</span><span class="p">,</span><span class="w">          </span><span class="c1">% optional</span><span class="w">
                </span><span class="ss">auto_shutdown</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nf">auto_shutdown</span><span class="p" data-group-id="5988155465-6">(</span><span class="p" data-group-id="5988155465-6">)</span><span class="p" data-group-id="5988155465-2">}</span><span class="w"> </span><span class="c1">% optional</span></code></pre><div ghlink="maint/lib/stdlib/doc/src/supervisor.xml#L84"><h4>Restart Strategies</h4><p>A supervisor can have one of the following <em>restart strategies</em> specified with the <code>strategy</code> key in the above map:</p><ul><li><p><code>one_for_one</code> - If one child process terminates and is to be restarted, only that child process is affected. This is the default restart strategy.</p></li><li><p><code>one_for_all</code> - If one child process terminates and is to be restarted, all other child processes are terminated and then all child processes are restarted.</p></li><li><p><code>rest_for_one</code> - If one child process terminates and is to be restarted, the 'rest' of the child processes (that is, the child processes after the terminated child process in the start order) are terminated. Then the terminated child process and all child processes after it are restarted.</p></li><li><p><code>simple_one_for_one</code> - A simplified <code>one_for_one</code> supervisor, where all child processes are dynamically added instances of the same process type, that is, running the same code.</p><p>Functions <a href="supervisor.html#delete_child/2"><code>delete_child/2</code></a> and <a href="supervisor.html#restart_child/2"><code>restart_child/2</code></a> are invalid for <code>simple_one_for_one</code> supervisors and return <code>{error,simple_one_for_one}</code> if the specified supervisor uses this restart strategy.</p><p>Function <a href="supervisor.html#terminate_child/2"><code>terminate_child/2</code></a> can be used for children under <code>simple_one_for_one</code> supervisors by specifying the child's <code>pid()</code> as the second argument. If instead the child specification identifier is used, <code>terminate_child/2</code> return <code>{error,simple_one_for_one}</code>.</p><p>As a <code>simple_one_for_one</code> supervisor can have many children, it shuts them all down asynchronously. This means that the children do their cleanup in parallel, and therefore the order in which they are stopped is not defined.</p></li></ul></div><div ghlink="maint/lib/stdlib/doc/src/supervisor.xml#L133"><h4>Restart intensity and period</h4><p>To prevent a supervisor from getting into an infinite loop of child process terminations and restarts, a <em>maximum restart intensity</em> is defined using two integer values specified with keys <code>intensity</code> and <code>period</code> in the above map. Assuming the values <code>MaxR</code> for <code>intensity</code> and <code>MaxT</code> for <code>period</code>, then, if more than <code>MaxR</code> restarts occur within <code>MaxT</code> seconds, the supervisor terminates all child processes and then itself. The termination reason for the supervisor itself in that case will be <code>shutdown</code>. <code>intensity</code> defaults to <code>1</code> and <code>period</code> defaults to <code>5</code>.</p></div><div ghlink="maint/lib/stdlib/doc/src/supervisor.xml#L147"><h4>Automatic Shutdown</h4><a id="auto_shutdown"></a><p>A supervisor can be configured to automatically shut itself down with exit reason <code>shutdown</code> when <a href="supervisor.html#content#significant_child">significant children</a> terminate with the <code>auto_shutdown</code> key in the above map:</p><ul><li><p><code>never</code> - Automic shutdown is disabled. This is the default setting.</p><p>With <code>auto_shutdown</code> set to <code>never</code>, child specs with the <code>significant</code> flag set to <code>true</code> are considered invalid and will be rejected.</p></li><li><p><code>any_significant</code> - The supervisor will shut itself down when <em>any</em> significant child terminates, that is, when a <code>transient</code> significant child terminates normally or when a <code>temporary</code> significant child terminates normally or abnormally.</p></li><li><p><code>all_significant</code> - The supervisor will shut itself down when <em>all</em> significant children have terminated, that is, when the <em>last active</em> significant child terminates. The same rules as for <code>any_significant</code> apply.</p></li></ul><p>For more information, see the section Automatic Shutdown in Supervisor Behavior in OTP Design Principles.</p><div class="warning"><p>The automatic shutdown feature appeared in OTP 24.0, but applications using this feature will also compile and run with older OTP versions.</p><p>However, such applications, when compiled with an OTP version that predates the appearance of the automatic shutdown feature, will leak processes because the automatic shutdowns they rely on will not happen.</p><p>It is up to implementors to take proper precautions if they expect that their applications may be compiled with older OTP versions.</p></div></div></div><div ghlink="maint/lib/stdlib/doc/src/supervisor.xml#L196"><h3 id="module-child-specification" class="section-heading">
  <a href="#module-child-specification" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  Child specification
</h3>
<a id="child_spec"></a><p>The type definition of a child specification is as follows:</p><pre><code class="makeup erlang"><span class="nf">child_spec</span><span class="p" data-group-id="5874101531-1">(</span><span class="p" data-group-id="5874101531-1">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p" data-group-id="5874101531-2">#{</span><span class="ss">id</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nf">child_id</span><span class="p" data-group-id="5874101531-3">(</span><span class="p" data-group-id="5874101531-3">)</span><span class="p">,</span><span class="w">             </span><span class="c1">% mandatory</span><span class="w">
                 </span><span class="ss">start</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nf">mfargs</span><span class="p" data-group-id="5874101531-4">(</span><span class="p" data-group-id="5874101531-4">)</span><span class="p">,</span><span class="w">            </span><span class="c1">% mandatory</span><span class="w">
                 </span><span class="ss">restart</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nf">restart</span><span class="p" data-group-id="5874101531-5">(</span><span class="p" data-group-id="5874101531-5">)</span><span class="p">,</span><span class="w">         </span><span class="c1">% optional</span><span class="w">
                 </span><span class="ss">significant</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nf">significant</span><span class="p" data-group-id="5874101531-6">(</span><span class="p" data-group-id="5874101531-6">)</span><span class="p">,</span><span class="w"> </span><span class="c1">% optional</span><span class="w">
                 </span><span class="ss">shutdown</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nf">shutdown</span><span class="p" data-group-id="5874101531-7">(</span><span class="p" data-group-id="5874101531-7">)</span><span class="p">,</span><span class="w">       </span><span class="c1">% optional</span><span class="w">
                 </span><span class="ss">type</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nf">worker</span><span class="p" data-group-id="5874101531-8">(</span><span class="p" data-group-id="5874101531-8">)</span><span class="p">,</span><span class="w">             </span><span class="c1">% optional</span><span class="w">
                 </span><span class="ss">modules</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nf">modules</span><span class="p" data-group-id="5874101531-9">(</span><span class="p" data-group-id="5874101531-9">)</span><span class="p" data-group-id="5874101531-2">}</span><span class="w">         </span><span class="c1">% optional</span></code></pre><p>The old tuple format is kept for backwards compatibility, see <a href="supervisor.html#t:child_spec/0">child_spec()</a>, but the map is preferred.</p><ul><li><p><code>id</code> is used to identify the child specification internally by the supervisor.</p><p>The <code>id</code> key is mandatory.</p><p>Notice that this identifier on occations has been called &quot;name&quot;. As far as possible, the terms &quot;identifier&quot; or &quot;id&quot; are now used but to keep backward compatibility, some occurences of &quot;name&quot; can still be found, for example in error messages.</p></li><li><p><code>start</code> defines the function call used to start the child process. It must be a module-function-arguments tuple <code>{M,F,A}</code> used as <code>apply(M,F,A)</code>.</p><p>The start function <em>must create and link to</em> the child process, and must return <code>{ok,Child}</code> or <code>{ok,Child,Info}</code>, where <code>Child</code> is the pid of the child process and <code>Info</code> any term that is ignored by the supervisor.</p><p>The start function can also return <code>ignore</code> if the child process for some reason cannot be started, in which case the child specification is kept by the supervisor (unless it is a temporary child) but the non-existing child process is ignored.</p><p>If something goes wrong, the function can also return an error tuple <code>{error,Error}</code>.</p><p>Notice that the <code>start_link</code> functions of the different behavior modules fulfill the above requirements.</p><p>The <code>start</code> key is mandatory.</p></li><li><a id="restart"></a><p><code>restart</code> defines when a terminated child process must be restarted. A <code>permanent</code> child process is always restarted. A <code>temporary</code> child process is never restarted (even when the supervisor's restart strategy is <code>rest_for_one</code> or <code>one_for_all</code> and a sibling's death causes the temporary process to be terminated). A <code>transient</code> child process is restarted only if it terminates abnormally, that is, with another exit reason than <code>normal</code>, <code>shutdown</code>, or <code>{shutdown,Term}</code>.</p><p>The <code>restart</code> key is optional. If it is not specified, it defaults to <code>permanent</code>.</p></li><li><a id="significant_child"></a><p><code>significant</code> defines if a child is considered significant for <a href="supervisor.html#content#auto_shutdown">automatic self-shutdown</a> of the supervisor.</p><p>Setting this option to <code>true</code> when the <a href="supervisor.html#content#restart">restart type</a> is <code>permanent</code> is invalid. Also, it is considered invalid to start children with this option set to <code>true</code> in a supervisor when the <a href="supervisor.html#content#auto_shutdown"><code>auto_shutdown</code></a> supervisor flag is set to <code>never</code>.</p><p>The <code>significant</code> key is optional. If it is not specified, it defaults to <code>false</code>.</p></li><li><p><code>shutdown</code> defines how a child process must be terminated. <code>brutal_kill</code> means that the child process is unconditionally terminated using <code>exit(Child,kill)</code>. An integer time-out value means that the supervisor tells the child process to terminate by calling <code>exit(Child,shutdown)</code> and then wait for an exit signal with reason <code>shutdown</code> back from the child process. If no exit signal is received within the specified number of milliseconds, the child process is unconditionally terminated using <code>exit(Child,kill)</code>.</p><p>If the child process is another supervisor, the shutdown time must be set to <code>infinity</code> to give the subtree ample time to shut down.</p><div class="warning"><p>Setting the shutdown time to anything other than <code>infinity</code> for a child of type <code>supervisor</code> can cause a race condition where the child in question unlinks its own children, but fails to terminate them before it is killed.</p></div><p>It is also allowed to set it to <code>infinity</code>, if the child process is a worker.</p><div class="warning"><p>Be careful when setting the shutdown time to <code>infinity</code> when the child process is a worker. Because, in this situation, the termination of the supervision tree depends on the child process, it must be implemented in a safe way and its cleanup procedure must always return.</p></div><p>Notice that all child processes implemented using the standard OTP behavior modules automatically adhere to the shutdown protocol.</p><p>The <code>shutdown</code> key is optional. If it is not specified, it defaults to <code>5000</code> if the child is of type <code>worker</code> and it defaults to <code>infinity</code> if the child is of type <code>supervisor</code>.</p></li><li><p><code>type</code> specifies if the child process is a supervisor or a worker.</p><p>The <code>type</code> key is optional. If it is not specified, it defaults to <code>worker</code>.</p></li><li><p><code>modules</code> is used by the release handler during code replacement to determine which processes are using a certain module. As a rule of thumb, if the child process is a <code>supervisor</code>, <code>gen_server</code> or, <code>gen_statem</code>, this is to be a list with one element <code>[Module]</code>, where <code>Module</code> is the callback module. If the child process is an event manager (<code>gen_event</code>) with a dynamic set of callback modules, value <code>dynamic</code> must be used. For more information about release handling, see Release Handling in OTP Design Principles.</p><p>The <code>modules</code> key is optional. If it is not specified, it defaults to <code>[M]</code>, where <code>M</code> comes from the child's start <code>{M,F,A}</code>.</p></li><li><p>Internally, the supervisor also keeps track of the pid <code>Child</code> of the child process, or <code>undefined</code> if no pid exists.</p></li></ul></div><h2 id="module-see-also" class="section-heading">
  <a href="#module-see-also" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  See Also
</h2>
<p><a href="gen_event.html"><code>gen_event(3)</code></a>, <a href="gen_statem.html"><code>gen_statem(3)</code></a>, <a href="gen_server.html"><code>gen_server(3)</code></a>, <a href="sys.html"><code>sys(3)</code></a></p>
        </section>


        <section id="summary" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#summary">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
            Summary
          </h1>

  <div class="summary-types summary">
    <h2>
      <a href="#types">Types</a>
    </h2>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:auto_shutdown/0">-type auto_shutdown() :: term().</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:child/0">-type child() :: term().</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:child_id/0">-type child_id() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Not a <code>pid()</code>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:child_spec/0">-type child_spec() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>The tuple format is kept for backward compatibility only. A map is preferred; see more details <a href="supervisor.html#content#child_spec">above</a>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:mfargs/0">-type mfargs() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Value <code>undefined</code> for <code>A</code> (the argument list) is only to be used internally in <code>supervisor</code>. If the restart type of the child is <code>temporary</code>, the process is never to be restarted and therefore there is no need to store the real argument list. Value <code>undefined</code> is then stored instead.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:modules/0">-type modules() :: term().</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:restart/0">-type restart() :: term().</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:shutdown/0">-type shutdown() :: term().</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:significant/0">-type significant() :: term().</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:startchild_err/0">-type startchild_err() :: term().</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:startchild_ret/0">-type startchild_ret() :: term().</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:startlink_err/0">-type startlink_err() :: term().</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:startlink_ret/0">-type startlink_ret() :: term().</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:strategy/0">-type strategy() :: term().</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:sup_flags/0">-type sup_flags() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>The tuple format is kept for backward compatibility only. A map is preferred; see more details <a href="supervisor.html#content#sup_flags">above</a>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:sup_ref/0">-type sup_ref() :: term().</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:worker/0">-type worker() :: term().</a>

  </div>

</div>

  </div>

  <div class="summary-callbacks summary">
    <h2>
      <a href="#callbacks">Callbacks</a>
    </h2>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#c:init/1">Module:init(Args) -&gt; Result</a>

  </div>

    <div class="summary-synopsis"><ul class="types"><li class="type">Args = term()</li><li class="type">Result = {ok,{SupFlags,[ChildSpec]}} | ignore</li><li class="type">Â SupFlags = <a href="supervisor.html#t:sup_flags/0"><code>sup_flags()</code></a></li><li class="type">Â ChildSpec = <a href="supervisor.html#t:child_spec/0"><code>child_spec()</code></a></li></ul><p>Whenever a supervisor is started using <a href="supervisor.html#start_link/2"><code>start_link/2,3</code></a>, this function is called by the new process to find out about restart strategy, maximum restart intensity, and child specifications.</p></div>

</div>

  </div>

  <div class="summary-functions summary">
    <h2>
      <a href="#functions">Functions</a>
    </h2>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#check_childspecs/1">check_childspecs/1</a>

  </div>

    <div class="summary-synopsis"><p>Takes a list of child specification as argument and returns <code>ok</code> if all of them are syntactically correct, otherwise <code>{error,Error}</code>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#check_childspecs/2">check_childspecs/2</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#count_children/1">count_children/1</a>

  </div>

    <div class="summary-synopsis"><p>Returns a property list (see <a href="proplists.html"><code>proplists</code></a>) containing the counts for each of the following elements of the supervisor's child specifications and managed processes</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#delete_child/2">delete_child/2</a>

  </div>

    <div class="summary-synopsis"><p>Tells supervisor <code>SupRef</code> to delete the child specification identified by <code>Id</code>. The corresponding child process must not be running. Use <a href="supervisor.html#terminate_child/2"><code>terminate_child/2</code></a> to terminate it.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#get_childspec/2">get_childspec/2</a>

  </div>

    <div class="summary-synopsis"><p>Returns the child specification map for the child identified by <code>Id</code> under supervisor <code>SupRef</code>. The returned map contains all keys, both mandatory and optional.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#restart_child/2">restart_child/2</a>

  </div>

    <div class="summary-synopsis"><p>Tells supervisor <code>SupRef</code> to restart a child process corresponding to the child specification identified by <code>Id</code>. The child specification must exist, and the corresponding child process must not be running.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#start_child/2">start_child/2</a>

  </div>

    <div class="summary-synopsis"><ul class="types"><li name="startchild_err"></li><li name="startchild_ret"></li></ul><p>Dynamically adds a child specification to supervisor <code>SupRef</code>, which starts the corresponding child process.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#start_link/2">start_link/2</a>

  </div>

    <div class="summary-synopsis"><ul class="types"><li name="startlink_err"></li><li name="startlink_ret"></li><li name="sup_name"></li></ul><p>Creates a supervisor process as part of a supervision tree. For example, the function ensures that the supervisor is linked to the calling process (its supervisor).</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#start_link/3">start_link/3</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#terminate_child/2">terminate_child/2</a>

  </div>

    <div class="summary-synopsis"><p>Tells supervisor <code>SupRef</code> to terminate the specified child.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#which_children/1">which_children/1</a>

  </div>

    <div class="summary-synopsis"><p>Returns a newly created list with information about all child specifications and child processes belonging to supervisor <code>SupRef</code>.</p></div>

</div>

  </div>

        </section>


        <section id="types" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#types">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
Types
          </h1>
          <div class="types-list">
<section class="detail" id="t:auto_shutdown/0">

  <div class="detail-header">
    <a href="#t:auto_shutdown/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type auto_shutdown() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>auto_shutdown() :: never | any_significant | all_significant.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:child/0">

  <div class="detail-header">
    <a href="#t:child/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type child() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>child() :: undefined | pid().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:child_id/0">

  <div class="detail-header">
    <a href="#t:child_id/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type child_id() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>child_id() :: term().</pre>

      </div>

<p>Not a <code>pid()</code>.</p>
  </section>
</section>
<section class="detail" id="t:child_spec/0">

  <div class="detail-header">
    <a href="#t:child_spec/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type child_spec() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>child_spec() ::
    #{id := <a href="#t:child_id/0">child_id</a>(),
      start := <a href="#t:mfargs/0">mfargs</a>(),
      restart => <a href="#t:restart/0">restart</a>(),
      significant => <a href="#t:significant/0">significant</a>(),
      shutdown => <a href="#t:shutdown/0">shutdown</a>(),
      type => <a href="#t:worker/0">worker</a>(),
      modules => <a href="#t:modules/0">modules</a>()} |
    {Id :: <a href="#t:child_id/0">child_id</a>(),
     StartFunc :: <a href="#t:mfargs/0">mfargs</a>(),
     Restart :: <a href="#t:restart/0">restart</a>(),
     Shutdown :: <a href="#t:shutdown/0">shutdown</a>(),
     Type :: <a href="#t:worker/0">worker</a>(),
     Modules :: <a href="#t:modules/0">modules</a>()}.</pre>

      </div>

<p>The tuple format is kept for backward compatibility only. A map is preferred; see more details <a href="supervisor.html#content#child_spec">above</a>.</p>
  </section>
</section>
<section class="detail" id="t:mfargs/0">

  <div class="detail-header">
    <a href="#t:mfargs/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type mfargs() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>mfargs() :: {M :: module(), F :: atom(), A :: [term()] | undefined}.</pre>

      </div>

<p>Value <code>undefined</code> for <code>A</code> (the argument list) is only to be used internally in <code>supervisor</code>. If the restart type of the child is <code>temporary</code>, the process is never to be restarted and therefore there is no need to store the real argument list. Value <code>undefined</code> is then stored instead.</p>
  </section>
</section>
<section class="detail" id="t:modules/0">

  <div class="detail-header">
    <a href="#t:modules/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type modules() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>modules() :: [module()] | dynamic.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:restart/0">

  <div class="detail-header">
    <a href="#t:restart/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type restart() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>restart() :: permanent | transient | temporary.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:shutdown/0">

  <div class="detail-header">
    <a href="#t:shutdown/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type shutdown() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>shutdown() :: brutal_kill | timeout().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:significant/0">

  <div class="detail-header">
    <a href="#t:significant/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type significant() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>significant() :: boolean().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:startchild_err/0">

  <div class="detail-header">
    <a href="#t:startchild_err/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type startchild_err() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>startchild_err() :: already_present | {already_started, Child :: <a href="#t:child/0">child</a>()} | term().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:startchild_ret/0">

  <div class="detail-header">
    <a href="#t:startchild_ret/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type startchild_ret() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>startchild_ret() ::
    {ok, Child :: <a href="#t:child/0">child</a>()} | {ok, Child :: <a href="#t:child/0">child</a>(), Info :: term()} | {error, <a href="#t:startchild_err/0">startchild_err</a>()}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:startlink_err/0">

  <div class="detail-header">
    <a href="#t:startlink_err/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type startlink_err() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>startlink_err() :: {already_started, pid()} | {shutdown, term()} | term().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:startlink_ret/0">

  <div class="detail-header">
    <a href="#t:startlink_ret/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type startlink_ret() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>startlink_ret() :: {ok, pid()} | ignore | {error, <a href="#t:startlink_err/0">startlink_err</a>()}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:strategy/0">

  <div class="detail-header">
    <a href="#t:strategy/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type strategy() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>strategy() :: one_for_all | one_for_one | rest_for_one | simple_one_for_one.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:sup_flags/0">

  <div class="detail-header">
    <a href="#t:sup_flags/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type sup_flags() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>sup_flags() ::
    #{strategy => <a href="#t:strategy/0">strategy</a>(),
      intensity => non_neg_integer(),
      period => pos_integer(),
      auto_shutdown => <a href="#t:auto_shutdown/0">auto_shutdown</a>()} |
    {RestartStrategy :: <a href="#t:strategy/0">strategy</a>(), Intensity :: non_neg_integer(), Period :: pos_integer()}.</pre>

      </div>

<p>The tuple format is kept for backward compatibility only. A map is preferred; see more details <a href="supervisor.html#content#sup_flags">above</a>.</p>
  </section>
</section>
<section class="detail" id="t:sup_ref/0">

  <div class="detail-header">
    <a href="#t:sup_ref/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type sup_ref() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>sup_ref() ::
    (Name :: atom()) |
    {Name :: atom(), Node :: node()} |
    {global, Name :: atom()} |
    {via, Module :: module(), Name :: any()} |
    pid().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:worker/0">

  <div class="detail-header">
    <a href="#t:worker/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type worker() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>worker() :: worker | supervisor.</pre>

      </div>


  </section>
</section>

          </div>
        </section>

        <section id="callbacks" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#callbacks">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
Callbacks
          </h1>
          <div class="callbacks-list">
<section class="detail" id="c:init/1">

  <div class="detail-header">
    <a href="#c:init/1" class="detail-link" title="Link to this callback">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this callback</span>
    </a>
    <h1 class="signature">Module:init(Args) -&gt; Result</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>init(Args :: term()) -> {ok, {SupFlags :: <a href="#t:sup_flags/0">sup_flags</a>(), [ChildSpec :: <a href="#t:child_spec/0">child_spec</a>()]}} | ignore.</pre>

      </div>

<ul class="types"><li class="type">Args = term()</li><li class="type">Result = {ok,{SupFlags,[ChildSpec]}} | ignore</li><li class="type">Â SupFlags = <a href="supervisor.html#t:sup_flags/0"><code>sup_flags()</code></a></li><li class="type">Â ChildSpec = <a href="supervisor.html#t:child_spec/0"><code>child_spec()</code></a></li></ul><p>Whenever a supervisor is started using <a href="supervisor.html#start_link/2"><code>start_link/2,3</code></a>, this function is called by the new process to find out about restart strategy, maximum restart intensity, and child specifications.</p><p><code>Args</code> is the <code>Args</code> argument provided to the start function.</p><p><code>SupFlags</code> is the supervisor flags defining the restart strategy and maximum restart intensity for the supervisor. <code>[ChildSpec]</code> is a list of valid child specifications defining which child processes the supervisor must start and monitor. See the discussion in section <a href="supervisor.html#content#supervision_princ"><code>Supervision Principles</code></a> earlier.</p><p>Notice that when the restart strategy is <code>simple_one_for_one</code>, the list of child specifications must be a list with one child specification only. (The child specification identifier is ignored.) No child process is then started during the initialization phase, but all children are assumed to be started dynamically using <a href="supervisor.html#start_child/2"><code>start_child/2</code></a>.</p><p>The function can also return <code>ignore</code>.</p><p>Notice that this function can also be called as a part of a code upgrade procedure. Therefore, the function is not to have any side effects. For more information about code upgrade of supervisors, see section Changing a Supervisor in OTP Design Principles.</p>
  </section>
</section>

          </div>
        </section>

        <section id="functions" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#functions">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
Functions
          </h1>
          <div class="functions-list">
<section class="detail" id="check_childspecs/1">

  <div class="detail-header">
    <a href="#check_childspecs/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">check_childspecs/1</h1>


      <span class="note">(since OTP 24.0)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>check_childspecs(ChildSpecs) -> Result
                    when ChildSpecs :: [<a href="#t:child_spec/0">child_spec</a>()], Result :: ok | {error, Error :: term()}.</pre>

      </div>

<p>Takes a list of child specification as argument and returns <code>ok</code> if all of them are syntactically correct, otherwise <code>{error,Error}</code>.</p><p>If the optional <code>AutoShutdown</code> argument is given and not <code>undefined</code>, also checks if the child specifications are allowed for the given <a href="supervisor.html#content#auto_shutdown">auto_shutdown</a> option.</p>
  </section>
</section>
<section class="detail" id="check_childspecs/2">

  <div class="detail-header">
    <a href="#check_childspecs/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">check_childspecs/2</h1>


      <span class="note">(since OTP 24.0)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>check_childspecs(ChildSpecs, AutoShutdown) -> Result
                    when
                        ChildSpecs :: [<a href="#t:child_spec/0">child_spec</a>()],
                        AutoShutdown :: undefined | <a href="#t:auto_shutdown/0">auto_shutdown</a>(),
                        Result :: ok | {error, Error :: term()}.</pre>

      </div>


  </section>
</section>
<section class="detail" id="count_children/1">

  <div class="detail-header">
    <a href="#count_children/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">count_children/1</h1>


      <span class="note">(since OTP R13B04)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>count_children(SupRef) -> PropListOfCounts
                  when
                      SupRef :: <a href="#t:sup_ref/0">sup_ref</a>(),
                      PropListOfCounts :: [Count],
                      Count ::
                          {specs, ChildSpecCount :: non_neg_integer()} |
                          {active, ActiveProcessCount :: non_neg_integer()} |
                          {supervisors, ChildSupervisorCount :: non_neg_integer()} |
                          {workers, ChildWorkerCount :: non_neg_integer()}.</pre>

      </div>

<p>Returns a property list (see <a href="proplists.html"><code>proplists</code></a>) containing the counts for each of the following elements of the supervisor's child specifications and managed processes:</p><ul><li><p><code>specs</code> - The total count of children, dead or alive.</p></li><li><p><code>active</code> - The count of all actively running child processes managed by this supervisor. For a <code>simple_one_for_one</code> supervisors, no check is done to ensure that each child process is still alive, although the result provided here is likely to be very accurate unless the supervisor is heavily overloaded.</p></li><li><p><code>supervisors</code> - The count of all children marked as <code>child_type = supervisor</code> in the specification list, regardless if the child process is still alive.</p></li><li><p><code>workers</code> - The count of all children marked as <code>child_type = worker</code> in the specification list, regardless if the child process is still alive.</p></li></ul><p>For a description of <code>SupRef</code>, see <a href="supervisor.html#content#SupRef"><code>start_child/2</code></a>.</p>
  </section>
</section>
<section class="detail" id="delete_child/2">

  <div class="detail-header">
    <a href="#delete_child/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">delete_child/2</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>delete_child(SupRef, Id) -> Result
                when
                    SupRef :: <a href="#t:sup_ref/0">sup_ref</a>(),
                    Id :: <a href="#t:child_id/0">child_id</a>(),
                    Result :: ok | {error, Error},
                    Error :: running | restarting | not_found | simple_one_for_one.</pre>

      </div>

<p>Tells supervisor <code>SupRef</code> to delete the child specification identified by <code>Id</code>. The corresponding child process must not be running. Use <a href="supervisor.html#terminate_child/2"><code>terminate_child/2</code></a> to terminate it.</p><p>For a description of <code>SupRef</code>, see <a href="supervisor.html#content#SupRef"><code>start_child/2</code></a>.</p><p>If successful, the function returns <code>ok</code>. If the child specification identified by <code>Id</code> exists but the corresponding child process is running or is about to be restarted, the function returns <code>{error,running}</code> or <code>{error,restarting}</code>, respectively. If the child specification identified by <code>Id</code> does not exist, the function returns <code>{error,not_found}</code>.</p>
  </section>
</section>
<section class="detail" id="get_childspec/2">

  <div class="detail-header">
    <a href="#get_childspec/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">get_childspec/2</h1>


      <span class="note">(since OTP 18.0)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>get_childspec(SupRef, Id) -> Result
                 when
                     SupRef :: <a href="#t:sup_ref/0">sup_ref</a>(),
                     Id :: pid() | <a href="#t:child_id/0">child_id</a>(),
                     Result :: {ok, <a href="#t:child_spec/0">child_spec</a>()} | {error, Error},
                     Error :: not_found.</pre>

      </div>

<p>Returns the child specification map for the child identified by <code>Id</code> under supervisor <code>SupRef</code>. The returned map contains all keys, both mandatory and optional.</p><p>For a description of <code>SupRef</code>, see <a href="supervisor.html#content#SupRef"><code>start_child/2</code></a>.</p>
  </section>
</section>
<section class="detail" id="restart_child/2">

  <div class="detail-header">
    <a href="#restart_child/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">restart_child/2</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>restart_child(SupRef, Id) -> Result
                 when
                     SupRef :: <a href="#t:sup_ref/0">sup_ref</a>(),
                     Id :: <a href="#t:child_id/0">child_id</a>(),
                     Result ::
                         {ok, Child :: <a href="#t:child/0">child</a>()} |
                         {ok, Child :: <a href="#t:child/0">child</a>(), Info :: term()} |
                         {error, Error},
                     Error :: running | restarting | not_found | simple_one_for_one | term().</pre>

      </div>

<p>Tells supervisor <code>SupRef</code> to restart a child process corresponding to the child specification identified by <code>Id</code>. The child specification must exist, and the corresponding child process must not be running.</p><p>Notice that for temporary children, the child specification is automatically deleted when the child terminates; thus, it is not possible to restart such children.</p><p>For a description of <code>SupRef</code>, see <a href="supervisor.html#content#SupRef"><code>start_child/2</code></a>.</p><p>If the child specification identified by <code>Id</code> does not exist, the function returns <code>{error,not_found}</code>. If the child specification exists but the corresponding process is already running, the function returns <code>{error,running}</code>.</p><p>If the child process start function returns <code>{ok,Child}</code> or <code>{ok,Child,Info}</code>, the pid is added to the supervisor and the function returns the same value.</p><p>If the child process start function returns <code>ignore</code>, the pid remains set to <code>undefined</code> and the function returns <code>{ok,undefined}</code>.</p><p>If the child process start function returns an error tuple or an erroneous value, or if it fails, the function returns <code>{error,Error}</code>, where <code>Error</code> is a term containing information about the error.</p>
  </section>
</section>
<section class="detail" id="start_child/2">

  <div class="detail-header">
    <a href="#start_child/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">start_child/2</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>start_child(SupRef, ChildSpec) -> <a href="#t:startchild_ret/0">startchild_ret</a>()
               when SupRef :: <a href="#t:sup_ref/0">sup_ref</a>(), ChildSpec :: <a href="#t:child_spec/0">child_spec</a>() | (List :: [term()]).</pre>

      </div>

<ul class="types"><li name="startchild_err"></li><li name="startchild_ret"></li></ul><p>Dynamically adds a child specification to supervisor <code>SupRef</code>, which starts the corresponding child process.</p><p><a id="SupRef"></a><code>SupRef</code> can be any of the following:</p><ul><li>The pid</li><li><code>Name</code>, if the supervisor is locally registered</li><li><code>{Name,Node}</code>, if the supervisor is locally registered at another node</li><li><code>{global,Name}</code>, if the supervisor is globally registered</li><li><code>{via,Module,Name}</code>, if the supervisor is registered through an alternative process registry</li></ul><p><code>ChildSpec</code> must be a valid child specification (unless the supervisor is a <code>simple_one_for_one</code> supervisor; see below). The child process is started by using the start function as defined in the child specification.</p><p>For a <code>simple_one_for_one</code> supervisor, the child specification defined in <code>Module:init/1</code> is used, and <code>ChildSpec</code> must instead be an arbitrary list of terms <code>List</code>. The child process is then started by appending <code>List</code> to the existing start function arguments, that is, by calling <code>apply(M, F, A++List)</code>, where <code>{M,F,A}</code> is the start function defined in the child specification.</p><ul><li><p>If there already exists a child specification with the specified identifier, <code>ChildSpec</code> is discarded, and the function returns <code>{error,already_present}</code> or <code>{error,{already_started,Child}}</code>, depending on if the corresponding child process is running or not.</p></li><li><p>If the child process start function returns <code>{ok,Child}</code> or <code>{ok,Child,Info}</code>, the child specification and pid are added to the supervisor and the function returns the same value.</p></li><li><p>If the child process start function returns <code>ignore</code>, the child specification is added to the supervisor (unless the supervisor is a <code>simple_one_for_one</code> supervisor, see below), the pid is set to <code>undefined</code>, and the function returns <code>{ok,undefined}</code>.</p></li></ul><p>For a <code>simple_one_for_one</code> supervisor, when a child process start function returns <code>ignore</code>, the functions returns <code>{ok,undefined}</code> and no child is added to the supervisor.</p><p>If the child process start function returns an error tuple or an erroneous value, or if it fails, the child specification is discarded, and the function returns <code>{error,Error}</code>, where <code>Error</code> is a term containing information about the error and child specification.</p>
  </section>
</section>
<section class="detail" id="start_link/2">

  <div class="detail-header">
    <a href="#start_link/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">start_link/2</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>start_link(Module, Args) -> <a href="#t:startlink_ret/0">startlink_ret</a>() when Module :: module(), Args :: term().</pre>

      </div>

<ul class="types"><li name="startlink_err"></li><li name="startlink_ret"></li><li name="sup_name"></li></ul><p>Creates a supervisor process as part of a supervision tree. For example, the function ensures that the supervisor is linked to the calling process (its supervisor).</p><p>The created supervisor process calls <code>Module:init/1</code> to find out about restart strategy, maximum restart intensity, and child processes. To ensure a synchronized startup procedure, <code>start_link/2,3</code> does not return until <code>Module:init/1</code> has returned and all child processes have been started.</p><ul><li><p>If <code>SupName={local,Name}</code>, the supervisor is registered locally as <code>Name</code> using <code>register/2</code>.</p></li><li><p>If <code>SupName={global,Name}</code>, the supervisor is registered globally as <code>Name</code> using <a href="https://wojtekmach.pl/otp_docs/kernel/global.html#register_name/2"><code>global:register_name/2</code></a>.</p></li><li><p>If <code>SupName={via,Module,Name}</code>, the supervisor is registered as <code>Name</code> using the registry represented by <code>Module</code>. The <code>Module</code> callback must export the functions <code>register_name/2</code>, <code>unregister_name/1</code>, and <code>send/2</code>, which must behave like the corresponding functions in <a href="https://wojtekmach.pl/otp_docs/kernel/global.html"><code>global</code></a>. Thus, <code>{via,global,Name}</code> is a valid reference.</p></li></ul><p>If no name is provided, the supervisor is not registered.</p><p><code>Module</code> is the name of the callback module.</p><p><code>Args</code> is any term that is passed as the argument to <code>Module:init/1</code>.</p><ul><li><p>If the supervisor and its child processes are successfully created (that is, if all child process start functions return <code>{ok,Child}</code>, <code>{ok,Child,Info}</code>, or <code>ignore</code>), the function returns <code>{ok,Pid}</code>, where <code>Pid</code> is the pid of the supervisor.</p></li><li><p>If there already exists a process with the specified <code>SupName</code>, the function returns <code>{error,{already_started,Pid}}</code>, where <code>Pid</code> is the pid of that process.</p></li><li><p>If <code>Module:init/1</code> returns <code>ignore</code>, this function returns <code>ignore</code> as well, and the supervisor terminates with reason <code>normal</code>.</p></li><li><p>If <code>Module:init/1</code> fails or returns an incorrect value, this function returns <code>{error,Term}</code>, where <code>Term</code> is a term with information about the error, and the supervisor terminates with reason <code>Term</code>.</p></li><li><p>If any child process start function fails or returns an error tuple or an erroneous value, the supervisor first terminates all already started child processes with reason <code>shutdown</code> and then terminate itself and returns <code>{error, {shutdown, Reason}}</code>.</p></li></ul>
  </section>
</section>
<section class="detail" id="start_link/3">

  <div class="detail-header">
    <a href="#start_link/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">start_link/3</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>start_link(SupName, Module, Args) -> <a href="#t:startlink_ret/0">startlink_ret</a>()
              when SupName :: <a href="#t:sup_name/0">sup_name</a>(), Module :: module(), Args :: term().</pre>

      </div>


  </section>
</section>
<section class="detail" id="terminate_child/2">

  <div class="detail-header">
    <a href="#terminate_child/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">terminate_child/2</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>terminate_child(SupRef, Id) -> Result
                   when
                       SupRef :: <a href="#t:sup_ref/0">sup_ref</a>(),
                       Id :: pid() | <a href="#t:child_id/0">child_id</a>(),
                       Result :: ok | {error, Error},
                       Error :: not_found | simple_one_for_one.</pre>

      </div>

<p>Tells supervisor <code>SupRef</code> to terminate the specified child.</p><p>If the supervisor is not <code>simple_one_for_one</code>, <code>Id</code> must be the child specification identifier. The process, if any, is terminated and, unless it is a temporary child, the child specification is kept by the supervisor. The child process can later be restarted by the supervisor. The child process can also be restarted explicitly by calling <a href="supervisor.html#restart_child/2"><code>restart_child/2</code></a>. Use <a href="supervisor.html#delete_child/2"><code>delete_child/2</code></a> to remove the child specification.</p><p>If the child is temporary, the child specification is deleted as soon as the process terminates. This means that <code>delete_child/2</code> has no meaning and <code>restart_child/2</code> cannot be used for these children.</p><p>If the supervisor is <code>simple_one_for_one</code>, <code>Id</code> must be the <code>pid()</code> of the child process. If the specified process is alive, but is not a child of the specified supervisor, the function returns <code>{error,not_found}</code>. If the child specification identifier is specified instead of a <code>pid()</code>, the function returns <code>{error,simple_one_for_one}</code>.</p><p>If successful, the function returns <code>ok</code>. If there is no child specification with the specified <code>Id</code>, the function returns <code>{error,not_found}</code>.</p><p>For a description of <code>SupRef</code>, see <a href="supervisor.html#content#SupRef"><code>start_child/2</code></a>.</p>
  </section>
</section>
<section class="detail" id="which_children/1">

  <div class="detail-header">
    <a href="#which_children/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">which_children/1</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>which_children(SupRef) -> [{Id, Child, Type, Modules}]
                  when
                      SupRef :: <a href="#t:sup_ref/0">sup_ref</a>(),
                      Id :: <a href="#t:child_id/0">child_id</a>() | undefined,
                      Child :: <a href="#t:child/0">child</a>() | restarting,
                      Type :: <a href="#t:worker/0">worker</a>(),
                      Modules :: <a href="#t:modules/0">modules</a>().</pre>

      </div>

<p>Returns a newly created list with information about all child specifications and child processes belonging to supervisor <code>SupRef</code>.</p><p>Notice that calling this function when supervising many children under low memory conditions can cause an out of memory exception.</p><p>For a description of <code>SupRef</code>, see <a href="supervisor.html#content#SupRef"><code>start_child/2</code></a>.</p><p>The following information is given for each child specification/process:</p><ul><li><p><code>Id</code> - As defined in the child specification or <code>undefined</code> for a <code>simple_one_for_one</code> supervisor.</p></li><li><p><code>Child</code> - The pid of the corresponding child process, the atom <code>restarting</code> if the process is about to be restarted, or <code>undefined</code> if there is no such process.</p></li><li><p><code>Type</code> - As defined in the child specification.</p></li><li><p><code>Modules</code> - As defined in the child specification.</p></li></ul>
  </section>
</section>

          </div>
        </section>

      <footer class="footer">

        <p>
          <span class="line">
            Built using
            <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener">ExDoc</a> (v0.25.1) for the
            <a href="https://elixir-lang.org" title="Elixir" target="_blank">Elixir programming language</a>.
          </span>
          <span class="line">
            Designed by
            <a href="https://twitter.com/dignifiedquire" target="_blank" rel="noopener" title="@dignifiedquire">Friedel Ziegelmayer</a>.
          </span>
        </p>
        <p>

            <a href="api-reference.html" title="API reference" class="line footer-button">API Reference</a>

          <button class="line footer-button display-shortcuts-help">
            Display keyboard shortcuts
          </button>
          <button class="line footer-button night-mode-toggle">
            Toggle night mode
          </button>
          <button class="line footer-button display-quick-switch">
            Go to a HexDocs package
          </button>
          <button class="line footer-button tooltips-toggle">
            <span class="tooltips-option-disable">Disable tooltips</span>
            <span class="tooltips-option-enable">Enable tooltips</span>
          </button>
        </p>
      </footer>
    </div>
  </div>
</section>
</div>


  </body>
</html>

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.25.1">
    <meta name="project" content="stdlib v3.15.2">

    <title>dets â€” stdlib v3.15.2</title>
    <link rel="stylesheet" href="dist/erlang-951161c89561e05735a5.css" />

    <script src="dist/sidebar_items-2e60d1dd15.js"></script>

      <script src="docs_config.js"></script>

    <script async src="dist/app-f97730d45ef67f3e6188.js"></script>


  </head>
  <body data-type="modules">
    <script>

      try {
        if (localStorage.getItem('night-mode') === 'true') {
          document.body.classList.add('night-mode');
        }
      } catch (error) { }
    </script>

<div class="main">

<button class="sidebar-button sidebar-toggle">
  <span class="icon-menu" title="Collapse/expand sidebar"></span>
</button>

<section class="sidebar">
  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button" aria-label="Submit Search">
      <span class="icon-search" aria-hidden="true" title="Submit search"></span>
    </button>
    <button type="button" tabindex="-1" class="search-close-button" aria-label="Cancel Search">
      <span class="icon-cross" aria-hidden="true" title="Cancel search"></span>
    </button>
    <label class="search-label">
      <input name="q" type="text" class="search-input" placeholder="Search..." aria-label="Input your search terms" autocomplete="off" />
    </label>
  </form>

  <div class="autocomplete">
    <div class="autocomplete-results">
    </div>
  </div>

  <div class="sidebar-header">
    <div class="sidebar-projectDetails">
      <a href="api-reference.html" class="sidebar-projectName">
stdlib
      </a>
      <strong class="sidebar-projectVersion">
        v3.15.2
      </strong>
    </div>

  </div>

  <ul class="sidebar-listNav">
    <li><a id="extras-list-link" href="#full-list">Pages</a></li>

      <li><a id="modules-list-link" href="#full-list">Modules</a></li>


  </ul>
  <div class="gradient"></div>
  <ul id="full-list" class="sidebar-fullList"></ul>
</section>

<section class="content">
  <div class="content-outer">
    <div id="content" class="content-inner">

      <h1>
dets <small class="app-vsn">(stdlib v3.15.2)</small>

      </h1>


        <section id="moduledoc">
<p>This module provides a term storage on file. The stored terms, in this module called <em>objects</em>, are tuples such that one element is defined to be the key. A Dets <em>table</em> is a collection of objects with the key at the same position stored on a file.</p><p>This module is used by the Mnesia application, and is provided &quot;as is&quot; for users who are interested in efficient storage of Erlang terms on disk only. Many applications only need to store some terms in a file. Mnesia adds transactions, queries, and distribution. The size of Dets files cannot exceed 2 GB. If larger tables are needed, table fragmentation in Mnesia can be used.</p><p>Three types of Dets tables exist:</p><ul><li><p><code>set</code>. A table of this type has at most one object with a given key. If an object with a key already present in the table is inserted, the existing object is overwritten by the new object.</p></li><li><p><code>bag</code>. A table of this type has zero or more different objects with a given key.</p></li><li><p><code>duplicate_bag</code>. A table of this type has zero or more possibly matching objects with a given key.</p></li></ul><p>Dets tables must be opened before they can be updated or read, and when finished they must be properly closed. If a table is not properly closed, Dets automatically repairs the table. This can take a substantial time if the table is large. A Dets table is closed when the process which opened the table terminates. If many Erlang processes (users) open the same Dets table, they share the table. The table is properly closed when all users have either terminated or closed the table. Dets tables are not properly closed if the Erlang runtime system terminates abnormally.</p><div class="note"><p>A <code>^C</code> command abnormally terminates an Erlang runtime system in a Unix environment with a break-handler.</p></div><p>As all operations performed by Dets are disk operations, it is important to realize that a single look-up operation involves a series of disk seek and read operations. The Dets functions are therefore much slower than the corresponding <a href="ets.html"><code>ets(3)</code></a> functions, although Dets exports a similar interface.</p><p>Dets organizes data as a linear hash list and the hash list grows gracefully as more data is inserted into the table. Space management on the file is performed by what is called a buddy system. The current implementation keeps the entire buddy system in RAM, which implies that if the table gets heavily fragmented, quite some memory can be used up. The only way to defragment a table is to close it and then open it again with option <code>repair</code> set to <code>force</code>.</p><p>Notice that type <code>ordered_set</code> in Ets is not yet provided by Dets, neither is the limited support for concurrent updates that makes a sequence of <code>first</code> and <code>next</code> calls safe to use on fixed ETS tables. Both these features may be provided by Dets in a future release of Erlang/OTP. Until then, the Mnesia application (or some user-implemented method for locking) must be used to implement safe concurrency. Currently, no Erlang/OTP library has support for ordered disk-based term storage.</p><p>All Dets functions return <code>{error, Reason}</code> if an error occurs (<a href="#first/1"><code>first/1</code></a> and <a href="#next/2"><code>next/2</code></a> are exceptions, they exit the process with the error tuple). If badly formed arguments are specified, all functions exit the process with a <code>badarg</code> message.</p><h2 id="module-see-also" class="section-heading">
  <a href="#module-see-also" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  See Also
</h2>
<p><a href="ets.html"><code>ets(3)</code></a>, <a href="https://wojtekmach.pl/otp_docs/mnesia/mnesia.html"><code>mnesia(3)</code></a>, <a href="qlc.html"><code>qlc(3)</code></a></p>
        </section>


        <section id="summary" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#summary">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
            Summary
          </h1>

  <div class="summary-types summary">
    <h2>
      <a href="#types">Types</a>
    </h2>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:access/0">-type access() :: term().</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:auto_save/0">-type auto_save() :: term().</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:bindings_cont/0">-type bindings_cont() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Opaque continuation used by <a href="#match/1"><code>match/1</code></a> and <a href="#match/3"><code>match/3</code></a>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:cont/0">-type cont() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Opaque continuation used by <a href="#bchunk/2"><code>bchunk/2</code></a>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:keypos/0">-type keypos() :: term().</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:match_spec/0">-type match_spec() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Match specifications, see section Match Specification in Erlang in ERTS User's Guide and the <a href="ms_transform.html"><code>ms_transform(3)</code></a> module.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:no_slots/0">-type no_slots() :: term().</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:object/0">-type object() :: term().</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:object_cont/0">-type object_cont() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Opaque continuation used by <a href="#match_object/1"><code>match_object/1</code></a> and <a href="#match_object/3"><code>match_object/3</code></a>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:pattern/0">-type pattern() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>For a description of patterns, see <a href="ets.html#match/2"><code>ets:match/2</code></a>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:select_cont/0">-type select_cont() :: term().</a>

  </div>

    <div class="summary-synopsis"><p>Opaque continuation used by <a href="#select/1"><code>select/1</code></a> and <a href="#select/3"><code>select/3</code></a>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:tab_name/0">-type tab_name() :: term().</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#t:type/0">-type type() :: term().</a>

  </div>

</div>

  </div>

  <div class="summary-functions summary">
    <h2>
      <a href="#functions">Functions</a>
    </h2>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#all/0">all/0</a>

  </div>

    <div class="summary-synopsis"><p>Returns a list of the names of all open tables on this node.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#bchunk/2">bchunk/2</a>

  </div>

    <div class="summary-synopsis"><p>Returns a list of objects stored in a table. The exact representation of the returned objects is not public. The lists of data can be used for initializing a table by specifying value <code>bchunk</code> to option <code>format</code> of function <a href="#init_table/3"><code>init_table/3</code></a> The Mnesia application uses this function for copying open tables.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#close/1">close/1</a>

  </div>

    <div class="summary-synopsis"><p>Closes a table. Only processes that have opened a table are allowed to close it.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#delete/2">delete/2</a>

  </div>

    <div class="summary-synopsis"><p>Deletes all objects with key <code>Key</code> from table <code>Name</code>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#delete_all_objects/1">delete_all_objects/1</a>

  </div>

    <div class="summary-synopsis"><p>Deletes all objects from a table in almost constant time. However, if the table if fixed, <code>delete_all_objects(T)</code> is equivalent to <code>match_delete(T, '_')</code>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#delete_object/2">delete_object/2</a>

  </div>

    <div class="summary-synopsis"><p>Deletes all instances of a specified object from a table. If a table is of type <code>bag</code> or <code>duplicate_bag</code>, this function can be used to delete only some of the objects with a specified key.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#first/1">first/1</a>

  </div>

    <div class="summary-synopsis"><p>Returns the first key stored in table <code>Name</code> according to the internal order of the table, or <code>'$end_of_table'</code> if the table is empty.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#foldl/3">foldl/3</a>

  </div>

    <div class="summary-synopsis"><p>Calls <code>Function</code> on successive elements of table <code>Name</code> together with an extra argument <code>AccIn</code>. The table elements are traversed in unspecified order. <code>Function</code> must return a new accumulator that is passed to the next call. <code>Acc0</code> is returned if the table is empty.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#foldr/3">foldr/3</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#from_ets/2">from_ets/2</a>

  </div>

    <div class="summary-synopsis"><p>Deletes all objects of table <code>Name</code> and then inserts all the objects of the ETS table <code>EtsTab</code>. The objects are inserted in unspecified order. As <code>ets:safe_fixtable/2</code> is called, the ETS table must be public or owned by the calling process.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#info/1">info/1</a>

  </div>

    <div class="summary-synopsis"><p>Returns information about table <code>Name</code> as a list of tuples</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#info/2">info/2</a>

  </div>

    <div class="summary-synopsis"><p>Returns the information associated with <code>Item</code> for table <code>Name</code>. In addition to the <code>{Item, Value}</code> pairs defined for <a href="#info/1"><code>info/1</code></a>, the following items are allowed</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#init_table/2">init_table/2</a>

  </div>

    <div class="summary-synopsis"><p>Replaces the existing objects of table <code>Name</code> with objects created by calling the input function <code>InitFun</code>, see below. The reason for using this function rather than calling <code>insert/2</code> is that of efficiency. Notice that the input functions are called by the process that handles requests to the Dets table, not by the calling process.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#init_table/3">init_table/3</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#insert/2">insert/2</a>

  </div>

    <div class="summary-synopsis"><p>Inserts one or more objects into the table <code>Name</code>. If there already exists an object with a key matching the key of some of the given objects and the table type is <code>set</code>, the old object will be replaced.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#insert_new/2">insert_new/2</a>

  </div>

    <div class="summary-synopsis"><p>Inserts one or more objects into table <code>Name</code>. If there already exists some object with a key matching the key of any of the specified objects, the table is not updated and <code>false</code> is returned. Otherwise the objects are inserted and <code>true</code> returned.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#is_compatible_bchunk_format/2">is_compatible_bchunk_format/2</a>

  </div>

    <div class="summary-synopsis"><p>Returns <code>true</code> if it would be possible to initialize table <code>Name</code>, using <a href="#init_table/3"><code>init_table/3</code></a> with option <code>{format,Â bchunk}</code>, with objects read with <a href="#bchunk/2"><code>bchunk/2</code></a> from some table <code>T</code>, such that calling <code>info(T,Â bchunk_format)</code> returns <code>BchunkFormat</code>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#is_dets_file/1">is_dets_file/1</a>

  </div>

    <div class="summary-synopsis"><p>Returns <code>true</code> if file <code>Filename</code> is a Dets table, otherwise <code>false</code>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#lookup/2">lookup/2</a>

  </div>

    <div class="summary-synopsis"><p>Returns a list of all objects with key <code>Key</code> stored in table <code>Name</code>, for example</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#match/1">match/1</a>

  </div>

    <div class="summary-synopsis"><p>Matches some objects stored in a table and returns a non-empty list of the bindings matching a specified pattern in some unspecified order. The table, the pattern, and the number of objects that are matched are all defined by <code>Continuation</code>, which has been returned by a previous call to <code>match/1</code> or <code>match/3</code>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#match/2">match/2</a>

  </div>

    <div class="summary-synopsis"><p>Returns for each object of table <code>Name</code> that matches <code>Pattern</code> a list of bindings in some unspecified order. For a description of patterns, see <a href="ets.html#match/2"><code>ets:match/2</code></a>. If the keypos'th element of <code>Pattern</code> is unbound, all table objects are matched. If the keypos'th element is bound, only the objects with the correct key are matched.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#match/3">match/3</a>

  </div>

    <div class="summary-synopsis"><p>Matches some or all objects of table <code>Name</code> and returns a non-empty list of the bindings that match <code>Pattern</code> in some unspecified order. For a description of patterns, see <a href="ets.html#match/2"><code>ets:match/2</code></a>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#match_delete/2">match_delete/2</a>

  </div>

    <div class="summary-synopsis"><p>Deletes all objects that match <code>Pattern</code> from table <code>Name</code>. For a description of patterns, see <a href="ets.html#match/2"><code>ets:match/2</code></a>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#match_object/1">match_object/1</a>

  </div>

    <div class="summary-synopsis"><p>Returns a non-empty list of some objects stored in a table that match a given pattern in some unspecified order. The table, the pattern, and the number of objects that are matched are all defined by <code>Continuation</code>, which has been returned by a previous call to <code>match_object/1</code> or <code>match_object/3</code>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#match_object/2">match_object/2</a>

  </div>

    <div class="summary-synopsis"><p>Returns a list of all objects of table <code>Name</code> that match <code>Pattern</code> in some unspecified order. For a description of patterns, see <a href="ets.html#match/2"><code>ets:match/2</code></a>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#match_object/3">match_object/3</a>

  </div>

    <div class="summary-synopsis"><p>Matches some or all objects stored in table <code>Name</code> and returns a non-empty list of the objects that match <code>Pattern</code> in some unspecified order. For a description of patterns, see <a href="ets.html#match/2"><code>ets:match/2</code></a>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#member/2">member/2</a>

  </div>

    <div class="summary-synopsis"><p>Works like <a href="#lookup/2"><code>lookup/2</code></a>, but does not return the objects. Returns <code>true</code> if one or more table elements has key <code>Key</code>, otherwise <code>false</code>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#next/2">next/2</a>

  </div>

    <div class="summary-synopsis"><p>Returns either the key following <code>Key1</code> in table <code>Name</code> according to the internal order of the table, or <code>'$end_of_table'</code> if there is no next key.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#open_file/1">open_file/1</a>

  </div>

    <div class="summary-synopsis"><p>Opens an existing table. If the table is not properly closed, it is repaired. The returned reference is to be used as the table name. This function is most useful for debugging purposes.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#open_file/2">open_file/2</a>

  </div>

    <div class="summary-synopsis"><p>Opens a table. An empty Dets table is created if no file exists.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#pid2name/1">pid2name/1</a>

  </div>

    <div class="summary-synopsis"><p>Returns the table name given the pid of a process that handles requests to a table, or <code>undefined</code> if there is no such table.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#repair_continuation/2">repair_continuation/2</a>

  </div>

    <div class="summary-synopsis"><p>This function can be used to restore an opaque continuation returned by <a href="#select/3"><code>select/3</code></a> or <a href="#select/1"><code>select/1</code></a> if the continuation has passed through external term format (been sent between nodes or stored on disk).</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#safe_fixtable/2">safe_fixtable/2</a>

  </div>

    <div class="summary-synopsis"><p>If <code>Fix</code> is <code>true</code>, table <code>Name</code> is fixed (once more) by the calling process, otherwise the table is released. The table is also released when a fixing process terminates.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#select/1">select/1</a>

  </div>

    <div class="summary-synopsis"><p>Applies a match specification to some objects stored in a table and returns a non-empty list of the results. The table, the match specification, and the number of objects that are matched are all defined by <code>Continuation</code>, which is returned by a previous call to <a href="#select/1"><code>select/1</code></a> or <a href="#select/3"><code>select/3</code></a>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#select/2">select/2</a>

  </div>

    <div class="summary-synopsis"><p>Returns the results of applying match specification <code>MatchSpec</code> to all or some objects stored in table <code>Name</code>. The order of the objects is not specified. For a description of match specifications, see the ERTS User's Guide.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#select/3">select/3</a>

  </div>

    <div class="summary-synopsis"><p>Returns the results of applying match specification <code>MatchSpec</code> to some or all objects stored in table <code>Name</code>. The order of the objects is not specified. For a description of match specifications, see the ERTS User's Guide.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#select_delete/2">select_delete/2</a>

  </div>

    <div class="summary-synopsis"><p>Deletes each object from table <code>Name</code> such that applying match specification <code>MatchSpec</code> to the object returns value <code>true</code>. For a description of match specifications, see the ERTS User's Guide. Returns the number of deleted objects.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#slot/2">slot/2</a>

  </div>

    <div class="summary-synopsis"><p>The objects of a table are distributed among slots, starting with slot <code>0</code> and ending with slot <code>n</code>. Returns the list of objects associated with slot <code>I</code>. If <code>I</code> &gt; <code>n</code>, <code>'$end_of_table'</code> is returned.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#sync/1">sync/1</a>

  </div>

    <div class="summary-synopsis"><p>Ensures that all updates made to table <code>Name</code> are written to disk. This also applies to tables that have been opened with flag <code>ram_file</code> set to <code>true</code>. In this case, the contents of the RAM file are flushed to disk.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#table/1">table/1</a>

  </div>

    <div class="summary-synopsis"><p>Returns a Query List Comprehension (QLC) query handle. The <a href="qlc.html"><code>qlc(3)</code></a> module provides a query language aimed mainly for Mnesia, but ETS tables, Dets tables, and lists are also recognized by <code>qlc</code> as sources of data. Calling <a href="#table/1"><code>dets:table/1,2</code></a> is the means to make Dets table <code>Name</code> usable to <code>qlc</code>.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#table/2">table/2</a>

  </div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#to_ets/2">to_ets/2</a>

  </div>

    <div class="summary-synopsis"><p>Inserts the objects of the Dets table <code>Name</code> into the ETS table <code>EtsTab</code>. The order in which the objects are inserted is not specified. The existing objects of the ETS table are kept unless overwritten.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#traverse/2">traverse/2</a>

  </div>

    <div class="summary-synopsis"><p>Applies <code>Fun</code> to each object stored in table <code>Name</code> in some unspecified order. Different actions are taken depending on the return value of <code>Fun</code>. The following <code>Fun</code> return values are allowed</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#update_counter/3">update_counter/3</a>

  </div>

    <div class="summary-synopsis"><p>Updates the object with key <code>Key</code> stored in table <code>Name</code> of type <code>set</code> by adding <code>Incr</code> to the element at the <code>Pos</code>:th position. The new counter value is returned. If no position is specified, the element directly following the key is updated.</p></div>

</div>

  </div>

        </section>


        <section id="types" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#types">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
Types
          </h1>
          <div class="types-list">
<section class="detail" id="t:access/0">

  <div class="detail-header">
    <a href="#t:access/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type access() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>access() :: read | read_write.</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:auto_save/0">

  <div class="detail-header">
    <a href="#t:auto_save/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type auto_save() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>auto_save() :: infinity | non_neg_integer().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:bindings_cont/0">

  <div class="detail-header">
    <a href="#t:bindings_cont/0" class="detail-link" title="Link to this opaque">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this opaque</span>
    </a>
    <h1 class="signature">-type bindings_cont() :: term().</h1>


      <span class="note">(opaque)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>bindings_cont()</pre>

      </div>

<p>Opaque continuation used by <a href="#match/1"><code>match/1</code></a> and <a href="#match/3"><code>match/3</code></a>.</p>
  </section>
</section>
<section class="detail" id="t:cont/0">

  <div class="detail-header">
    <a href="#t:cont/0" class="detail-link" title="Link to this opaque">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this opaque</span>
    </a>
    <h1 class="signature">-type cont() :: term().</h1>


      <span class="note">(opaque)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>cont()</pre>

      </div>

<p>Opaque continuation used by <a href="#bchunk/2"><code>bchunk/2</code></a>.</p>
  </section>
</section>
<section class="detail" id="t:keypos/0">

  <div class="detail-header">
    <a href="#t:keypos/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type keypos() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>keypos() :: pos_integer().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:match_spec/0">

  <div class="detail-header">
    <a href="#t:match_spec/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type match_spec() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>match_spec() :: <a href="ets.html#t:match_spec/0">ets:match_spec</a>().</pre>

      </div>

<p>Match specifications, see section Match Specification in Erlang in ERTS User's Guide and the <a href="ms_transform.html"><code>ms_transform(3)</code></a> module.</p>
  </section>
</section>
<section class="detail" id="t:no_slots/0">

  <div class="detail-header">
    <a href="#t:no_slots/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type no_slots() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>no_slots() :: default | non_neg_integer().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:object/0">

  <div class="detail-header">
    <a href="#t:object/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type object() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>object() :: tuple().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:object_cont/0">

  <div class="detail-header">
    <a href="#t:object_cont/0" class="detail-link" title="Link to this opaque">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this opaque</span>
    </a>
    <h1 class="signature">-type object_cont() :: term().</h1>


      <span class="note">(opaque)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>object_cont()</pre>

      </div>

<p>Opaque continuation used by <a href="#match_object/1"><code>match_object/1</code></a> and <a href="#match_object/3"><code>match_object/3</code></a>.</p>
  </section>
</section>
<section class="detail" id="t:pattern/0">

  <div class="detail-header">
    <a href="#t:pattern/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type pattern() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>pattern() :: atom() | tuple().</pre>

      </div>

<p>For a description of patterns, see <a href="ets.html#match/2"><code>ets:match/2</code></a>.</p>
  </section>
</section>
<section class="detail" id="t:select_cont/0">

  <div class="detail-header">
    <a href="#t:select_cont/0" class="detail-link" title="Link to this opaque">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this opaque</span>
    </a>
    <h1 class="signature">-type select_cont() :: term().</h1>


      <span class="note">(opaque)</span>

  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>select_cont()</pre>

      </div>

<p>Opaque continuation used by <a href="#select/1"><code>select/1</code></a> and <a href="#select/3"><code>select/3</code></a>.</p>
  </section>
</section>
<section class="detail" id="t:tab_name/0">

  <div class="detail-header">
    <a href="#t:tab_name/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type tab_name() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>tab_name() :: term().</pre>

      </div>


  </section>
</section>
<section class="detail" id="t:type/0">

  <div class="detail-header">
    <a href="#t:type/0" class="detail-link" title="Link to this type">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this type</span>
    </a>
    <h1 class="signature">-type type() :: term().</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>type() :: bag | duplicate_bag | set.</pre>

      </div>


  </section>
</section>

          </div>
        </section>

        <section id="functions" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#functions">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
Functions
          </h1>
          <div class="functions-list">
<section class="detail" id="all/0">

  <div class="detail-header">
    <a href="#all/0" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">all/0</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>all() -> [<a href="#t:tab_name/0">tab_name</a>()].</pre>

      </div>

<p>Returns a list of the names of all open tables on this node.</p>
  </section>
</section>
<section class="detail" id="bchunk/2">

  <div class="detail-header">
    <a href="#bchunk/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">bchunk/2</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>bchunk(Name, Continuation) -> {Continuation2, Data} | '$end_of_table' | {error, Reason}
          when
              Name :: <a href="#t:tab_name/0">tab_name</a>(),
              Continuation :: start | <a href="#t:cont/0">cont</a>(),
              Continuation2 :: <a href="#t:cont/0">cont</a>(),
              Data :: binary() | tuple(),
              Reason :: term().</pre>

      </div>

<p>Returns a list of objects stored in a table. The exact representation of the returned objects is not public. The lists of data can be used for initializing a table by specifying value <code>bchunk</code> to option <code>format</code> of function <a href="#init_table/3"><code>init_table/3</code></a> The Mnesia application uses this function for copying open tables.</p><p>Unless the table is protected using <code>safe_fixtable/2</code>, calls to <code>bchunk/2</code> do possibly not work as expected if concurrent updates are made to the table.</p><p>The first time <code>bchunk/2</code> is called, an initial continuation, the atom <code>start</code>, must be provided.</p><p><code>bchunk/2</code> returns a tuple <code>{Continuation2, Data}</code>, where <code>Data</code> is a list of objects. <code>Continuation2</code> is another continuation that is to be passed on to a subsequent call to <code>bchunk/2</code>. With a series of calls to <code>bchunk/2</code>, all table objects can be extracted.</p><p><code>bchunk/2</code> returns <code>'$end_of_table'</code> when all objects are returned, or <code>{error, Reason}</code> if an error occurs.</p>
  </section>
</section>
<section class="detail" id="close/1">

  <div class="detail-header">
    <a href="#close/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">close/1</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>close(Name) -> ok | {error, Reason} when Name :: <a href="#t:tab_name/0">tab_name</a>(), Reason :: term().</pre>

      </div>

<p>Closes a table. Only processes that have opened a table are allowed to close it.</p><p>All open tables must be closed before the system is stopped. If an attempt is made to open a table that is not properly closed, Dets automatically tries to repair it.</p>
  </section>
</section>
<section class="detail" id="delete/2">

  <div class="detail-header">
    <a href="#delete/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">delete/2</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>delete(Name, Key) -> ok | {error, Reason} when Name :: <a href="#t:tab_name/0">tab_name</a>(), Key :: term(), Reason :: term().</pre>

      </div>

<p>Deletes all objects with key <code>Key</code> from table <code>Name</code>.</p>
  </section>
</section>
<section class="detail" id="delete_all_objects/1">

  <div class="detail-header">
    <a href="#delete_all_objects/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">delete_all_objects/1</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>delete_all_objects(Name) -> ok | {error, Reason} when Name :: <a href="#t:tab_name/0">tab_name</a>(), Reason :: term().</pre>

      </div>

<p>Deletes all objects from a table in almost constant time. However, if the table if fixed, <code>delete_all_objects(T)</code> is equivalent to <code>match_delete(T, '_')</code>.</p>
  </section>
</section>
<section class="detail" id="delete_object/2">

  <div class="detail-header">
    <a href="#delete_object/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">delete_object/2</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>delete_object(Name, Object) -> ok | {error, Reason}
                 when Name :: <a href="#t:tab_name/0">tab_name</a>(), Object :: <a href="#t:object/0">object</a>(), Reason :: term().</pre>

      </div>

<p>Deletes all instances of a specified object from a table. If a table is of type <code>bag</code> or <code>duplicate_bag</code>, this function can be used to delete only some of the objects with a specified key.</p>
  </section>
</section>
<section class="detail" id="first/1">

  <div class="detail-header">
    <a href="#first/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">first/1</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>first(Name) -> Key | '$end_of_table' when Name :: <a href="#t:tab_name/0">tab_name</a>(), Key :: term().</pre>

      </div>

<p>Returns the first key stored in table <code>Name</code> according to the internal order of the table, or <code>'$end_of_table'</code> if the table is empty.</p><p>Unless the table is protected using <code>safe_fixtable/2</code>, subsequent calls to <a href="#next/2"><code>next/2</code></a> do possibly not work as expected if concurrent updates are made to the table.</p><p>If an error occurs, the process is exited with an error tuple <code>{error, Reason}</code>. The error tuple is not returned, as it cannot be distinguished from a key.</p><p>There are two reasons why <code>first/1</code> and <code>next/2</code> are not to be used: they are not efficient, and they prevent the use of key <code>'$end_of_table'</code>, as this atom is used to indicate the end of the table. If possible, use functions <a href="#match/1"><code>match</code></a>, <a href="#match_object/1"><code>match_object</code></a>, and <a href="#select/1"><code>select</code></a> for traversing tables.</p>
  </section>
</section>
<section class="detail" id="foldl/3">

  <div class="detail-header">
    <a href="#foldl/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">foldl/3</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>foldl(Function, Acc0, Name) -> Acc | {error, Reason}
         when
             Name :: <a href="#t:tab_name/0">tab_name</a>(),
             Function :: fun((Object :: <a href="#t:object/0">object</a>(), AccIn) -> AccOut),
             Acc0 :: term(),
             Acc :: term(),
             AccIn :: term(),
             AccOut :: term(),
             Reason :: term().</pre>

      </div>

<p>Calls <code>Function</code> on successive elements of table <code>Name</code> together with an extra argument <code>AccIn</code>. The table elements are traversed in unspecified order. <code>Function</code> must return a new accumulator that is passed to the next call. <code>Acc0</code> is returned if the table is empty.</p>
  </section>
</section>
<section class="detail" id="foldr/3">

  <div class="detail-header">
    <a href="#foldr/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">foldr/3</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>foldr(Function, Acc0, Name) -> Acc | {error, Reason}
         when
             Name :: <a href="#t:tab_name/0">tab_name</a>(),
             Function :: fun((Object :: <a href="#t:object/0">object</a>(), AccIn) -> AccOut),
             Acc0 :: term(),
             Acc :: term(),
             AccIn :: term(),
             AccOut :: term(),
             Reason :: term().</pre>

      </div>


  </section>
</section>
<section class="detail" id="from_ets/2">

  <div class="detail-header">
    <a href="#from_ets/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">from_ets/2</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>from_ets(Name, EtsTab) -> ok | {error, Reason}
            when Name :: <a href="#t:tab_name/0">tab_name</a>(), EtsTab :: <a href="ets.html#t:tab/0">ets:tab</a>(), Reason :: term().</pre>

      </div>

<p>Deletes all objects of table <code>Name</code> and then inserts all the objects of the ETS table <code>EtsTab</code>. The objects are inserted in unspecified order. As <code>ets:safe_fixtable/2</code> is called, the ETS table must be public or owned by the calling process.</p>
  </section>
</section>
<section class="detail" id="info/1">

  <div class="detail-header">
    <a href="#info/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">info/1</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>info(Name) -> InfoList | undefined
        when
            Name :: <a href="#t:tab_name/0">tab_name</a>(),
            InfoList :: [InfoTuple],
            InfoTuple ::
                {file_size, non_neg_integer()} |
                {filename, <a href="https://wojtekmach.pl/otp_docs/kernel/file.html#t:name/0">file:name</a>()} |
                {keypos, <a href="#t:keypos/0">keypos</a>()} |
                {size, non_neg_integer()} |
                {type, <a href="#t:type/0">type</a>()}.</pre>

      </div>

<p>Returns information about table <code>Name</code> as a list of tuples:</p><ul><li><p><code>{file_size, integer() &gt;= 0}}</code> - The file size, in bytes.</p></li><li><p><code>{filename, </code><a href="https://wojtekmach.pl/otp_docs/kernel/file.html#t:name/0"><code>file:name()</code></a><code>}</code> - The name of the file where objects are stored.</p></li><li><p><code>{keypos, </code><a href="#t:keypos/0"><code>keypos()</code></a><code>}</code> - The key position.</p></li><li><p><code>{size, integer() &gt;= 0}</code> - The number of objects stored in the table.</p></li><li><p><code>{type, </code><a href="#t:type/0"><code>type()</code></a><code>}</code> - The table type.</p></li></ul>
  </section>
</section>
<section class="detail" id="info/2">

  <div class="detail-header">
    <a href="#info/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">info/2</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>info(Name, Item) -> Value | undefined
        when
            Name :: <a href="#t:tab_name/0">tab_name</a>(),
            Item ::
                access | auto_save | bchunk_format | hash | file_size | filename | keypos |
                memory | no_keys | no_objects | no_slots | owner | ram_file | safe_fixed |
                safe_fixed_monotonic_time | size | type,
            Value :: term().</pre>

      </div>

<p>Returns the information associated with <code>Item</code> for table <code>Name</code>. In addition to the <code>{Item, Value}</code> pairs defined for <a href="#info/1"><code>info/1</code></a>, the following items are allowed:</p><ul><li><p><code>{access, </code><a href="#t:access/0"><code>access()</code></a><code>}</code> - The access mode.</p></li><li><p><code>{auto_save, </code><a href="#t:auto_save/0"><code>auto_save()</code></a><code>}</code> - The autosave interval.</p></li><li><p><code>{bchunk_format, binary()}</code> - An opaque binary describing the format of the objects returned by <code>bchunk/2</code>. The binary can be used as argument to <code>is_compatible_chunk_format/2</code>.</p></li><li><p><code>{hash, Hash}</code> - Describes which BIF is used to calculate the hash values of the objects stored in the Dets table. Possible values of <code>Hash</code>:</p><ul><li><p><code>phash</code> - Implies that the <code>erlang:phash/2</code> BIF is used.</p></li><li><p><code>phash2</code> - Implies that the <code>erlang:phash2/1</code> BIF is used.</p></li></ul></li><li><p><code>{memory, integer() &gt;= 0}</code> - The file size, in bytes. The same value is associated with item <code>file_size</code>.</p></li><li><p><code>{no_keys, integer &gt;= 0()}</code> - The number of different keys stored in the table.</p></li><li><p><code>{no_objects, integer &gt;= 0()}</code> - The number of objects stored in the table.</p></li><li><p><code>{no_slots, {Min, Used, Max}}</code> - The number of slots of the table. <code>Min</code> is the minimum number of slots, <code>Used</code> is the number of currently used slots, and <code>Max</code> is the maximum number of slots.</p></li><li><p><code>{owner, pid()}</code> - The pid of the process that handles requests to the Dets table.</p></li><li><p><code>{ram_file, boolean()}</code> - Whether the table is kept in RAM.</p></li><li><p><code>{safe_fixed_monotonic_time, SafeFixed}</code> - If the table is fixed, <code>SafeFixed</code> is a tuple <code>{FixedAtTime, [{Pid,RefCount}]}</code>. <code>FixedAtTime</code> is the time when the table was first fixed, and <code>Pid</code> is the pid of the process that fixes the table <code>RefCount</code> times. There can be any number of processes in the list. If the table is not fixed, <code>SafeFixed</code> is the atom <code>false</code>.</p><p><code>FixedAtTime</code> corresponds to the result returned by <a href="https://wojtekmach.pl/otp_docs/erts/erlang.html#monotonic_time/0"><code>erlang:monotonic_time/0</code></a> at the time of fixation. The use of <code>safe_fixed_monotonic_time</code> is time warp safe.</p></li><li><p><code>{safe_fixed, SafeFixed}</code> - The same as <code>{safe_fixed_monotonic_time, SafeFixed}</code> except the format and value of <code>FixedAtTime</code>.</p><p><code>FixedAtTime</code> corresponds to the result returned by <a href="https://wojtekmach.pl/otp_docs/erts/erlang.html#timestamp/0"><code>erlang:timestamp/0</code></a> at the time of fixation. Notice that when the system uses single or multi time warp modes, this can produce strange results. This is because the use of <code>safe_fixed</code> is not time warp safe. Time warp safe code must use <code>safe_fixed_monotonic_time</code> instead.</p></li></ul>
  </section>
</section>
<section class="detail" id="init_table/2">

  <div class="detail-header">
    <a href="#init_table/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">init_table/2</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>init_table(Name, InitFun) -> ok | {error, Reason}
              when
                  Name :: <a href="#t:tab_name/0">tab_name</a>(),
                  InitFun :: fun((Arg) -> Res),
                  Arg :: read | close,
                  Res :: end_of_input | {[<a href="#t:object/0">object</a>()], InitFun} | {Data, InitFun} | term(),
                  Reason :: term(),
                  Data :: binary() | tuple().</pre>

      </div>

<p>Replaces the existing objects of table <code>Name</code> with objects created by calling the input function <code>InitFun</code>, see below. The reason for using this function rather than calling <code>insert/2</code> is that of efficiency. Notice that the input functions are called by the process that handles requests to the Dets table, not by the calling process.</p><p>When called with argument <code>read</code>, function <code>InitFun</code> is assumed to return <code>end_of_input</code> when there is no more input, or <code>{Objects, Fun}</code>, where <code>Objects</code> is a list of objects and <code>Fun</code> is a new input function. Any other value <code>Value</code> is returned as an error <code>{error, {init_fun, Value}}</code>. Each input function is called exactly once, and if an error occurs, the last function is called with argument <code>close</code>, the reply of which is ignored.</p><p>If the table type is <code>set</code> and more than one object exists with a given key, one of the objects is chosen. This is not necessarily the last object with the given key in the sequence of objects returned by the input functions. Avoid duplicate keys, otherwise the file becomes unnecessarily fragmented. This holds also for duplicated objects stored in tables of type <code>bag</code>.</p><p>It is important that the table has a sufficient number of slots for the objects. If not, the hash list starts to grow when <code>init_table/2</code> returns, which significantly slows down access to the table for a period of time. The minimum number of slots is set by the <code>open_file/2</code> option <code>min_no_slots</code> and returned by the <code>info/2</code> item <code>no_slots</code>. See also option <code>min_no_slots</code> below.</p><p>Argument <code>Options</code> is a list of <code>{Key, Val}</code> tuples, where the following values are allowed:</p><ul><li><p><code>{min_no_slots, no_slots()}</code> - Specifies the estimated number of different keys to be stored in the table. The <code>open_file/2</code> option with the same name is ignored, unless the table is created, in which case performance can be enhanced by supplying an estimate when initializing the table.</p></li><li><p><code>{format, Format}</code> - Specifies the format of the objects returned by function <code>InitFun</code>. If <code>Format</code> is <code>term</code> (the default), <code>InitFun</code> is assumed to return a list of tuples. If <code>Format</code> is <code>bchunk</code>, <code>InitFun</code> is assumed to return <code>Data</code> as returned by <a href="#bchunk/2"><code>bchunk/2</code></a>. This option overrides option <code>min_no_slots</code>.</p></li></ul>
  </section>
</section>
<section class="detail" id="init_table/3">

  <div class="detail-header">
    <a href="#init_table/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">init_table/3</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>init_table(Name, InitFun, Options) -> ok | {error, Reason}
              when
                  Name :: <a href="#t:tab_name/0">tab_name</a>(),
                  InitFun :: fun((Arg) -> Res),
                  Arg :: read | close,
                  Res :: end_of_input | {[<a href="#t:object/0">object</a>()], InitFun} | {Data, InitFun} | term(),
                  Options :: Option | [Option],
                  Option :: {min_no_slots, <a href="#t:no_slots/0">no_slots</a>()} | {format, term | bchunk},
                  Reason :: term(),
                  Data :: binary() | tuple().</pre>

      </div>


  </section>
</section>
<section class="detail" id="insert/2">

  <div class="detail-header">
    <a href="#insert/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">insert/2</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>insert(Name, Objects) -> ok | {error, Reason}
          when Name :: <a href="#t:tab_name/0">tab_name</a>(), Objects :: <a href="#t:object/0">object</a>() | [<a href="#t:object/0">object</a>()], Reason :: term().</pre>

      </div>

<p>Inserts one or more objects into the table <code>Name</code>. If there already exists an object with a key matching the key of some of the given objects and the table type is <code>set</code>, the old object will be replaced.</p>
  </section>
</section>
<section class="detail" id="insert_new/2">

  <div class="detail-header">
    <a href="#insert_new/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">insert_new/2</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>insert_new(Name, Objects) -> boolean() | {error, Reason}
              when Name :: <a href="#t:tab_name/0">tab_name</a>(), Objects :: <a href="#t:object/0">object</a>() | [<a href="#t:object/0">object</a>()], Reason :: term().</pre>

      </div>

<p>Inserts one or more objects into table <code>Name</code>. If there already exists some object with a key matching the key of any of the specified objects, the table is not updated and <code>false</code> is returned. Otherwise the objects are inserted and <code>true</code> returned.</p>
  </section>
</section>
<section class="detail" id="is_compatible_bchunk_format/2">

  <div class="detail-header">
    <a href="#is_compatible_bchunk_format/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">is_compatible_bchunk_format/2</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>is_compatible_bchunk_format(Name, BchunkFormat) -> boolean()
                               when Name :: <a href="#t:tab_name/0">tab_name</a>(), BchunkFormat :: binary().</pre>

      </div>

<p>Returns <code>true</code> if it would be possible to initialize table <code>Name</code>, using <a href="#init_table/3"><code>init_table/3</code></a> with option <code>{format,Â bchunk}</code>, with objects read with <a href="#bchunk/2"><code>bchunk/2</code></a> from some table <code>T</code>, such that calling <code>info(T,Â bchunk_format)</code> returns <code>BchunkFormat</code>.</p>
  </section>
</section>
<section class="detail" id="is_dets_file/1">

  <div class="detail-header">
    <a href="#is_dets_file/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">is_dets_file/1</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>is_dets_file(Filename) -> boolean() | {error, Reason}
                when Filename :: <a href="https://wojtekmach.pl/otp_docs/kernel/file.html#t:name/0">file:name</a>(), Reason :: term().</pre>

      </div>

<p>Returns <code>true</code> if file <code>Filename</code> is a Dets table, otherwise <code>false</code>.</p>
  </section>
</section>
<section class="detail" id="lookup/2">

  <div class="detail-header">
    <a href="#lookup/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">lookup/2</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>lookup(Name, Key) -> Objects | {error, Reason}
          when Name :: <a href="#t:tab_name/0">tab_name</a>(), Key :: term(), Objects :: [<a href="#t:object/0">object</a>()], Reason :: term().</pre>

      </div>

<p>Returns a list of all objects with key <code>Key</code> stored in table <code>Name</code>, for example:</p><pre><code class="makeup erlang"><span class="mi">2</span><span class="o">&gt;</span><span class="w"> </span><span class="nc">dets</span><span class="p">:</span><span class="nf">open_file</span><span class="p" data-group-id="2901275888-1">(</span><span class="ss">abc</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2901275888-2">[</span><span class="p" data-group-id="2901275888-3">{</span><span class="ss">type</span><span class="p">,</span><span class="w"> </span><span class="ss">bag</span><span class="p" data-group-id="2901275888-3">}</span><span class="p" data-group-id="2901275888-2">]</span><span class="p" data-group-id="2901275888-1">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="2901275888-4">{</span><span class="ss">ok</span><span class="p">,</span><span class="ss">abc</span><span class="p" data-group-id="2901275888-4">}</span><span class="w">
</span><span class="mi">3</span><span class="o">&gt;</span><span class="w"> </span><span class="nc">dets</span><span class="p">:</span><span class="nf">insert</span><span class="p" data-group-id="2901275888-5">(</span><span class="ss">abc</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2901275888-6">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p" data-group-id="2901275888-6">}</span><span class="p" data-group-id="2901275888-5">)</span><span class="p">.</span><span class="w">
</span><span class="ss">ok</span><span class="w">
</span><span class="mi">4</span><span class="o">&gt;</span><span class="w"> </span><span class="nc">dets</span><span class="p">:</span><span class="nf">insert</span><span class="p" data-group-id="2901275888-7">(</span><span class="ss">abc</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="2901275888-8">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p" data-group-id="2901275888-8">}</span><span class="p" data-group-id="2901275888-7">)</span><span class="p">.</span><span class="w">
</span><span class="ss">ok</span><span class="w">
</span><span class="mi">5</span><span class="o">&gt;</span><span class="w"> </span><span class="nc">dets</span><span class="p">:</span><span class="nf">lookup</span><span class="p" data-group-id="2901275888-9">(</span><span class="ss">abc</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="2901275888-9">)</span><span class="p">.</span><span class="w">
</span><span class="p" data-group-id="2901275888-10">[</span><span class="p" data-group-id="2901275888-11">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p" data-group-id="2901275888-11">}</span><span class="p">,</span><span class="p" data-group-id="2901275888-12">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p" data-group-id="2901275888-12">}</span><span class="p" data-group-id="2901275888-10">]</span></code></pre><p>If the table type is <code>set</code>, the function returns either the empty list or a list with one object, as there cannot be more than one object with a given key. If the table type is <code>bag</code> or <code>duplicate_bag</code>, the function returns a list of arbitrary length.</p><p>Notice that the order of objects returned is unspecified. In particular, the order in which objects were inserted is not reflected.</p>
  </section>
</section>
<section class="detail" id="match/1">

  <div class="detail-header">
    <a href="#match/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">match/1</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>match(Continuation) -> {[Match], Continuation2} | '$end_of_table' | {error, Reason}
         when
             Continuation :: <a href="#t:bindings_cont/0">bindings_cont</a>(),
             Continuation2 :: <a href="#t:bindings_cont/0">bindings_cont</a>(),
             Match :: [term()],
             Reason :: term().</pre>

      </div>

<p>Matches some objects stored in a table and returns a non-empty list of the bindings matching a specified pattern in some unspecified order. The table, the pattern, and the number of objects that are matched are all defined by <code>Continuation</code>, which has been returned by a previous call to <code>match/1</code> or <code>match/3</code>.</p><p>When all table objects are matched, <code>'$end_of_table'</code> is returned.</p>
  </section>
</section>
<section class="detail" id="match/2">

  <div class="detail-header">
    <a href="#match/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">match/2</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>match(Name, Pattern) -> [Match] | {error, Reason}
         when Name :: <a href="#t:tab_name/0">tab_name</a>(), Pattern :: <a href="#t:pattern/0">pattern</a>(), Match :: [term()], Reason :: term().</pre>

      </div>

<p>Returns for each object of table <code>Name</code> that matches <code>Pattern</code> a list of bindings in some unspecified order. For a description of patterns, see <a href="ets.html#match/2"><code>ets:match/2</code></a>. If the keypos'th element of <code>Pattern</code> is unbound, all table objects are matched. If the keypos'th element is bound, only the objects with the correct key are matched.</p>
  </section>
</section>
<section class="detail" id="match/3">

  <div class="detail-header">
    <a href="#match/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">match/3</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>match(Name, Pattern, N) -> {[Match], Continuation} | '$end_of_table' | {error, Reason}
         when
             Name :: <a href="#t:tab_name/0">tab_name</a>(),
             Pattern :: <a href="#t:pattern/0">pattern</a>(),
             N :: default | non_neg_integer(),
             Continuation :: <a href="#t:bindings_cont/0">bindings_cont</a>(),
             Match :: [term()],
             Reason :: term().</pre>

      </div>

<p>Matches some or all objects of table <code>Name</code> and returns a non-empty list of the bindings that match <code>Pattern</code> in some unspecified order. For a description of patterns, see <a href="ets.html#match/2"><code>ets:match/2</code></a>.</p><p>A tuple of the bindings and a continuation is returned, unless the table is empty, in which case <code>'$end_of_table'</code> is returned. The continuation is to be used when matching further objects by calling <a href="#match/1"><code>match/1</code></a>.</p><p>If the keypos'th element of <code>Pattern</code> is bound, all table objects are matched. If the keypos'th element is unbound, all table objects are matched, <code>N</code> objects at a time, until at least one object matches or the end of the table is reached. The default, indicated by giving <code>N</code> the value <code>default</code>, is to let the number of objects vary depending on the sizes of the objects. All objects with the same key are always matched at the same time, which implies that more than N objects can sometimes be matched.</p><p>The table is always to be protected using <a href="#safe_fixtable/2"><code>safe_fixtable/2</code></a> before calling <code>match/3</code>, otherwise errors can occur when calling <code>match/1</code>.</p>
  </section>
</section>
<section class="detail" id="match_delete/2">

  <div class="detail-header">
    <a href="#match_delete/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">match_delete/2</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>match_delete(Name, Pattern) -> ok | {error, Reason}
                when Name :: <a href="#t:tab_name/0">tab_name</a>(), Pattern :: <a href="#t:pattern/0">pattern</a>(), Reason :: term().</pre>

      </div>

<p>Deletes all objects that match <code>Pattern</code> from table <code>Name</code>. For a description of patterns, see <a href="ets.html#match/2"><code>ets:match/2</code></a>.</p><p>If the keypos'th element of <code>Pattern</code> is bound, only the objects with the correct key are matched.</p>
  </section>
</section>
<section class="detail" id="match_object/1">

  <div class="detail-header">
    <a href="#match_object/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">match_object/1</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>match_object(Continuation) -> {Objects, Continuation2} | '$end_of_table' | {error, Reason}
                when
                    Continuation :: <a href="#t:object_cont/0">object_cont</a>(),
                    Continuation2 :: <a href="#t:object_cont/0">object_cont</a>(),
                    Objects :: [<a href="#t:object/0">object</a>()],
                    Reason :: term().</pre>

      </div>

<p>Returns a non-empty list of some objects stored in a table that match a given pattern in some unspecified order. The table, the pattern, and the number of objects that are matched are all defined by <code>Continuation</code>, which has been returned by a previous call to <code>match_object/1</code> or <code>match_object/3</code>.</p><p>When all table objects are matched, <code>'$end_of_table'</code> is returned.</p>
  </section>
</section>
<section class="detail" id="match_object/2">

  <div class="detail-header">
    <a href="#match_object/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">match_object/2</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>match_object(Name, Pattern) -> Objects | {error, Reason}
                when
                    Name :: <a href="#t:tab_name/0">tab_name</a>(),
                    Pattern :: <a href="#t:pattern/0">pattern</a>(),
                    Objects :: [<a href="#t:object/0">object</a>()],
                    Reason :: term().</pre>

      </div>

<p>Returns a list of all objects of table <code>Name</code> that match <code>Pattern</code> in some unspecified order. For a description of patterns, see <a href="ets.html#match/2"><code>ets:match/2</code></a>.</p><p>If the keypos'th element of <code>Pattern</code> is unbound, all table objects are matched. If the keypos'th element of <code>Pattern</code> is bound, only the objects with the correct key are matched.</p><p>Using the <code>match_object</code> functions for traversing all table objects is more efficient than calling <code>first/1</code> and <code>next/2</code> or <code>slot/2</code>.</p>
  </section>
</section>
<section class="detail" id="match_object/3">

  <div class="detail-header">
    <a href="#match_object/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">match_object/3</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>match_object(Name, Pattern, N) -> {Objects, Continuation} | '$end_of_table' | {error, Reason}
                when
                    Name :: <a href="#t:tab_name/0">tab_name</a>(),
                    Pattern :: <a href="#t:pattern/0">pattern</a>(),
                    N :: default | non_neg_integer(),
                    Continuation :: <a href="#t:object_cont/0">object_cont</a>(),
                    Objects :: [<a href="#t:object/0">object</a>()],
                    Reason :: term().</pre>

      </div>

<p>Matches some or all objects stored in table <code>Name</code> and returns a non-empty list of the objects that match <code>Pattern</code> in some unspecified order. For a description of patterns, see <a href="ets.html#match/2"><code>ets:match/2</code></a>.</p><p>A list of objects and a continuation is returned, unless the table is empty, in which case <code>'$end_of_table'</code> is returned. The continuation is to be used when matching further objects by calling <a href="#match_object/1"><code>match_object/1</code></a>.</p><p>If the keypos'th element of <code>Pattern</code> is bound, all table objects are matched. If the keypos'th element is unbound, all table objects are matched, <code>N</code> objects at a time, until at least one object matches or the end of the table is reached. The default, indicated by giving <code>N</code> the value <code>default</code>, is to let the number of objects vary depending on the sizes of the objects. All matching objects with the same key are always returned in the same reply, which implies that more than N objects can sometimes be returned.</p><p>The table is always to be protected using <a href="#safe_fixtable/2"><code>safe_fixtable/2</code></a> before calling <code>match_object/3</code>, otherwise errors can occur when calling <code>match_object/1</code>.</p>
  </section>
</section>
<section class="detail" id="member/2">

  <div class="detail-header">
    <a href="#member/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">member/2</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>member(Name, Key) -> boolean() | {error, Reason}
          when Name :: <a href="#t:tab_name/0">tab_name</a>(), Key :: term(), Reason :: term().</pre>

      </div>

<p>Works like <a href="#lookup/2"><code>lookup/2</code></a>, but does not return the objects. Returns <code>true</code> if one or more table elements has key <code>Key</code>, otherwise <code>false</code>.</p>
  </section>
</section>
<section class="detail" id="next/2">

  <div class="detail-header">
    <a href="#next/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">next/2</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>next(Name, Key1) -> Key2 | '$end_of_table' when Name :: <a href="#t:tab_name/0">tab_name</a>(), Key1 :: term(), Key2 :: term().</pre>

      </div>

<p>Returns either the key following <code>Key1</code> in table <code>Name</code> according to the internal order of the table, or <code>'$end_of_table'</code> if there is no next key.</p><p>If an error occurs, the process is exited with an error tuple <code>{error, Reason}</code>.</p><p>To find the first key in the table, use <a href="#first/1"><code>first/1</code></a>.</p>
  </section>
</section>
<section class="detail" id="open_file/1">

  <div class="detail-header">
    <a href="#open_file/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">open_file/1</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>open_file(Filename) -> {ok, Reference} | {error, Reason}
             when Filename :: <a href="https://wojtekmach.pl/otp_docs/kernel/file.html#t:name/0">file:name</a>(), Reference :: reference(), Reason :: term().</pre>

      </div>

<p>Opens an existing table. If the table is not properly closed, it is repaired. The returned reference is to be used as the table name. This function is most useful for debugging purposes.</p>
  </section>
</section>
<section class="detail" id="open_file/2">

  <div class="detail-header">
    <a href="#open_file/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">open_file/2</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>open_file(Name, Args) -> {ok, Name} | {error, Reason}
             when
                 Name :: <a href="#t:tab_name/0">tab_name</a>(),
                 Args :: [OpenArg],
                 OpenArg ::
                     {access, <a href="#t:access/0">access</a>()} |
                     {auto_save, <a href="#t:auto_save/0">auto_save</a>()} |
                     {estimated_no_objects, non_neg_integer()} |
                     {file, <a href="https://wojtekmach.pl/otp_docs/kernel/file.html#t:name/0">file:name</a>()} |
                     {max_no_slots, <a href="#t:no_slots/0">no_slots</a>()} |
                     {min_no_slots, <a href="#t:no_slots/0">no_slots</a>()} |
                     {keypos, <a href="#t:keypos/0">keypos</a>()} |
                     {ram_file, boolean()} |
                     {repair, boolean() | force} |
                     {type, <a href="#t:type/0">type</a>()},
                 Reason :: term().</pre>

      </div>

<p>Opens a table. An empty Dets table is created if no file exists.</p><p>The atom <code>Name</code> is the table name. The table name must be provided in all subsequent operations on the table. The name can be used by other processes as well, and many processes can share one table.</p><p>If two processes open the same table by giving the same name and arguments, the table has two users. If one user closes the table, it remains open until the second user closes it.</p><p>Argument <code>Args</code> is a list of <code>{Key, Val}</code> tuples, where the following values are allowed:</p><ul><li><p><code>{access, </code><a href="#t:access/0"><code>access()</code></a><code>}</code> - Existing tables can be opened in read-only mode. A table that is opened in read-only mode is not subjected to the automatic file reparation algorithm if it is later opened after a crash. Defaults to <code>read_write</code>.</p></li><li><p><code>{auto_save, </code><a href="#t:auto_save/0"><code>auto_save()</code></a><code>}</code> - The autosave interval. If the interval is an integer <code>Time</code>, the table is flushed to disk whenever it is not accessed for <code>Time</code> milliseconds. A table that has been flushed requires no reparation when reopened after an uncontrolled emulator halt. If the interval is the atom <code>infinity</code>, autosave is disabled. Defaults to 180000 (3 minutes).</p></li><li><p><code>{estimated_no_objects, </code><a href="#t:no_slots/0"><code>no_slots()</code></a><code>}</code> - Equivalent to option <code>min_no_slots</code>.</p></li><li><p><code>{file, </code><a href="https://wojtekmach.pl/otp_docs/kernel/file.html#t:name/0"><code>file:name()</code></a><code>}</code> - The name of the file to be opened. Defaults to the table name.</p></li><li><p><code>{max_no_slots, </code><a href="#t:no_slots/0"><code>no_slots()</code></a><code>}</code> - The maximum number of slots to be used. Defaults to 32 M, which is the maximal value. Notice that a higher value can increase the table fragmentation, and a smaller value can decrease the fragmentation, at the expense of execution time.</p></li><li><p><code>{min_no_slots, </code><a href="#t:no_slots/0"><code>no_slots()</code></a><code>}</code> - Application performance can be enhanced with this flag by specifying, when the table is created, the estimated number of different keys to be stored in the table. Defaults to 256, which is the minimum value.</p></li><li><p><code>{keypos, </code><a href="#t:keypos/0"><code>keypos()</code></a><code>}</code> - The position of the element of each object to be used as key. Defaults to 1. The ability to explicitly state the key position is most convenient when we want to store Erlang records in which the first position of the record is the name of the record type.</p></li><li><p><code>{ram_file, boolean()}</code> - Whether the table is to be kept in RAM. Keeping the table in RAM can sound like an anomaly, but can enhance the performance of applications that open a table, insert a set of objects, and then close the table. When the table is closed, its contents are written to the disk file. Defaults to <code>false</code>.</p></li><li><p><code>{repair, Value}</code> - <code>Value</code> can be either a <code>boolean()</code> or the atom <code>force</code>. The flag specifies if the Dets server is to invoke the automatic file reparation algorithm. Defaults to <code>true</code>. If <code>false</code> is specified, no attempt is made to repair the file, and <code>{error, {needs_repair, FileName}}</code> is returned if the table must be repaired.</p><p>Value <code>force</code> means that a reparation is made even if the table is properly closed. This is a seldom needed option.</p><p>Option <code>repair</code> is ignored if the table is already open.</p></li><li><p><code>{type, </code><a href="#t:type/0"><code>type()</code></a><code>}</code> - The table type. Defaults to <code>set</code>.</p></li></ul>
  </section>
</section>
<section class="detail" id="pid2name/1">

  <div class="detail-header">
    <a href="#pid2name/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">pid2name/1</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>pid2name(Pid) -> {ok, Name} | undefined when Pid :: pid(), Name :: <a href="#t:tab_name/0">tab_name</a>().</pre>

      </div>

<p>Returns the table name given the pid of a process that handles requests to a table, or <code>undefined</code> if there is no such table.</p><p>This function is meant to be used for debugging only.</p>
  </section>
</section>
<section class="detail" id="repair_continuation/2">

  <div class="detail-header">
    <a href="#repair_continuation/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">repair_continuation/2</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>repair_continuation(Continuation, MatchSpec) -> Continuation2
                       when
                           Continuation :: <a href="#t:select_cont/0">select_cont</a>(),
                           Continuation2 :: <a href="#t:select_cont/0">select_cont</a>(),
                           MatchSpec :: <a href="#t:match_spec/0">match_spec</a>().</pre>

      </div>

<p>This function can be used to restore an opaque continuation returned by <a href="#select/3"><code>select/3</code></a> or <a href="#select/1"><code>select/1</code></a> if the continuation has passed through external term format (been sent between nodes or stored on disk).</p><p>The reason for this function is that continuation terms contain compiled match specifications and therefore are invalidated if converted to external term format. Given that the original match specification is kept intact, the continuation can be restored, meaning it can once again be used in subsequent <code>select/1</code> calls even though it has been stored on disk or on another node.</p><p>For more information and examples, see the <a href="ets.html"><code>ets(3)</code></a> module.</p><div class="note"><p>This function is rarely needed in application code. It is used by application Mnesia to provide distributed <code>select/3</code> and <code>select/1</code> sequences. A normal application would either use Mnesia or keep the continuation from being converted to external format.</p><p>The reason for not having an external representation of compiled match specifications is performance. It can be subject to change in future releases, while this interface remains for backward compatibility.</p></div>
  </section>
</section>
<section class="detail" id="safe_fixtable/2">

  <div class="detail-header">
    <a href="#safe_fixtable/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">safe_fixtable/2</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>safe_fixtable(Name, Fix) -> ok when Name :: <a href="#t:tab_name/0">tab_name</a>(), Fix :: boolean().</pre>

      </div>

<p>If <code>Fix</code> is <code>true</code>, table <code>Name</code> is fixed (once more) by the calling process, otherwise the table is released. The table is also released when a fixing process terminates.</p><p>If many processes fix a table, the table remains fixed until all processes have released it or terminated. A reference counter is kept on a per process basis, and N consecutive fixes require N releases to release the table.</p><p>It is not guaranteed that calls to <code>first/1</code>, <code>next/2</code>, or select and match functions work as expected even if the table is fixed; the limited support for concurrency provided by the <a href="ets.html"><code>ets(3)</code></a> module is not yet provided by Dets. Fixing a table currently only disables resizing of the hash list of the table.</p><p>If objects have been added while the table was fixed, the hash list starts to grow when the table is released, which significantly slows down access to the table for a period of time.</p>
  </section>
</section>
<section class="detail" id="select/1">

  <div class="detail-header">
    <a href="#select/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">select/1</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>select(Continuation) -> {Selection, Continuation2} | '$end_of_table' | {error, Reason}
          when
              Continuation :: <a href="#t:select_cont/0">select_cont</a>(),
              Continuation2 :: <a href="#t:select_cont/0">select_cont</a>(),
              Selection :: [term()],
              Reason :: term().</pre>

      </div>

<p>Applies a match specification to some objects stored in a table and returns a non-empty list of the results. The table, the match specification, and the number of objects that are matched are all defined by <code>Continuation</code>, which is returned by a previous call to <a href="#select/1"><code>select/1</code></a> or <a href="#select/3"><code>select/3</code></a>.</p><p>When all objects of the table have been matched, <code>'$end_of_table'</code> is returned.</p>
  </section>
</section>
<section class="detail" id="select/2">

  <div class="detail-header">
    <a href="#select/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">select/2</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>select(Name, MatchSpec) -> Selection | {error, Reason}
          when
              Name :: <a href="#t:tab_name/0">tab_name</a>(),
              MatchSpec :: <a href="#t:match_spec/0">match_spec</a>(),
              Selection :: [term()],
              Reason :: term().</pre>

      </div>

<p>Returns the results of applying match specification <code>MatchSpec</code> to all or some objects stored in table <code>Name</code>. The order of the objects is not specified. For a description of match specifications, see the ERTS User's Guide.</p><p>If the keypos'th element of <code>MatchSpec</code> is unbound, the match specification is applied to all objects of the table. If the keypos'th element is bound, the match specification is applied to the objects with the correct key(s) only.</p><p>Using the <code>select</code> functions for traversing all objects of a table is more efficient than calling <code>first/1</code> and <code>next/2</code> or <code>slot/2</code>.</p>
  </section>
</section>
<section class="detail" id="select/3">

  <div class="detail-header">
    <a href="#select/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">select/3</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>select(Name, MatchSpec, N) -> {Selection, Continuation} | '$end_of_table' | {error, Reason}
          when
              Name :: <a href="#t:tab_name/0">tab_name</a>(),
              MatchSpec :: <a href="#t:match_spec/0">match_spec</a>(),
              N :: default | non_neg_integer(),
              Continuation :: <a href="#t:select_cont/0">select_cont</a>(),
              Selection :: [term()],
              Reason :: term().</pre>

      </div>

<p>Returns the results of applying match specification <code>MatchSpec</code> to some or all objects stored in table <code>Name</code>. The order of the objects is not specified. For a description of match specifications, see the ERTS User's Guide.</p><p>A tuple of the results of applying the match specification and a continuation is returned, unless the table is empty, in which case <code>'$end_of_table'</code> is returned. The continuation is to be used when matching more objects by calling <a href="#select/1"><code>select/1</code></a>.</p><p>If the keypos'th element of <code>MatchSpec</code> is bound, the match specification is applied to all objects of the table with the correct key(s). If the keypos'th element of <code>MatchSpec</code> is unbound, the match specification is applied to all objects of the table, <code>N</code> objects at a time, until at least one object matches or the end of the table is reached. The default, indicated by giving <code>N</code> the value <code>default</code>, is to let the number of objects vary depending on the sizes of the objects. All objects with the same key are always handled at the same time, which implies that the match specification can be applied to more than N objects.</p><p>The table is always to be protected using <a href="#safe_fixtable/2"><code>safe_fixtable/2</code></a> before calling <code>select/3</code>, otherwise errors can occur when calling <code>select/1</code>.</p>
  </section>
</section>
<section class="detail" id="select_delete/2">

  <div class="detail-header">
    <a href="#select_delete/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">select_delete/2</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>select_delete(Name, MatchSpec) -> N | {error, Reason}
                 when
                     Name :: <a href="#t:tab_name/0">tab_name</a>(),
                     MatchSpec :: <a href="#t:match_spec/0">match_spec</a>(),
                     N :: non_neg_integer(),
                     Reason :: term().</pre>

      </div>

<p>Deletes each object from table <code>Name</code> such that applying match specification <code>MatchSpec</code> to the object returns value <code>true</code>. For a description of match specifications, see the ERTS User's Guide. Returns the number of deleted objects.</p><p>If the keypos'th element of <code>MatchSpec</code> is bound, the match specification is applied to the objects with the correct key(s) only.</p>
  </section>
</section>
<section class="detail" id="slot/2">

  <div class="detail-header">
    <a href="#slot/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">slot/2</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>slot(Name, I) -> '$end_of_table' | Objects | {error, Reason}
        when Name :: <a href="#t:tab_name/0">tab_name</a>(), I :: non_neg_integer(), Objects :: [<a href="#t:object/0">object</a>()], Reason :: term().</pre>

      </div>

<p>The objects of a table are distributed among slots, starting with slot <code>0</code> and ending with slot <code>n</code>. Returns the list of objects associated with slot <code>I</code>. If <code>I</code> &gt; <code>n</code>, <code>'$end_of_table'</code> is returned.</p>
  </section>
</section>
<section class="detail" id="sync/1">

  <div class="detail-header">
    <a href="#sync/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">sync/1</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>sync(Name) -> ok | {error, Reason} when Name :: <a href="#t:tab_name/0">tab_name</a>(), Reason :: term().</pre>

      </div>

<p>Ensures that all updates made to table <code>Name</code> are written to disk. This also applies to tables that have been opened with flag <code>ram_file</code> set to <code>true</code>. In this case, the contents of the RAM file are flushed to disk.</p><p>Notice that the space management data structures kept in RAM, the buddy system, is also written to the disk. This can take some time if the table is fragmented.</p>
  </section>
</section>
<section class="detail" id="table/1">

  <div class="detail-header">
    <a href="#table/1" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">table/1</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>table(Name) -> QueryHandle when Name :: <a href="#t:tab_name/0">tab_name</a>(), QueryHandle :: <a href="qlc.html#t:query_handle/0">qlc:query_handle</a>().</pre>

      </div>

<p>Returns a Query List Comprehension (QLC) query handle. The <a href="qlc.html"><code>qlc(3)</code></a> module provides a query language aimed mainly for Mnesia, but ETS tables, Dets tables, and lists are also recognized by <code>qlc</code> as sources of data. Calling <a href="#table/1"><code>dets:table/1,2</code></a> is the means to make Dets table <code>Name</code> usable to <code>qlc</code>.</p><p>When there are only simple restrictions on the key position, <code>qlc</code> uses <a href="#lookup/2"><code>dets:lookup/2</code></a> to look up the keys. When that is not possible, the whole table is traversed. Option <code>traverse</code> determines how this is done:</p><ul><li><p><code>first_next</code> - The table is traversed one key at a time by calling <code>dets:first/1</code> and <code>dets:next/2</code>.</p></li><li><p><code>select</code> - The table is traversed by calling <a href="#select/3"><code>dets:select/3</code></a> and <a href="#select/1"><code>dets:select/1</code></a>. Option <code>n_objects</code> determines the number of objects returned (the third argument of <code>select/3</code>). The match specification (the second argument of <code>select/3</code>) is assembled by <code>qlc</code>:</p><ul><li><p>Simple filters are translated into equivalent match specifications.</p></li><li><p>More complicated filters must be applied to all objects returned by <code>select/3</code> given a match specification that matches all objects.</p></li></ul></li><li><p><code>{select, </code><a href="#t:match_spec/0">match_spec()</a><code>}</code> - As for <code>select</code>, the table is traversed by calling <code>dets:select/3</code> and <code>dets:select/1</code>. The difference is that the match specification is specified explicitly. This is how to state match specifications that cannot easily be expressed within the syntax provided by <code>qlc</code>.</p></li></ul><p>The following example uses an explicit match specification to traverse the table:</p><pre><code class="makeup erlang"><span class="mi">1</span><span class="o">&gt;</span><span class="w"> </span><span class="nc">dets</span><span class="p">:</span><span class="nf">open_file</span><span class="p" data-group-id="1260118566-1">(</span><span class="ss">t</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1260118566-2">[</span><span class="p" data-group-id="1260118566-2">]</span><span class="p" data-group-id="1260118566-1">)</span><span class="p">,</span><span class="w">
</span><span class="ss">ok</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">dets</span><span class="p">:</span><span class="nf">insert</span><span class="p" data-group-id="1260118566-3">(</span><span class="ss">t</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1260118566-4">[</span><span class="p" data-group-id="1260118566-5">{</span><span class="mi">1</span><span class="p">,</span><span class="ss">a</span><span class="p" data-group-id="1260118566-5">}</span><span class="p">,</span><span class="p" data-group-id="1260118566-6">{</span><span class="mi">2</span><span class="p">,</span><span class="ss">b</span><span class="p" data-group-id="1260118566-6">}</span><span class="p">,</span><span class="p" data-group-id="1260118566-7">{</span><span class="mi">3</span><span class="p">,</span><span class="ss">c</span><span class="p" data-group-id="1260118566-7">}</span><span class="p">,</span><span class="p" data-group-id="1260118566-8">{</span><span class="mi">4</span><span class="p">,</span><span class="ss">d</span><span class="p" data-group-id="1260118566-8">}</span><span class="p" data-group-id="1260118566-4">]</span><span class="p" data-group-id="1260118566-3">)</span><span class="p">,</span><span class="w">
</span><span class="n">MS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">ets</span><span class="p">:</span><span class="nf">fun2ms</span><span class="p" data-group-id="1260118566-9">(</span><span class="nf">fun</span><span class="p" data-group-id="1260118566-10">(</span><span class="p" data-group-id="1260118566-11">{</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p" data-group-id="1260118566-11">}</span><span class="p" data-group-id="1260118566-10">)</span><span class="w"> </span><span class="nf">when</span><span class="w"> </span><span class="p" data-group-id="1260118566-12">(</span><span class="n">X</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="1260118566-12">)</span><span class="w"> </span><span class="nf">or</span><span class="w"> </span><span class="p" data-group-id="1260118566-13">(</span><span class="n">X</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="p" data-group-id="1260118566-13">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="p" data-group-id="1260118566-14">{</span><span class="n">Y</span><span class="p" data-group-id="1260118566-14">}</span><span class="w"> </span><span class="k">end</span><span class="p" data-group-id="1260118566-9">)</span><span class="p">,</span><span class="w">
</span><span class="n">QH1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">dets</span><span class="p">:</span><span class="nf">table</span><span class="p" data-group-id="1260118566-15">(</span><span class="ss">t</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1260118566-16">[</span><span class="p" data-group-id="1260118566-17">{</span><span class="ss">traverse</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="1260118566-18">{</span><span class="ss">select</span><span class="p">,</span><span class="w"> </span><span class="n">MS</span><span class="p" data-group-id="1260118566-18">}</span><span class="p" data-group-id="1260118566-17">}</span><span class="p" data-group-id="1260118566-16">]</span><span class="p" data-group-id="1260118566-15">)</span><span class="p">.</span></code></pre><p>An example with implicit match specification:</p><pre><code class="makeup erlang"><span class="mi">2</span><span class="o">&gt;</span><span class="w"> </span><span class="n">QH2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">qlc</span><span class="p">:</span><span class="nf">q</span><span class="p" data-group-id="8582341351-1">(</span><span class="p" data-group-id="8582341351-2">[</span><span class="p" data-group-id="8582341351-3">{</span><span class="n">Y</span><span class="p" data-group-id="8582341351-3">}</span><span class="w"> </span><span class="p">||</span><span class="w"> </span><span class="p" data-group-id="8582341351-4">{</span><span class="n">X</span><span class="p">,</span><span class="n">Y</span><span class="p" data-group-id="8582341351-4">}</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nc">dets</span><span class="p">:</span><span class="nf">table</span><span class="p" data-group-id="8582341351-5">(</span><span class="ss">t</span><span class="p" data-group-id="8582341351-5">)</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="8582341351-6">(</span><span class="n">X</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span><span class="p" data-group-id="8582341351-6">)</span><span class="w"> </span><span class="nf">or</span><span class="w"> </span><span class="p" data-group-id="8582341351-7">(</span><span class="n">X</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">5</span><span class="p" data-group-id="8582341351-7">)</span><span class="p" data-group-id="8582341351-2">]</span><span class="p" data-group-id="8582341351-1">)</span><span class="p">.</span></code></pre><p>The latter example is equivalent to the former, which can be verified using function <code>qlc:info/1</code>:</p><pre><code class="makeup erlang"><span class="mi">3</span><span class="o">&gt;</span><span class="w"> </span><span class="nc">qlc</span><span class="p">:</span><span class="nf">info</span><span class="p" data-group-id="5331636058-1">(</span><span class="n">QH1</span><span class="p" data-group-id="5331636058-1">)</span><span class="w"> </span><span class="o">=:=</span><span class="w"> </span><span class="nc">qlc</span><span class="p">:</span><span class="nf">info</span><span class="p" data-group-id="5331636058-2">(</span><span class="n">QH2</span><span class="p" data-group-id="5331636058-2">)</span><span class="p">.</span><span class="w">
</span><span class="ss">true</span></code></pre><p><code>qlc:info/1</code> returns information about a query handle. In this case identical information is returned for the two query handles.</p>
  </section>
</section>
<section class="detail" id="table/2">

  <div class="detail-header">
    <a href="#table/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">table/2</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>table(Name, Options) -> QueryHandle
         when
             Name :: <a href="#t:tab_name/0">tab_name</a>(),
             Options :: Option | [Option],
             Option :: {n_objects, Limit} | {traverse, TraverseMethod},
             Limit :: default | pos_integer(),
             TraverseMethod :: first_next | select | {select, <a href="#t:match_spec/0">match_spec</a>()},
             QueryHandle :: <a href="qlc.html#t:query_handle/0">qlc:query_handle</a>().</pre>

      </div>


  </section>
</section>
<section class="detail" id="to_ets/2">

  <div class="detail-header">
    <a href="#to_ets/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">to_ets/2</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>to_ets(Name, EtsTab) -> EtsTab | {error, Reason}
          when Name :: <a href="#t:tab_name/0">tab_name</a>(), EtsTab :: <a href="ets.html#t:tab/0">ets:tab</a>(), Reason :: term().</pre>

      </div>

<p>Inserts the objects of the Dets table <code>Name</code> into the ETS table <code>EtsTab</code>. The order in which the objects are inserted is not specified. The existing objects of the ETS table are kept unless overwritten.</p>
  </section>
</section>
<section class="detail" id="traverse/2">

  <div class="detail-header">
    <a href="#traverse/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">traverse/2</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>traverse(Name, Fun) -> Return | {error, Reason}
            when
                Name :: <a href="#t:tab_name/0">tab_name</a>(),
                Fun :: fun((Object) -> FunReturn),
                Object :: <a href="#t:object/0">object</a>(),
                FunReturn :: continue | {continue, Val} | {done, Value} | OtherValue,
                Return :: [term()] | OtherValue,
                Val :: term(),
                Value :: term(),
                OtherValue :: term(),
                Reason :: term().</pre>

      </div>

<p>Applies <code>Fun</code> to each object stored in table <code>Name</code> in some unspecified order. Different actions are taken depending on the return value of <code>Fun</code>. The following <code>Fun</code> return values are allowed:</p><dl><dt><code>continue</code></dt><dd><p>Continue to perform the traversal. For example, the following function can be used to print the contents of a table:</p><pre><code class="makeup erlang"><span class="nf">fun</span><span class="p" data-group-id="7788143067-1">(</span><span class="n">X</span><span class="p" data-group-id="7788143067-1">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">io</span><span class="p">:</span><span class="nf">format</span><span class="p" data-group-id="7788143067-2">(</span><span class="s">&quot;</span><span class="si">~p</span><span class="si">~n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="p" data-group-id="7788143067-3">[</span><span class="n">X</span><span class="p" data-group-id="7788143067-3">]</span><span class="p" data-group-id="7788143067-2">)</span><span class="p">,</span><span class="w"> </span><span class="ss">continue</span><span class="w"> </span><span class="k">end</span><span class="p">.</span></code></pre></dd><dt><code>{continue, Val}</code></dt><dd><p>Continue the traversal and accumulate <code>Val</code>. The following function is supplied to collect all objects of a table in a list:</p><pre><code class="makeup erlang"><span class="nf">fun</span><span class="p" data-group-id="8881296802-1">(</span><span class="n">X</span><span class="p" data-group-id="8881296802-1">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="p" data-group-id="8881296802-2">{</span><span class="ss">continue</span><span class="p">,</span><span class="w"> </span><span class="n">X</span><span class="p" data-group-id="8881296802-2">}</span><span class="w"> </span><span class="k">end</span><span class="p">.</span></code></pre></dd><dt><code>{done, Value}</code></dt><dd><p>Terminate the traversal and return <code>[Value | Acc]</code>.</p></dd></dl><p>Any other value <code>OtherValue</code> returned by <code>Fun</code> terminates the traversal and is returned immediately.</p>
  </section>
</section>
<section class="detail" id="update_counter/3">

  <div class="detail-header">
    <a href="#update_counter/3" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">update_counter/3</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>update_counter(Name, Key, Increment) -> Result
                  when
                      Name :: <a href="#t:tab_name/0">tab_name</a>(),
                      Key :: term(),
                      Increment :: {Pos, Incr} | Incr,
                      Pos :: integer(),
                      Incr :: integer(),
                      Result :: integer().</pre>

      </div>

<p>Updates the object with key <code>Key</code> stored in table <code>Name</code> of type <code>set</code> by adding <code>Incr</code> to the element at the <code>Pos</code>:th position. The new counter value is returned. If no position is specified, the element directly following the key is updated.</p><p>This functions provides a way of updating a counter, without having to look up an object, update the object by incrementing an element, and insert the resulting object into the table again.</p>
  </section>
</section>

          </div>
        </section>

      <footer class="footer">

        <p>
          <span class="line">
            Built using
            <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener">ExDoc</a> (v0.25.1) for the
            <a href="https://elixir-lang.org" title="Elixir" target="_blank">Elixir programming language</a>.
          </span>
          <span class="line">
            Designed by
            <a href="https://twitter.com/dignifiedquire" target="_blank" rel="noopener" title="@dignifiedquire">Friedel Ziegelmayer</a>.
          </span>
        </p>
        <p>

            <a href="api-reference.html" title="API reference" class="line footer-button">API Reference</a>

          <button class="line footer-button display-shortcuts-help">
            Display keyboard shortcuts
          </button>
          <button class="line footer-button night-mode-toggle">
            Toggle night mode
          </button>
          <button class="line footer-button display-quick-switch">
            Go to a HexDocs package
          </button>
          <button class="line footer-button tooltips-toggle">
            <span class="tooltips-option-disable">Disable tooltips</span>
            <span class="tooltips-option-enable">Enable tooltips</span>
          </button>
        </p>
      </footer>
    </div>
  </div>
</section>
</div>


  </body>
</html>

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.25.1">
    <meta name="project" content="syntax_tools v2.6">

    <title>erl_recomment â€” syntax_tools v2.6</title>
    <link rel="stylesheet" href="dist/erlang-951161c89561e05735a5.css" />

    <script src="dist/sidebar_items-33b0a6fec9.js"></script>

      <script src="docs_config.js"></script>

    <script async src="dist/app-f97730d45ef67f3e6188.js"></script>


  </head>
  <body data-type="modules">
    <script>

      try {
        if (localStorage.getItem('night-mode') === 'true') {
          document.body.classList.add('night-mode');
        }
      } catch (error) { }
    </script>

<div class="main">

<button class="sidebar-button sidebar-toggle">
  <span class="icon-menu" title="Collapse/expand sidebar"></span>
</button>

<section class="sidebar">
  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button" aria-label="Submit Search">
      <span class="icon-search" aria-hidden="true" title="Submit search"></span>
    </button>
    <button type="button" tabindex="-1" class="search-close-button" aria-label="Cancel Search">
      <span class="icon-cross" aria-hidden="true" title="Cancel search"></span>
    </button>
    <label class="search-label">
      <input name="q" type="text" class="search-input" placeholder="Search..." aria-label="Input your search terms" autocomplete="off" />
    </label>
  </form>

  <div class="autocomplete">
    <div class="autocomplete-results">
    </div>
  </div>

  <div class="sidebar-header">
    <div class="sidebar-projectDetails">
      <a href="api-reference.html" class="sidebar-projectName">
syntax_tools
      </a>
      <strong class="sidebar-projectVersion">
        v2.6
      </strong>
    </div>

  </div>

  <ul class="sidebar-listNav">
    <li><a id="extras-list-link" href="#full-list">Pages</a></li>

      <li><a id="modules-list-link" href="#full-list">Modules</a></li>


  </ul>
  <div class="gradient"></div>
  <ul id="full-list" class="sidebar-fullList"></ul>
</section>

<section class="content">
  <div class="content-outer">
    <div id="content" class="content-inner">

      <h1>
erl_recomment <small class="app-vsn">(syntax_tools v2.6)</small>

      </h1>


        <section id="moduledoc">
<p>Inserting comments into abstract Erlang syntax trees</p><p>This module contains functions for inserting comments, described by position, indentation and text, as attachments on an abstract syntax tree, at the correct places.</p><h2 id="module-data-types" class="section-heading">
  <a href="#module-data-types" class="hover-link"><span class="icon-link" aria-hidden="true"></span></a>
  DATA TYPES
</h2>
<a id="types"></a><dl><dt><a id="type-syntaxTree"></a>syntaxTree() = <a href="erl_syntax.html#type-syntaxTree">erl_syntax:syntaxTree()</a></dt><dd><p></p><p>An abstract syntax tree. See the <a href="erl_syntax.html">erl_syntax</a> module for details.</p></dd></dl>
        </section>


        <section id="summary" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#summary">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
            Summary
          </h1>

  <div class="summary-functions summary">
    <h2>
      <a href="#functions">Functions</a>
    </h2>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#quick_recomment_forms/2">quick_recomment_forms(Tree:: erl_syntax:forms() , Cs::[ erl_comment_scan:comment() ]) -&gt;  erl_syntax:syntaxTree()</a>

  </div>

    <div class="summary-synopsis"><a id="quick_recomment_forms-2"></a><p>Like <a href="#recomment_forms/2">recomment_forms/2</a>, but only inserts top-level comments. Comments within function definitions or declarations (&quot;forms&quot;) are simply ignored.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#recomment_forms/2">recomment_forms(Tree:: erl_syntax:forms() , Cs::[ erl_comment_scan:comment() ]) -&gt;  erl_syntax:syntaxTree()</a>

  </div>

    <div class="summary-synopsis"><a id="recomment_forms-2"></a><p>Attaches comments to the syntax tree/trees representing a program. The given <code>Forms</code> should be a single syntax tree of type <code>form_list</code>, or a list of syntax trees representing &quot;program forms&quot;. The syntax trees must contain valid position information (for details, see <code>recomment_tree/2</code>). The result is a corresponding syntax tree of type <code>form_list</code> in which all comments in the list <code>Comments</code> have been attached at the proper places.</p></div>

</div>
<div class="summary-row">
  <div class="summary-signature">
    <a href="#recomment_tree/2">recomment_tree(Tree:: erl_syntax:syntaxTree() , Cs::[ erl_comment_scan:comment() ]) -&gt; { erl_syntax:syntaxTree() , [ erl_comment_scan:comment() ]}</a>

  </div>

    <div class="summary-synopsis"><a id="recomment_tree-2"></a><p>Attaches comments to a syntax tree. The result is a pair <code>{NewTree, Remainder}</code> where <code>NewTree</code> is the given <code>Tree</code> where comments from the list <code>Comments</code> have been attached at the proper places. <code>Remainder</code> is the list of entries in <code>Comments</code> which have not been inserted, because their line numbers are greater than those of any node in the tree. The entries in <code>Comments</code> are inserted in order; if two comments become attached to the same node, they will appear in the same order in the program text.</p></div>

</div>

  </div>

        </section>


        <section id="functions" class="details-list">
          <h1 class="section-heading">
            <a class="hover-link" href="#functions">
              <span class="icon-link" aria-hidden="true"></span>
              <span class="sr-only">Link to this section</span>
            </a>
Functions
          </h1>
          <div class="functions-list">
<section class="detail" id="quick_recomment_forms/2">

  <div class="detail-header">
    <a href="#quick_recomment_forms/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">quick_recomment_forms(Tree:: erl_syntax:forms() , Cs::[ erl_comment_scan:comment() ]) -&gt;  erl_syntax:syntaxTree()</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>quick_recomment_forms(erl_syntax:forms(), [erl_comment_scan:comment()]) -> erl_syntax:syntaxTree().</pre>

      </div>

<a id="quick_recomment_forms-2"></a><p>Like <a href="#recomment_forms/2">recomment_forms/2</a>, but only inserts top-level comments. Comments within function definitions or declarations (&quot;forms&quot;) are simply ignored.</p>
  </section>
</section>
<section class="detail" id="recomment_forms/2">

  <div class="detail-header">
    <a href="#recomment_forms/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">recomment_forms(Tree:: erl_syntax:forms() , Cs::[ erl_comment_scan:comment() ]) -&gt;  erl_syntax:syntaxTree()</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>recomment_forms(erl_syntax:forms(), [erl_comment_scan:comment()]) -> erl_syntax:syntaxTree().</pre>

      </div>

<a id="recomment_forms-2"></a><p>Attaches comments to the syntax tree/trees representing a program. The given <code>Forms</code> should be a single syntax tree of type <code>form_list</code>, or a list of syntax trees representing &quot;program forms&quot;. The syntax trees must contain valid position information (for details, see <code>recomment_tree/2</code>). The result is a corresponding syntax tree of type <code>form_list</code> in which all comments in the list <code>Comments</code> have been attached at the proper places.</p><p>Assuming <code>Forms</code> represents a program (or any sequence of &quot;program forms&quot;), any comments whose first lines are not directly associated with a specific program form will become standalone comments inserted between the neighbouring program forms. Furthermore, comments whose column position is less than or equal to one will not be attached to a program form that begins at a conflicting line number (this can happen with preprocessor-generated <code>line</code>-attributes).</p><p>If <code>Forms</code> is a syntax tree of some other type than <code>form_list</code>, the comments will be inserted directly using <code>recomment_tree/2</code>, and any comments left over from that process are added as postcomments on the result.</p><p>Entries in <code>Comments</code> represent multi-line comments. For each entry, <code>Line</code> is the line number and <code>Column</code> the left column of the comment (the column of the first comment-introducing &quot;<code>%</code>&quot; character). <code>Indentation</code> is the number of character positions between the last non-whitespace character before the comment (or the left margin) and the left column of the comment. <code>Text</code> is a list of strings representing the consecutive comment lines in top-down order, where each string contains all characters following (but not including) the comment-introducing &quot;<code>%</code>&quot; and up to (but not including) the terminating newline. (Cf. module <code>erl_comment_scan</code>.)</p><p>Evaluation exits with reason <code>{bad_position, Pos}</code> if the associated position information <code>Pos</code> of some subtree in the input does not have a recognizable format, or with reason <code>{bad_tree, L, C}</code> if insertion of a comment at line <code>L</code>, column <code>C</code>, fails because the tree structure is ill-formed.</p><p><em>See also:</em> <a href="erl_comment_scan.html">erl_comment_scan</a>, <a href="#quick_recomment_forms/2">quick_recomment_forms/2</a>, <a href="#recomment_tree/2">recomment_tree/2</a>.</p>
  </section>
</section>
<section class="detail" id="recomment_tree/2">

  <div class="detail-header">
    <a href="#recomment_tree/2" class="detail-link" title="Link to this function">
      <span class="icon-link" aria-hidden="true"></span>
      <span class="sr-only">Link to this function</span>
    </a>
    <h1 class="signature">recomment_tree(Tree:: erl_syntax:syntaxTree() , Cs::[ erl_comment_scan:comment() ]) -&gt; { erl_syntax:syntaxTree() , [ erl_comment_scan:comment() ]}</h1>


  </div>

  <section class="docstring">

      <h2>Specs</h2>
      <div class="specs">

          <pre>recomment_tree(erl_syntax:syntaxTree(), [erl_comment_scan:comment()]) ->
                  {erl_syntax:syntaxTree(), [erl_comment_scan:comment()]}.</pre>

      </div>

<a id="recomment_tree-2"></a><p>Attaches comments to a syntax tree. The result is a pair <code>{NewTree, Remainder}</code> where <code>NewTree</code> is the given <code>Tree</code> where comments from the list <code>Comments</code> have been attached at the proper places. <code>Remainder</code> is the list of entries in <code>Comments</code> which have not been inserted, because their line numbers are greater than those of any node in the tree. The entries in <code>Comments</code> are inserted in order; if two comments become attached to the same node, they will appear in the same order in the program text.</p><p>The nodes of the syntax tree must contain valid position information. This can be single integers, assumed to represent a line number, or 2- or 3-tuples where the first or second element is an integer, in which case the leftmost integer element is assumed to represent the line number. Line numbers less than one are ignored (usually, the default line number for newly created nodes is zero).</p><p>For details on the <code>Line</code>, <code>Column</code> and <code>Indentation</code> fields, and the behaviour in case of errors, see <code>recomment_forms/2</code>.</p><p><em>See also:</em> <a href="#recomment_forms/2">recomment_forms/2</a>.</p>
  </section>
</section>

          </div>
        </section>

      <footer class="footer">

        <p>
          <span class="line">
            Built using
            <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener">ExDoc</a> (v0.25.1) for the
            <a href="https://elixir-lang.org" title="Elixir" target="_blank">Elixir programming language</a>.
          </span>
          <span class="line">
            Designed by
            <a href="https://twitter.com/dignifiedquire" target="_blank" rel="noopener" title="@dignifiedquire">Friedel Ziegelmayer</a>.
          </span>
        </p>
        <p>

            <a href="api-reference.html" title="API reference" class="line footer-button">API Reference</a>

          <button class="line footer-button display-shortcuts-help">
            Display keyboard shortcuts
          </button>
          <button class="line footer-button night-mode-toggle">
            Toggle night mode
          </button>
          <button class="line footer-button display-quick-switch">
            Go to a HexDocs package
          </button>
          <button class="line footer-button tooltips-toggle">
            <span class="tooltips-option-disable">Disable tooltips</span>
            <span class="tooltips-option-enable">Enable tooltips</span>
          </button>
        </p>
      </footer>
    </div>
  </div>
</section>
</div>


  </body>
</html>
